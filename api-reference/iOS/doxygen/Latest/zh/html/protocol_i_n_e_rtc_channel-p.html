<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NERTC iOS SDK: &lt;INERtcChannel&gt;协议 参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NERTC iOS SDK<span id="projectnumber">&#160;V5.9.15</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">实例方法</a> &#124;
<a href="protocol_i_n_e_rtc_channel-p-members.html">所有成员列表</a>  </div>
  <div class="headertitle"><div class="title">&lt;INERtcChannel&gt;协议 参考</div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="protocol_i_n_e_rtc_channel-p.html" title="INERtcChannel 类在指定房间中实现实时音视频功能。通过创建多个 NERtcChannel 对象，用户可以同时加入多个房间。">INERtcChannel</a> 类在指定房间中实现实时音视频功能。通过创建多个 <a class="el" href="interface_n_e_rtc_channel.html">NERtcChannel</a> 对象，用户可以同时加入多个房间。  
 <a href="#details">更多...</a></p>

<p><code>#include &lt;<a class="el" href="_i_n_e_rtc_channel_8h_source.html">INERtcChannel.h</a>&gt;</code></p>
<div class="dynheader">
类 &lt;INERtcChannel&gt; 继承关系图:</div>
<div class="dyncontent">
 <div class="center">
  <img src="protocol_i_n_e_rtc_channel-p.png" usemap="#_3CINERtcChannel_3E_map" alt=""/>
  <map id="_3CINERtcChannel_3E_map" name="_3CINERtcChannel_3E_map">
<area href="interface_n_e_rtc_channel.html" alt="NERtcChannel" shape="rect" coords="0,112,111,136"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
实例方法</h2></td></tr>
<tr class="memitem:aef7e9e016d7849139e843ad707aba0a8" id="r_aef7e9e016d7849139e843ad707aba0a8"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#aef7e9e016d7849139e843ad707aba0a8">destroy</a></td></tr>
<tr class="separator:aef7e9e016d7849139e843ad707aba0a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ba8463a6004f4b40003ed93b6159eda" id="r_a7ba8463a6004f4b40003ed93b6159eda"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a7ba8463a6004f4b40003ed93b6159eda">setChannelDelegate:</a></td></tr>
<tr class="memdesc:a7ba8463a6004f4b40003ed93b6159eda"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置 channel 的回调。  <br /></td></tr>
<tr class="separator:a7ba8463a6004f4b40003ed93b6159eda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7472c18272196618cb81ce9f0774e19" id="r_ad7472c18272196618cb81ce9f0774e19"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#ad7472c18272196618cb81ce9f0774e19">setDelegateQueue:</a></td></tr>
<tr class="memdesc:ad7472c18272196618cb81ce9f0774e19"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置驱动 <a class="el" href="protocol_n_e_rtc_channel_delegate-p.html" title="NERtcChannelDelegate 类监听和报告指定房间的事件和数据。">NERtcChannelDelegate</a> 事件回调队列  <br /></td></tr>
<tr class="separator:ad7472c18272196618cb81ce9f0774e19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af889c230bb9549bdebbaa1b581f80478" id="r_af889c230bb9549bdebbaa1b581f80478"><td class="memItemLeft" align="right" valign="top">(NSString *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#af889c230bb9549bdebbaa1b581f80478">getChannelName</a></td></tr>
<tr class="memdesc:af889c230bb9549bdebbaa1b581f80478"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取当前房间名。  <br /></td></tr>
<tr class="separator:af889c230bb9549bdebbaa1b581f80478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64313a074ae31d3226b21c929f7d93a6" id="r_a64313a074ae31d3226b21c929f7d93a6"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#a83df70dcf09c77d882192bba999a743d">NERtcConnectionStateType</a>)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a64313a074ae31d3226b21c929f7d93a6">connectionState</a></td></tr>
<tr class="memdesc:a64313a074ae31d3226b21c929f7d93a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取当前房间连接状态。  <br /></td></tr>
<tr class="separator:a64313a074ae31d3226b21c929f7d93a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88d293c5e6f1785e8dad111b5858b478" id="r_a88d293c5e6f1785e8dad111b5858b478"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a88d293c5e6f1785e8dad111b5858b478">joinChannelWithToken:completion:</a></td></tr>
<tr class="memdesc:a88d293c5e6f1785e8dad111b5858b478"><td class="mdescLeft">&#160;</td><td class="mdescRight">加入音视频房间。 <br  />
通过本接口可以实现加入音视频房间，加入房间后可以与房间内的其他用户进行音视频通话。  <br /></td></tr>
<tr class="separator:a88d293c5e6f1785e8dad111b5858b478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa674cffccf72207cbb00f20178ca423a" id="r_aa674cffccf72207cbb00f20178ca423a"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#aa674cffccf72207cbb00f20178ca423a">joinChannelWithToken:myUid:completion:</a></td></tr>
<tr class="memdesc:aa674cffccf72207cbb00f20178ca423a"><td class="mdescLeft">&#160;</td><td class="mdescRight">加入音视频房间。 <br  />
通过本接口可以实现加入音视频房间，加入房间后可以与房间内的其他用户进行音视频通话。  <br /></td></tr>
<tr class="separator:aa674cffccf72207cbb00f20178ca423a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a917ce6979d67f55c721ecba8bbce1f61" id="r_a917ce6979d67f55c721ecba8bbce1f61"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a917ce6979d67f55c721ecba8bbce1f61">joinChannelWithToken:myUid:channelOptions:completion:</a></td></tr>
<tr class="memdesc:a917ce6979d67f55c721ecba8bbce1f61"><td class="mdescLeft">&#160;</td><td class="mdescRight">加入音视频房间。 <br  />
通过本接口可以实现加入音视频房间，加入房间后可以与房间内的其他用户进行音视频通话。  <br /></td></tr>
<tr class="separator:a917ce6979d67f55c721ecba8bbce1f61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dc58957c2aaec792558ec411a2eb238" id="r_a2dc58957c2aaec792558ec411a2eb238"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a2dc58957c2aaec792558ec411a2eb238">leaveChannel</a></td></tr>
<tr class="memdesc:a2dc58957c2aaec792558ec411a2eb238"><td class="mdescLeft">&#160;</td><td class="mdescRight">离开音视频房间。 <br  />
通过本接口可以实现挂断或退出通话，并释放本房间内的相关资源。  <br /></td></tr>
<tr class="separator:a2dc58957c2aaec792558ec411a2eb238"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45c2df7b6d207e730c722b56540e588c" id="r_a45c2df7b6d207e730c722b56540e588c"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a45c2df7b6d207e730c722b56540e588c">enableLocalAudio:</a></td></tr>
<tr class="memdesc:a45c2df7b6d207e730c722b56540e588c"><td class="mdescLeft">&#160;</td><td class="mdescRight">开启/关闭本地音频采集和发送。 <br  />
通过本接口可以实现开启或关闭本地语音功能，进行本地音频采集及处理。  <br /></td></tr>
<tr class="separator:a45c2df7b6d207e730c722b56540e588c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bc265f6acb418ab2d24e97ce266e7e4" id="r_a7bc265f6acb418ab2d24e97ce266e7e4"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a7bc265f6acb418ab2d24e97ce266e7e4">enableLocalVideo:</a></td></tr>
<tr class="memdesc:a7bc265f6acb418ab2d24e97ce266e7e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">开启或关闭本地视频的采集与发送。 <br  />
通过本接口可以实现开启或关闭本地视频，不影响接收远端视频。  <br /></td></tr>
<tr class="separator:a7bc265f6acb418ab2d24e97ce266e7e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1399bb614f98dac15e2a99f4bca48a34" id="r_a1399bb614f98dac15e2a99f4bca48a34"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a1399bb614f98dac15e2a99f4bca48a34">enableLocalVideo:streamType:</a></td></tr>
<tr class="memdesc:a1399bb614f98dac15e2a99f4bca48a34"><td class="mdescLeft">&#160;</td><td class="mdescRight">开启或关闭本地视频的采集与发送。 <br  />
通过主流或辅流视频通道进行本地视频流的采集与发送。  <br /></td></tr>
<tr class="separator:a1399bb614f98dac15e2a99f4bca48a34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3803d4ac8c8fb620b68094de06b07998" id="r_a3803d4ac8c8fb620b68094de06b07998"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a3803d4ac8c8fb620b68094de06b07998">enableMediaPub:withMediaType:</a></td></tr>
<tr class="memdesc:a3803d4ac8c8fb620b68094de06b07998"><td class="mdescLeft">&#160;</td><td class="mdescRight">开启或关闭本地媒体流（主流）的发送。 <br  />
该方法用于开始或停止向网络发送本地音频或视频数据。 <br  />
该方法不影响接收或播放远端媒体流，也不会影响本地音频或视频的采集状态。  <br /></td></tr>
<tr class="separator:a3803d4ac8c8fb620b68094de06b07998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a7a9a4e3c3671cd1be5cef051b63758" id="r_a7a7a9a4e3c3671cd1be5cef051b63758"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a7a7a9a4e3c3671cd1be5cef051b63758">enableDualStreamMode:</a></td></tr>
<tr class="memdesc:a7a7a9a4e3c3671cd1be5cef051b63758"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置是否开启视频大小流模式。 <br  />
 通过本接口可以实现设置单流或者双流模式。发送端开启双流模式后，接收端可以选择接收大流还是小流。其中，大流指高分辨率、高码率的视频流，小流指低分辨率、低码率的视频流。  <br /></td></tr>
<tr class="separator:a7a7a9a4e3c3671cd1be5cef051b63758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cd8a3860b5360c50921f21a5bbe5559" id="r_a7cd8a3860b5360c50921f21a5bbe5559"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a7cd8a3860b5360c50921f21a5bbe5559">setVideoStreamLayerCount:</a></td></tr>
<tr class="memdesc:a7cd8a3860b5360c50921f21a5bbe5559"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置是视频流的模式。 <br  />
 通过本接口可以实现设置视频流的模式：单流、双流或者三流。发送端开启多流模式后，接收端可以选择接收对应的流。其中，大流指高分辨率、高码率的视频流，中流指标清分辨率、中码率的视频流，小流指低分辨率、低码率的视频流。  <br /></td></tr>
<tr class="separator:a7cd8a3860b5360c50921f21a5bbe5559"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5ab6ec50583eba647854c9e4044c89a" id="r_ac5ab6ec50583eba647854c9e4044c89a"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#ac5ab6ec50583eba647854c9e4044c89a">setCameraCaptureConfig:</a></td></tr>
<tr class="memdesc:ac5ab6ec50583eba647854c9e4044c89a"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置本地摄像头的视频主流采集配置。 <br  />
通过此接口可以设置本地摄像头采集的主流视频宽度、高度、旋转角度等。  <br /></td></tr>
<tr class="separator:ac5ab6ec50583eba647854c9e4044c89a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a525643cb32af0f3406ab43a8473e66b6" id="r_a525643cb32af0f3406ab43a8473e66b6"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a525643cb32af0f3406ab43a8473e66b6">setCameraCaptureConfig:streamType:</a></td></tr>
<tr class="memdesc:a525643cb32af0f3406ab43a8473e66b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置本地摄像头的视频主流或辅流采集配置。 <br  />
通过此接口可以设置本地摄像头采集的主流或辅流视频宽度、高度、旋转角度等。  <br /></td></tr>
<tr class="separator:a525643cb32af0f3406ab43a8473e66b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aced278fd29e4f41a800936d799686b91" id="r_aced278fd29e4f41a800936d799686b91"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#aced278fd29e4f41a800936d799686b91">setLocalVideoConfig:</a></td></tr>
<tr class="memdesc:aced278fd29e4f41a800936d799686b91"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置视频编码属性。 <br  />
通过此接口可以设置视频主流的编码分辨率、裁剪模式、码率、帧率、带宽受限时的视频编码降级偏好、编码的镜像模式、编码的方向模式参数，详细信息请参考 <a href="https://doc.yunxin.163.com/docs/jcyOTA0ODM/zcwMTY4MzM">设置视频属性</a>。  <br /></td></tr>
<tr class="separator:aced278fd29e4f41a800936d799686b91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acca3441b8644f6b1f1cdfe77b45edf0f" id="r_acca3441b8644f6b1f1cdfe77b45edf0f"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#acca3441b8644f6b1f1cdfe77b45edf0f">setLocalVideoConfig:streamType:</a></td></tr>
<tr class="memdesc:acca3441b8644f6b1f1cdfe77b45edf0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置视频编码属性。 <br  />
通过此接口可以设置视频主流或辅流的编码分辨率、裁剪模式、码率、帧率、带宽受限时的视频编码降级偏好、编码的镜像模式、编码的方向模式参数。  <br /></td></tr>
<tr class="separator:acca3441b8644f6b1f1cdfe77b45edf0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ba8609b61c754ba33dd3603f9291f0b" id="r_a2ba8609b61c754ba33dd3603f9291f0b"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a2ba8609b61c754ba33dd3603f9291f0b">switchCamera</a></td></tr>
<tr class="memdesc:a2ba8609b61c754ba33dd3603f9291f0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">切换前置/后置摄像头。 <br  />
该方法需要在相机启动后调用，例如调用 startPreview 或 joinChannel 后。  <br /></td></tr>
<tr class="separator:a2ba8609b61c754ba33dd3603f9291f0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaac6cde2d26eec5268d42059e1b27d28" id="r_aaac6cde2d26eec5268d42059e1b27d28"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#aaac6cde2d26eec5268d42059e1b27d28">switchCameraWithPosition:</a></td></tr>
<tr class="memdesc:aaac6cde2d26eec5268d42059e1b27d28"><td class="mdescLeft">&#160;</td><td class="mdescRight">指定前置/后置摄像头。 <br  />
该方法需要在相机启动后调用，例如调用 startPreview 或 joinChannel 后。  <br /></td></tr>
<tr class="separator:aaac6cde2d26eec5268d42059e1b27d28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8147c004ce704e3774067be11357fe1f" id="r_a8147c004ce704e3774067be11357fe1f"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a8147c004ce704e3774067be11357fe1f">subscribeRemoteAudio:forUserID:</a></td></tr>
<tr class="memdesc:a8147c004ce704e3774067be11357fe1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">取消或恢复订阅指定远端用户的音频主流。 <br  />
加入房间时，默认订阅所有远端用户的音频主流，您也可以通过此方法取消或恢复订阅指定远端用户的音频主流。  <br /></td></tr>
<tr class="separator:a8147c004ce704e3774067be11357fe1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4ed253b55c747c8c2890fad368e551a" id="r_ad4ed253b55c747c8c2890fad368e551a"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#ad4ed253b55c747c8c2890fad368e551a">subscribeAllRemoteAudio:</a></td></tr>
<tr class="memdesc:ad4ed253b55c747c8c2890fad368e551a"><td class="mdescLeft">&#160;</td><td class="mdescRight">取消或恢复订阅所有远端用户的音频主流。 <br  />
加入房间时，默认订阅所有远端用户的音频主流，即 <code><a class="el" href="protocol_i_n_e_rtc_engine-p.html#a2a674564c41bbd4b5556f08a9d65a558">INERtcEngine#setParameters:</a></code> 方法的 kNERtcKeyAutoSubscribeAudio 参数默认设置为 YES；只有当该参数的设置为 NO 时，此接口的调用才会生效。  <br /></td></tr>
<tr class="separator:ad4ed253b55c747c8c2890fad368e551a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d09091e59acfe0c2897b8f18f860f41" id="r_a1d09091e59acfe0c2897b8f18f860f41"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a1d09091e59acfe0c2897b8f18f860f41">setAudioSubscribeOnlyBy:</a></td></tr>
<tr class="memdesc:a1d09091e59acfe0c2897b8f18f860f41"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置自己的音频只能被房间内指定的人订阅。 <br  />
默认房间所有其他人都可以订阅自己的音频。  <br /></td></tr>
<tr class="separator:a1d09091e59acfe0c2897b8f18f860f41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab501b16e4508344be5389c11226394fd" id="r_ab501b16e4508344be5389c11226394fd"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#ab501b16e4508344be5389c11226394fd">muteLocalAudio:</a></td></tr>
<tr class="memdesc:ab501b16e4508344be5389c11226394fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">开启或关闭本地音频主流的发送。 <br  />
该方法用于向网络发送或取消发送本地音频数据，不影响本地音频的采集状态，也不影响接收或播放远端音频流。  <br /></td></tr>
<tr class="separator:ab501b16e4508344be5389c11226394fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb3b489f5926bd3812e9709d357c0d73" id="r_abb3b489f5926bd3812e9709d357c0d73"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#abb3b489f5926bd3812e9709d357c0d73">enableAudioVolumeIndication:interval:vad:</a></td></tr>
<tr class="memdesc:abb3b489f5926bd3812e9709d357c0d73"><td class="mdescLeft">&#160;</td><td class="mdescRight">启用说话者音量提示。 <br  />
该方法允许 SDK 定期向 App 反馈本地发流用户和瞬时音量最高的远端用户（最多 3 位）的音量相关信息，即当前谁在说话以及说话者的音量。 <br  />
启用该方法后，只要房间内有发流用户，无论是否有人说话，SDK 都会在加入房间后根据预设的时间间隔触发 <code><a class="el" href="protocol_n_e_rtc_engine_delegate_ex-p.html#a64eaae0d054d9e71dd0452c15b35b18d">NERtcEngineDelegateEx#onRemoteAudioVolumeIndication:totalVolume:</a></code> 回调。  <br /></td></tr>
<tr class="separator:abb3b489f5926bd3812e9709d357c0d73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8563cf11b4be079a21d7854b2369c94b" id="r_a8563cf11b4be079a21d7854b2369c94b"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a8563cf11b4be079a21d7854b2369c94b">setupLocalVideoCanvas:</a></td></tr>
<tr class="memdesc:a8563cf11b4be079a21d7854b2369c94b"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置本地用户视图。 <br  />
通过本接口可以实现绑定本地用户和显示视图，并设置本地用户视图在本地显示时的镜像模式和裁减比例，只影响本地用户看到的视频画面。  <br /></td></tr>
<tr class="separator:a8563cf11b4be079a21d7854b2369c94b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade23688425ac543bee53e64e63d97f32" id="r_ade23688425ac543bee53e64e63d97f32"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#ade23688425ac543bee53e64e63d97f32">setLocalRenderScaleMode:</a></td></tr>
<tr class="memdesc:ade23688425ac543bee53e64e63d97f32"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置画布中本地视频画面的显示模式。 <br  />
 通过本接口可以实现设置本地视频画面的适应性，即是否裁剪或缩放。  <br /></td></tr>
<tr class="separator:ade23688425ac543bee53e64e63d97f32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a075252ab6d8eb1776e7206c235a72ca8" id="r_a075252ab6d8eb1776e7206c235a72ca8"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a075252ab6d8eb1776e7206c235a72ca8">setupRemoteVideoCanvas:forUserID:</a></td></tr>
<tr class="memdesc:a075252ab6d8eb1776e7206c235a72ca8"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置远端用户视图。 <br  />
通过本接口可以实现绑定远端用户和显示视图，并设置远端用户视图在本地显示时的镜像模式和裁减比例，只影响本地用户看到的视频画面。  <br /></td></tr>
<tr class="separator:a075252ab6d8eb1776e7206c235a72ca8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00aedd9f7dc343882e83156022bbe1b4" id="r_a00aedd9f7dc343882e83156022bbe1b4"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a00aedd9f7dc343882e83156022bbe1b4">setupRemoteVideoCanvas:forUserID:streamType:</a></td></tr>
<tr class="memdesc:a00aedd9f7dc343882e83156022bbe1b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置远端用户视图。 <br  />
通过本接口可以实现绑定远端用户和显示视图，并设置远端用户视图在本地显示时的镜像模式和裁减比例，只影响本地用户看到的视频画面。  <br /></td></tr>
<tr class="separator:a00aedd9f7dc343882e83156022bbe1b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29a87b34823ca7d9f70d4308a365fc9e" id="r_a29a87b34823ca7d9f70d4308a365fc9e"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a29a87b34823ca7d9f70d4308a365fc9e">setRemoteRenderScaleMode:forUserID:</a></td></tr>
<tr class="memdesc:a29a87b34823ca7d9f70d4308a365fc9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置画布中远端视频画面的显示模式。 <br  />
 通过本接口可以实现设置远端视频画面的适应性，即是否裁剪或缩放。  <br /></td></tr>
<tr class="separator:a29a87b34823ca7d9f70d4308a365fc9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20902faad67ee5f37d731408e3ee9b8f" id="r_a20902faad67ee5f37d731408e3ee9b8f"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a20902faad67ee5f37d731408e3ee9b8f">subscribeRemoteVideo:forUserID:streamType:</a></td></tr>
<tr class="memdesc:a20902faad67ee5f37d731408e3ee9b8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">订阅或取消订阅指定远端用户的视频主流。 <br  />
加入房间后，默认不订阅所有远端用户的视频主流；若您希望看到指定远端用户的视频，可以在监听到对方加入房间或发布视频流之后，通过此方法订阅该用户的视频主流。  <br /></td></tr>
<tr class="separator:a20902faad67ee5f37d731408e3ee9b8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ba47bb8d125bc729ea9991e29bb562f" id="r_a5ba47bb8d125bc729ea9991e29bb562f"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a5ba47bb8d125bc729ea9991e29bb562f">subscribeRemoteVideo:forUserID:streamType:subscribeType:</a></td></tr>
<tr class="memdesc:a5ba47bb8d125bc729ea9991e29bb562f"><td class="mdescLeft">&#160;</td><td class="mdescRight">订阅或取消订阅指定远端用户的视频主流。 <br  />
加入房间后，默认不订阅所有远端用户的视频主流；若您希望看到指定远端用户的视频，可以在监听到对方加入房间或发布视频流之后，通过此方法订阅该用户的视频主流。  <br /></td></tr>
<tr class="separator:a5ba47bb8d125bc729ea9991e29bb562f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a229aa12a960e0acb889a114f5e65840b" id="r_a229aa12a960e0acb889a114f5e65840b"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a229aa12a960e0acb889a114f5e65840b">muteLocalVideo:</a></td></tr>
<tr class="memdesc:a229aa12a960e0acb889a114f5e65840b"><td class="mdescLeft">&#160;</td><td class="mdescRight">取消或恢复发布本端视频主流。 <br  />
调用该方法取消发布本地视频主流后，SDK 不再发送本地视频主流。  <br /></td></tr>
<tr class="separator:a229aa12a960e0acb889a114f5e65840b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfe3a210ad5497982f34ac937355f549" id="r_adfe3a210ad5497982f34ac937355f549"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#adfe3a210ad5497982f34ac937355f549">muteLocalVideo:streamType:</a></td></tr>
<tr class="memdesc:adfe3a210ad5497982f34ac937355f549"><td class="mdescLeft">&#160;</td><td class="mdescRight">取消或恢复发布本地视频。 <br  />
调用该方法取消发布本地视频主流或辅流后，SDK 不再发送本地视频流。  <br /></td></tr>
<tr class="separator:adfe3a210ad5497982f34ac937355f549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdb7c5a0bd78c0ee72f64c7ba56fb564" id="r_acdb7c5a0bd78c0ee72f64c7ba56fb564"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#acdb7c5a0bd78c0ee72f64c7ba56fb564">setExternalVideoSource:streamType:</a></td></tr>
<tr class="memdesc:acdb7c5a0bd78c0ee72f64c7ba56fb564"><td class="mdescLeft">&#160;</td><td class="mdescRight">开启或关闭外部视频源数据输入。 <br  />
通过本接口可以实现创建自定义的外部视频源，您可以选择通过主流或辅流通道传输该外部视频源的数据，但暂不支持同时开启。  <br /></td></tr>
<tr class="separator:acdb7c5a0bd78c0ee72f64c7ba56fb564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa71921d5d35bfe6e186a176f5e65d2a6" id="r_aa71921d5d35bfe6e186a176f5e65d2a6"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#aa71921d5d35bfe6e186a176f5e65d2a6">pushExternalVideoFrame:streamType:</a></td></tr>
<tr class="memdesc:aa71921d5d35bfe6e186a176f5e65d2a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">推送外部视频帧。 <br  />
该方法主动将视频帧数据用 <a class="el" href="interface_n_e_rtc_video_frame.html" title="视频帧信息。">NERtcVideoFrame</a> 类封装后传递给 SDK。  <br /></td></tr>
<tr class="separator:aa71921d5d35bfe6e186a176f5e65d2a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27ccc06e75d17c06ac1ffbc29a017620" id="r_a27ccc06e75d17c06ac1ffbc29a017620"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a27ccc06e75d17c06ac1ffbc29a017620">setClientRole:</a></td></tr>
<tr class="memdesc:a27ccc06e75d17c06ac1ffbc29a017620"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置直播场景下的用户角色。 <br  />
通过本接口可以实现将用户角色在“主播”（kNERtcClientRoleBroadcaster）和“观众“（kNERtcClientRoleAudience）之间的切换，用户加入房间后默认为“主播”。  <br /></td></tr>
<tr class="separator:a27ccc06e75d17c06ac1ffbc29a017620"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a249c9f11d67aed17990838cfea1bf73b" id="r_a249c9f11d67aed17990838cfea1bf73b"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a249c9f11d67aed17990838cfea1bf73b">adjustUserPlaybackSignalVolume:forUserID:</a></td></tr>
<tr class="memdesc:a249c9f11d67aed17990838cfea1bf73b"><td class="mdescLeft">&#160;</td><td class="mdescRight">调节本地播放的指定远端用户的信号音量。 <br  />
通过此接口可以实现在通话过程中随时调节指定远端用户在本地播放的混音音量。  <br /></td></tr>
<tr class="separator:a249c9f11d67aed17990838cfea1bf73b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a060e5c134370de34e9403cbb442ed3e9" id="r_a060e5c134370de34e9403cbb442ed3e9"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a060e5c134370de34e9403cbb442ed3e9">adjustChannelPlaybackSignalVolume:</a></td></tr>
<tr class="memdesc:a060e5c134370de34e9403cbb442ed3e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">调节本地播放的指定房间的所有远端用户的信号音量。 <br  />
通过此接口可以实现在通话过程中随时调节指定房间内的所有远端用户在本地播放的混音音量。  <br /></td></tr>
<tr class="separator:a060e5c134370de34e9403cbb442ed3e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad372209a1b043c1faa3c0f9d2417763f" id="r_ad372209a1b043c1faa3c0f9d2417763f"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#ad372209a1b043c1faa3c0f9d2417763f">enableLocalSubStreamAudio:</a></td></tr>
<tr class="memdesc:ad372209a1b043c1faa3c0f9d2417763f"><td class="mdescLeft">&#160;</td><td class="mdescRight">开启或关闭音频辅流。 <br  />
开启时远端会收到 <code><a class="el" href="protocol_n_e_rtc_channel_delegate-p.html#ae87f73890f67e3670db311ca8bcd3e09">NERtcChannelDelegate#onNERtcChannelUserSubStreamAudioDidStart:</a></code> 回调，关闭时远端会收到 <code><a class="el" href="protocol_n_e_rtc_channel_delegate-p.html#a97ee288f0abd3bd20cb93c66aa3a53b6">NERtcChannelDelegate#onNERtcChannelUserSubStreamAudioDidStop:</a></code> 回调。  <br /></td></tr>
<tr class="separator:ad372209a1b043c1faa3c0f9d2417763f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70687573014a95832b10453666e02125" id="r_a70687573014a95832b10453666e02125"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a70687573014a95832b10453666e02125">subscribeRemoteSubStreamAudio:forUserID:</a></td></tr>
<tr class="memdesc:a70687573014a95832b10453666e02125"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置是否订阅指定远端用户的音频辅流。  <br /></td></tr>
<tr class="separator:a70687573014a95832b10453666e02125"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85bbf5ac77dbf72370581945334f0e52" id="r_a85bbf5ac77dbf72370581945334f0e52"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a85bbf5ac77dbf72370581945334f0e52">muteLocalSubStreamAudio:</a></td></tr>
<tr class="memdesc:a85bbf5ac77dbf72370581945334f0e52"><td class="mdescLeft">&#160;</td><td class="mdescRight">静音或解除静音本地上行的音频辅流。  <br /></td></tr>
<tr class="separator:a85bbf5ac77dbf72370581945334f0e52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace17209d643420b159c42c71bd6ce9e3" id="r_ace17209d643420b159c42c71bd6ce9e3"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#ace17209d643420b159c42c71bd6ce9e3">setupLocalSubStreamVideoCanvas:</a></td></tr>
<tr class="memdesc:ace17209d643420b159c42c71bd6ce9e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置本端用户的视频辅流画布。 <br  />
通过此接口可以实现设置本端用户的辅流显示视图。  <br /></td></tr>
<tr class="separator:ace17209d643420b159c42c71bd6ce9e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab64de331d51728e96d6fff19b2689e18" id="r_ab64de331d51728e96d6fff19b2689e18"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#ab64de331d51728e96d6fff19b2689e18">startScreenCapture:</a></td></tr>
<tr class="memdesc:ab64de331d51728e96d6fff19b2689e18"><td class="mdescLeft">&#160;</td><td class="mdescRight">开启屏幕共享。 <br  />
 通过此接口开启屏幕共享后，屏幕共享内容以视频辅流的形式发送。  <br /></td></tr>
<tr class="separator:ab64de331d51728e96d6fff19b2689e18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3abe3b2a48f5031e546212abf8ccf9cc" id="r_a3abe3b2a48f5031e546212abf8ccf9cc"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a3abe3b2a48f5031e546212abf8ccf9cc">stopScreenCapture</a></td></tr>
<tr class="memdesc:a3abe3b2a48f5031e546212abf8ccf9cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">关闭屏幕共享。 <br  />
 通过此接口可以实现关闭屏幕共享辅流。  <br /></td></tr>
<tr class="separator:a3abe3b2a48f5031e546212abf8ccf9cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3d19e736ac00f3086b5cebf27300069" id="r_ad3d19e736ac00f3086b5cebf27300069"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#ad3d19e736ac00f3086b5cebf27300069">setLocalRenderSubStreamScaleMode:</a></td></tr>
<tr class="memdesc:ad3d19e736ac00f3086b5cebf27300069"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置画布中本地屏幕共享辅流视频画面的显示模式。 <br  />
 通过本接口可以实现设置本地发布的屏幕共享视频画面的适应性，即是否裁剪或缩放。  <br /></td></tr>
<tr class="separator:ad3d19e736ac00f3086b5cebf27300069"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75a6fab7880fd87a3a6b5bb0e531d28e" id="r_a75a6fab7880fd87a3a6b5bb0e531d28e"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a75a6fab7880fd87a3a6b5bb0e531d28e">setupRemoteSubStreamVideoCanvas:forUserID:</a></td></tr>
<tr class="memdesc:a75a6fab7880fd87a3a6b5bb0e531d28e"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置远端用户的视频辅流画布。 <br  />
通过此接口可以实现绑定远端用户和对应辅流的显示视图，即指定某个 uid 使用对应的画布显示。  <br /></td></tr>
<tr class="separator:a75a6fab7880fd87a3a6b5bb0e531d28e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad70471938352eccdc2cb3974f8292dfa" id="r_ad70471938352eccdc2cb3974f8292dfa"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#ad70471938352eccdc2cb3974f8292dfa">subscribeRemoteSubStreamVideo:forUserID:</a></td></tr>
<tr class="memdesc:ad70471938352eccdc2cb3974f8292dfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">订阅或取消订阅远端用户的视频辅流。  <br /></td></tr>
<tr class="separator:ad70471938352eccdc2cb3974f8292dfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2799d69e2b336baee4e4eb9432f33778" id="r_a2799d69e2b336baee4e4eb9432f33778"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a2799d69e2b336baee4e4eb9432f33778">setRemoteRenderSubStreamVideoScaleMode:forUserID:</a></td></tr>
<tr class="memdesc:a2799d69e2b336baee4e4eb9432f33778"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置画布中远端屏幕共享视频画面的显示模式。 <br  />
 通过本接口可以实现设置远端发布的屏幕共享视频画面的适应性，即是否裁剪或缩放。  <br /></td></tr>
<tr class="separator:a2799d69e2b336baee4e4eb9432f33778"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ece200dcad58d943b34ef315351429e" id="r_a3ece200dcad58d943b34ef315351429e"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a3ece200dcad58d943b34ef315351429e">setRemoteHighPriorityAudioStream:forUserID:streamType:</a></td></tr>
<tr class="memdesc:a3ece200dcad58d943b34ef315351429e"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置远端用户音频流的高优先级。 支持在音频自动订阅的情况下，设置某一个远端用户的音频为最高优先级，可以优先听到该用户的音频。  <br /></td></tr>
<tr class="separator:a3ece200dcad58d943b34ef315351429e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26c695746743c73163c00002d06675e6" id="r_a26c695746743c73163c00002d06675e6"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a26c695746743c73163c00002d06675e6">setRangeAudioMode:</a></td></tr>
<tr class="memdesc:a26c695746743c73163c00002d06675e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置范围语音模式  <br /></td></tr>
<tr class="separator:a26c695746743c73163c00002d06675e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadd2173e2cdfa1834158b142d41654ae" id="r_aadd2173e2cdfa1834158b142d41654ae"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#aadd2173e2cdfa1834158b142d41654ae">setRangeAudioTeamID:</a></td></tr>
<tr class="memdesc:aadd2173e2cdfa1834158b142d41654ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置范围语音小队  <br /></td></tr>
<tr class="separator:aadd2173e2cdfa1834158b142d41654ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eabcbb2eeca509e6d252f2301dab4f8" id="r_a6eabcbb2eeca509e6d252f2301dab4f8"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a6eabcbb2eeca509e6d252f2301dab4f8">setAudioRecvRange:conversationalDistance:rollOff:</a></td></tr>
<tr class="memdesc:a6eabcbb2eeca509e6d252f2301dab4f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">引擎 3D 音效算法距离范围设置  <br /></td></tr>
<tr class="separator:a6eabcbb2eeca509e6d252f2301dab4f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b333216ce41f6af09b9af142f023204" id="r_a2b333216ce41f6af09b9af142f023204"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a2b333216ce41f6af09b9af142f023204">updateSelfPosition:</a></td></tr>
<tr class="memdesc:a2b333216ce41f6af09b9af142f023204"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置空间音效中说话者和接收者的空间位置信息。SDK 会根据该方法中的参数计算接收者和说话者之间的相对位置，进而渲染出空间音效。  <br /></td></tr>
<tr class="separator:a2b333216ce41f6af09b9af142f023204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae98f4741be6a52e323153583552ccb35" id="r_ae98f4741be6a52e323153583552ccb35"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#ae98f4741be6a52e323153583552ccb35">enableSpatializerRoomEffects:</a></td></tr>
<tr class="memdesc:ae98f4741be6a52e323153583552ccb35"><td class="mdescLeft">&#160;</td><td class="mdescRight">开启或关闭空间音效的房间混响效果  <br /></td></tr>
<tr class="separator:ae98f4741be6a52e323153583552ccb35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab93f094a5057227b14fb7142accf2563" id="r_ab93f094a5057227b14fb7142accf2563"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#ab93f094a5057227b14fb7142accf2563">setSpatializerRoomProperty:</a></td></tr>
<tr class="memdesc:ab93f094a5057227b14fb7142accf2563"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置空间音效的房间混响属性  <br /></td></tr>
<tr class="separator:ab93f094a5057227b14fb7142accf2563"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a173e952cf8c2c010c6614216f58f3cee" id="r_a173e952cf8c2c010c6614216f58f3cee"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a173e952cf8c2c010c6614216f58f3cee">setSpatializerRenderMode:</a></td></tr>
<tr class="memdesc:a173e952cf8c2c010c6614216f58f3cee"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置空间音效的渲染模式  <br /></td></tr>
<tr class="separator:a173e952cf8c2c010c6614216f58f3cee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c258631d716273a1f388e74e7c23faf" id="r_a2c258631d716273a1f388e74e7c23faf"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a2c258631d716273a1f388e74e7c23faf">initSpatializer</a></td></tr>
<tr class="memdesc:a2c258631d716273a1f388e74e7c23faf"><td class="mdescLeft">&#160;</td><td class="mdescRight">初始化引擎 3D 音效算法  <br /></td></tr>
<tr class="separator:a2c258631d716273a1f388e74e7c23faf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a233534f04be0101163fcd91c6461ebed" id="r_a233534f04be0101163fcd91c6461ebed"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a233534f04be0101163fcd91c6461ebed">enableSpatializer:applyToTeam:</a></td></tr>
<tr class="memdesc:a233534f04be0101163fcd91c6461ebed"><td class="mdescLeft">&#160;</td><td class="mdescRight">开启或关闭空间音效  <br /></td></tr>
<tr class="separator:a233534f04be0101163fcd91c6461ebed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a921f85fc9855b5acf04d8d820efbd659" id="r_a921f85fc9855b5acf04d8d820efbd659"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a921f85fc9855b5acf04d8d820efbd659">setSubscribeAudioBlocklist:uidArray:</a></td></tr>
<tr class="memdesc:a921f85fc9855b5acf04d8d820efbd659"><td class="mdescLeft">&#160;</td><td class="mdescRight">您可以调用该方法指定不订阅的音频流。  <br /></td></tr>
<tr class="separator:a921f85fc9855b5acf04d8d820efbd659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4ba87dcc9061486e5296439c4b1c282" id="r_aa4ba87dcc9061486e5296439c4b1c282"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#aa4ba87dcc9061486e5296439c4b1c282">setSubscribeAudioAllowlist:</a></td></tr>
<tr class="memdesc:aa4ba87dcc9061486e5296439c4b1c282"><td class="mdescLeft">&#160;</td><td class="mdescRight">您可以调用该方法指定只订阅的音频流。  <br /></td></tr>
<tr class="separator:aa4ba87dcc9061486e5296439c4b1c282"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b4c6f620915b220f079b874024fd3c2" id="r_a7b4c6f620915b220f079b874024fd3c2"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a7b4c6f620915b220f079b874024fd3c2">takeLocalSnapshot:callback:</a></td></tr>
<tr class="memdesc:a7b4c6f620915b220f079b874024fd3c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">本地视频画面截图。 <br  />
调用 takeLocalSnapshot 截取本地主流或本地辅流的视频画面，并通过 NERtcTakeSnapshotCallback 的回调返回截图画面的数据。  <br /></td></tr>
<tr class="separator:a7b4c6f620915b220f079b874024fd3c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac62e3c837066f2c08146aadfb7938e15" id="r_ac62e3c837066f2c08146aadfb7938e15"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#ac62e3c837066f2c08146aadfb7938e15">takeRemoteSnapshot:forUserID:callback:</a></td></tr>
<tr class="memdesc:ac62e3c837066f2c08146aadfb7938e15"><td class="mdescLeft">&#160;</td><td class="mdescRight">远端视频画面截图。 <br  />
调用 takeRemoteSnapshot 截取指定 uid 远端主流和远端辅流的视频画面，并通过 NERtcTakeSnapshotCallback 的回调返回截图画面的数据。  <br /></td></tr>
<tr class="separator:ac62e3c837066f2c08146aadfb7938e15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af91d9701a153447bfcc9704809c66e08" id="r_af91d9701a153447bfcc9704809c66e08"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#af91d9701a153447bfcc9704809c66e08">sendSEIMsg:streamChannelType:</a></td></tr>
<tr class="memdesc:af91d9701a153447bfcc9704809c66e08"><td class="mdescLeft">&#160;</td><td class="mdescRight">指定主流或辅流通道发送媒体增强补充信息（SEI）。 <br  />
在本端推流传输音视频流数据同时，发送流媒体补充增强信息来同步一些其他附加信息。当推流方发送 SEI 后，拉流方可通过监听 onRecvSEIMsg 的回调获取 SEI 内容。  <br /></td></tr>
<tr class="separator:af91d9701a153447bfcc9704809c66e08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a409b9dc80cd51aeae7fca960d3ec56ac" id="r_a409b9dc80cd51aeae7fca960d3ec56ac"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a409b9dc80cd51aeae7fca960d3ec56ac">sendSEIMsg:</a></td></tr>
<tr class="memdesc:a409b9dc80cd51aeae7fca960d3ec56ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">通过主流通道发送媒体增强补充信息（SEI）。 <br  />
在本端推流传输音视频流数据同时，发送流媒体补充增强信息来同步一些其他附加信息。当推流方发送 SEI 后，拉流方可通过监听 onRecvSEIMsg 的回调获取 SEI 内容。  <br /></td></tr>
<tr class="separator:a409b9dc80cd51aeae7fca960d3ec56ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56f05e7d58d94f3fba13f7c62ee4d1f3" id="r_a56f05e7d58d94f3fba13f7c62ee4d1f3"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a56f05e7d58d94f3fba13f7c62ee4d1f3">addLiveStreamTask:compeltion:</a></td></tr>
<tr class="memdesc:a56f05e7d58d94f3fba13f7c62ee4d1f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">添加房间内推流任务。 通过此接口可以实现增加一路旁路推流任务；若需推送多路流，则需多次调用该方法。  <br /></td></tr>
<tr class="separator:a56f05e7d58d94f3fba13f7c62ee4d1f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1ed5a03012dcd13429037bd66b47daa" id="r_aa1ed5a03012dcd13429037bd66b47daa"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#aa1ed5a03012dcd13429037bd66b47daa">updateLiveStreamTask:compeltion:</a></td></tr>
<tr class="memdesc:aa1ed5a03012dcd13429037bd66b47daa"><td class="mdescLeft">&#160;</td><td class="mdescRight">更新房间内指定推流任务。 通过此接口可以实现调整指定推流任务的编码参数、画布布局、推流模式等。  <br /></td></tr>
<tr class="separator:aa1ed5a03012dcd13429037bd66b47daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b557c0c34cb5c82adda3cb9de8af996" id="r_a6b557c0c34cb5c82adda3cb9de8af996"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a6b557c0c34cb5c82adda3cb9de8af996">removeLiveStreamTask:compeltion:</a></td></tr>
<tr class="memdesc:a6b557c0c34cb5c82adda3cb9de8af996"><td class="mdescLeft">&#160;</td><td class="mdescRight">删除房间内指定推流任务。  <br /></td></tr>
<tr class="separator:a6b557c0c34cb5c82adda3cb9de8af996"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad15deab9cfec6c184e5fa048d5c7f9f4" id="r_ad15deab9cfec6c184e5fa048d5c7f9f4"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#ad15deab9cfec6c184e5fa048d5c7f9f4">addChannelMediaStatsObserver:</a></td></tr>
<tr class="memdesc:ad15deab9cfec6c184e5fa048d5c7f9f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">注册媒体统计信息观测器。  <br /></td></tr>
<tr class="separator:ad15deab9cfec6c184e5fa048d5c7f9f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ebd75cf060036077b17b85ec524b751" id="r_a6ebd75cf060036077b17b85ec524b751"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a6ebd75cf060036077b17b85ec524b751">removeChannelMediaStatsObserver:</a></td></tr>
<tr class="memdesc:a6ebd75cf060036077b17b85ec524b751"><td class="mdescLeft">&#160;</td><td class="mdescRight">移除指定媒体统计信息观测器。  <br /></td></tr>
<tr class="separator:a6ebd75cf060036077b17b85ec524b751"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae31cd230b637768a88f3a4018ba42aa0" id="r_ae31cd230b637768a88f3a4018ba42aa0"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#ae31cd230b637768a88f3a4018ba42aa0">cleanupChannelMediaStatsObserver</a></td></tr>
<tr class="memdesc:ae31cd230b637768a88f3a4018ba42aa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">清除全部媒体统计信息观测器。  <br /></td></tr>
<tr class="separator:ae31cd230b637768a88f3a4018ba42aa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6dc7643ed6b445da8a986a36c504d95" id="r_aa6dc7643ed6b445da8a986a36c504d95"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#aa6dc7643ed6b445da8a986a36c504d95">startChannelMediaRelay:</a></td></tr>
<tr class="memdesc:aa6dc7643ed6b445da8a986a36c504d95"><td class="mdescLeft">&#160;</td><td class="mdescRight">开始跨房间媒体流转发。  <br /></td></tr>
<tr class="separator:aa6dc7643ed6b445da8a986a36c504d95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a843881c7f07facd6b485286d0089aaf6" id="r_a843881c7f07facd6b485286d0089aaf6"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a843881c7f07facd6b485286d0089aaf6">updateChannelMediaRelay:</a></td></tr>
<tr class="memdesc:a843881c7f07facd6b485286d0089aaf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">更新媒体流转发的目标房间。 <br  />
成功开始跨房间转发媒体流后，如果您希望将流转发到多个目标房间，或退出当前的转发房间，可以调用该方法。  <br /></td></tr>
<tr class="separator:a843881c7f07facd6b485286d0089aaf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8759bca8f7e935bc6fb15b5f276afb66" id="r_a8759bca8f7e935bc6fb15b5f276afb66"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a8759bca8f7e935bc6fb15b5f276afb66">stopChannelMediaRelay</a></td></tr>
<tr class="memdesc:a8759bca8f7e935bc6fb15b5f276afb66"><td class="mdescLeft">&#160;</td><td class="mdescRight">停止跨房间媒体流转发。 <br  />
 通常在主播离开房间时，跨房间媒体流转发会自动停止；您也可以根据需要随时调用该方法，此时主播会退出所有目标房间。  <br /></td></tr>
<tr class="separator:a8759bca8f7e935bc6fb15b5f276afb66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf33dae19c63ccabb277e2fa29ff7fec" id="r_adf33dae19c63ccabb277e2fa29ff7fec"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#adf33dae19c63ccabb277e2fa29ff7fec">pauseChannelMediaRelay</a></td></tr>
<tr class="memdesc:adf33dae19c63ccabb277e2fa29ff7fec"><td class="mdescLeft">&#160;</td><td class="mdescRight">暂停跨房间媒体流转发。  <br /></td></tr>
<tr class="separator:adf33dae19c63ccabb277e2fa29ff7fec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac45ad6e6c1b017a659513e69d6c5d6d7" id="r_ac45ad6e6c1b017a659513e69d6c5d6d7"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#ac45ad6e6c1b017a659513e69d6c5d6d7">resumeChannelMediaRelay</a></td></tr>
<tr class="memdesc:ac45ad6e6c1b017a659513e69d6c5d6d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">恢复跨房间媒体流转发。  <br /></td></tr>
<tr class="separator:ac45ad6e6c1b017a659513e69d6c5d6d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8759bca8f7e935bc6fb15b5f276afb66" id="r_a8759bca8f7e935bc6fb15b5f276afb66"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a8759bca8f7e935bc6fb15b5f276afb66">stopChannelMediaRelay</a></td></tr>
<tr class="memdesc:a8759bca8f7e935bc6fb15b5f276afb66"><td class="mdescLeft">&#160;</td><td class="mdescRight">停止跨房间媒体流转发。 <br  />
 通常在主播离开房间时，跨房间媒体流转发会自动停止；您也可以根据需要随时调用该方法，此时主播会退出所有目标房间。  <br /></td></tr>
<tr class="separator:a8759bca8f7e935bc6fb15b5f276afb66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01ae73868efae4c9b0fb626c5dbd87a5" id="r_a01ae73868efae4c9b0fb626c5dbd87a5"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a01ae73868efae4c9b0fb626c5dbd87a5">setLocalMediaPriority:preemptive:</a></td></tr>
<tr class="memdesc:a01ae73868efae4c9b0fb626c5dbd87a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置本地用户的媒体流优先级。 <br  />
 通过此接口可以实现设置某用户的媒体流优先级为高，从而弱网环境下 SDK 会优先保证其他用户收到的该用户媒体流的质量。  <br /></td></tr>
<tr class="separator:a01ae73868efae4c9b0fb626c5dbd87a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aba0e48eb5f02027c9dbcb3c785ad49" id="r_a3aba0e48eb5f02027c9dbcb3c785ad49"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a3aba0e48eb5f02027c9dbcb3c785ad49">setLocalPublishFallbackOption:</a></td></tr>
<tr class="memdesc:a3aba0e48eb5f02027c9dbcb3c785ad49"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置弱网条件下发布的音视频流回退选项。 <br  />
在网络不理想的环境下，发布的音视频质量都会下降。使用该接口并将 option 设置为 kNERtcStreamFallbackOptionAudioOnly 后:  <br /></td></tr>
<tr class="separator:a3aba0e48eb5f02027c9dbcb3c785ad49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29a6709aa4c296c3d0538aa9d2472c34" id="r_a29a6709aa4c296c3d0538aa9d2472c34"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a29a6709aa4c296c3d0538aa9d2472c34">setRemoteSubscribeFallbackOption:</a></td></tr>
<tr class="memdesc:a29a6709aa4c296c3d0538aa9d2472c34"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置弱网条件下订阅的音视频流回退选项。 <br  />
弱网环境下，订阅的音视频质量会下降。通过该接口设置订阅音视频流的回退选项后：  <br /></td></tr>
<tr class="separator:a29a6709aa4c296c3d0538aa9d2472c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4fd10850a06f9b6083b9f6990d7441f" id="r_ae4fd10850a06f9b6083b9f6990d7441f"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#ae4fd10850a06f9b6083b9f6990d7441f">updatePermissionKey:</a></td></tr>
<tr class="memdesc:ae4fd10850a06f9b6083b9f6990d7441f"><td class="mdescLeft">&#160;</td><td class="mdescRight">更新权限密钥。  <br /></td></tr>
<tr class="separator:ae4fd10850a06f9b6083b9f6990d7441f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4da37100024e9b82a36299da2c96a6f2" id="r_a4da37100024e9b82a36299da2c96a6f2"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a4da37100024e9b82a36299da2c96a6f2">setLocalVideoMosaic:streamType:rect:</a></td></tr>
<tr class="memdesc:a4da37100024e9b82a36299da2c96a6f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置本地视频马赛克效果。 <br  />
通过此接口可以对本地视频流指定区域开启或关闭马赛克（像素化）效果。  <br /></td></tr>
<tr class="separator:a4da37100024e9b82a36299da2c96a6f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3250c4417afda0e6e2076f20108961a" id="r_ac3250c4417afda0e6e2076f20108961a"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#ac3250c4417afda0e6e2076f20108961a">setRemoteVideoMosaic:userId:streamType:rect:</a></td></tr>
<tr class="memdesc:ac3250c4417afda0e6e2076f20108961a"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置远端视频马赛克效果。 <br  />
通过此接口可以对指定远端用户的视频流指定区域开启或关闭马赛克（像素化）效果。  <br /></td></tr>
<tr class="separator:ac3250c4417afda0e6e2076f20108961a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e7d640b7ec78e85a43add1466089216" id="r_a1e7d640b7ec78e85a43add1466089216"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a1e7d640b7ec78e85a43add1466089216">startBlendExternalVideo:blendConfig:</a></td></tr>
<tr class="memdesc:a1e7d640b7ec78e85a43add1466089216"><td class="mdescLeft">&#160;</td><td class="mdescRight">开始外部视频混合处理。 <br  />
通过本方法可在指定视频流通道类型上开启外部视频混合流程，需要传入混合参数配置。  <br /></td></tr>
<tr class="separator:a1e7d640b7ec78e85a43add1466089216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f01c1437e8aee2461d6b2d3a3eb0713" id="r_a2f01c1437e8aee2461d6b2d3a3eb0713"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a2f01c1437e8aee2461d6b2d3a3eb0713">stopBlendExternalVideo:</a></td></tr>
<tr class="memdesc:a2f01c1437e8aee2461d6b2d3a3eb0713"><td class="mdescLeft">&#160;</td><td class="mdescRight">停止外部视频混合处理。 <br  />
调用此方法结束指定视频流通道类型的外部视频混合流程。  <br /></td></tr>
<tr class="separator:a2f01c1437e8aee2461d6b2d3a3eb0713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08ae4175194b8492bd1ed58a4cc686b4" id="r_a08ae4175194b8492bd1ed58a4cc686b4"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a08ae4175194b8492bd1ed58a4cc686b4">pushBlendExternalVideoFrame:frame:</a></td></tr>
<tr class="memdesc:a08ae4175194b8492bd1ed58a4cc686b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">推送外部要混合的视频帧到混合流程中。 <br  />
用于在已开启外部视频混合处理的流程中持续推送待混合的视频帧。  <br /></td></tr>
<tr class="separator:a08ae4175194b8492bd1ed58a4cc686b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc49d9476ed6e33ab55c830db962dcd4" id="r_acc49d9476ed6e33ab55c830db962dcd4"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#acc49d9476ed6e33ab55c830db962dcd4">enableVideoDenoise:streamType:</a></td></tr>
<tr class="memdesc:acc49d9476ed6e33ab55c830db962dcd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">开启视频降噪  <br /></td></tr>
<tr class="separator:acc49d9476ed6e33ab55c830db962dcd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b13ba363bd38ec2603638e1399e9405" id="r_a1b13ba363bd38ec2603638e1399e9405"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#a1b13ba363bd38ec2603638e1399e9405">enableVideoLowlightEnhance:level:streamType:</a></td></tr>
<tr class="memdesc:a1b13ba363bd38ec2603638e1399e9405"><td class="mdescLeft">&#160;</td><td class="mdescRight">开启视频低光环境增强  <br /></td></tr>
<tr class="separator:a1b13ba363bd38ec2603638e1399e9405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc697958a359bc26e9e86b22d838ba87" id="r_adc697958a359bc26e9e86b22d838ba87"><td class="memItemLeft" align="right" valign="top">(int)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="#adc697958a359bc26e9e86b22d838ba87">reportCustomEvent:customIdentify:param:</a></td></tr>
<tr class="memdesc:adc697958a359bc26e9e86b22d838ba87"><td class="mdescLeft">&#160;</td><td class="mdescRight">上报自定义事件  <br /></td></tr>
<tr class="separator:adc697958a359bc26e9e86b22d838ba87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p><a class="el" href="protocol_i_n_e_rtc_channel-p.html" title="INERtcChannel 类在指定房间中实现实时音视频功能。通过创建多个 NERtcChannel 对象，用户可以同时加入多个房间。">INERtcChannel</a> 类在指定房间中实现实时音视频功能。通过创建多个 <a class="el" href="interface_n_e_rtc_channel.html">NERtcChannel</a> 对象，用户可以同时加入多个房间。 </p>
<dl class="section since"><dt>自从</dt><dd>V4.5.0  </dd></dl>
</div><h2 class="groupheader">成员函数文档</h2>
<a id="ad15deab9cfec6c184e5fa048d5c7f9f4" name="ad15deab9cfec6c184e5fa048d5c7f9f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad15deab9cfec6c184e5fa048d5c7f9f4">&#9670;&#160;</a></span>addChannelMediaStatsObserver:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) addChannelMediaStatsObserver: </td>
          <td></td>
          <td class="paramtype">(id&lt; <a class="el" href="protocol_n_e_rtc_channel_media_stats_observer-p.html">NERtcChannelMediaStatsObserver</a> &gt;)</td>          <td class="paramname"><span class="paramname"><em>observer</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>注册媒体统计信息观测器。 </p>
<dl class="section since"><dt>自从</dt><dd>V4.5.0 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">observer</td><td>统计信息观测器。详细信息请参考 <code><a class="el" href="protocol_n_e_rtc_channel_media_stats_observer-p.html">NERtcChannelMediaStatsObserver</a></code>。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>操作返回值，成功则返回 0  </dd></dl>

</div>
</div>
<a id="a56f05e7d58d94f3fba13f7c62ee4d1f3" name="a56f05e7d58d94f3fba13f7c62ee4d1f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56f05e7d58d94f3fba13f7c62ee4d1f3">&#9670;&#160;</a></span>addLiveStreamTask:compeltion:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) addLiveStreamTask: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_e_rtc_live_stream_task_info.html">NERtcLiveStreamTaskInfo</a> *)</td>          <td class="paramname"><span class="paramname"><em>taskInfo</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">compeltion:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_i_n_e_rtc_engine_8h.html#acd79d936d207e0d7da5575e4b447038a">NERtcLiveStreamCompletion</a>)</td>          <td class="paramname"><span class="paramname"><em>completion</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>添加房间内推流任务。 通过此接口可以实现增加一路旁路推流任务；若需推送多路流，则需多次调用该方法。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.5.0 </dd></dl>
<dl class="section user"><dt>使用前提</dt><dd>请先通过 <code><a class="el" href="protocol_i_n_e_rtc_engine-p.html#aeb1ddb3e3ea5c8ddd6c2a9052a596410">INERtcEngine#setChannelProfile:</a></code> 接口设置房间模式为直播模式。 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化之后调用此接口，且该方法仅可在加入房间后调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>仅角色为主播的房间成员能调用此接口，观众成员无相关推流权限。</li>
<li>同一个音视频房间（即同一个 channelId）可以创建 6 个不同的推流任务。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>taskInfo </td><td><a class="el" href="interface_n_e_rtc_live_stream_task_info.html" title="直播推流任务的配置。">NERtcLiveStreamTaskInfo</a> * </td><td>推流任务信息。详细信息请参考 {@ <a class="el" href="interface_n_e_rtc_live_stream_task_info.html" title="直播推流任务的配置。">NERtcLiveStreamTaskInfo</a>}。  </td></tr>
<tr>
<td>compeltion </td><td><code><a class="el" href="_i_n_e_rtc_engine_8h.html#acd79d936d207e0d7da5575e4b447038a">NERtcLiveStreamCompletion</a></code>  </td><td>操作结果回调，方法调用成功后会触发对应的 <code><a class="el" href="protocol_n_e_rtc_engine_live_stream_observer-p.html#a514894a72b79a7f2b3ba5590310a770b">NERtcEngineLiveStreamObserver#onNERTCEngineLiveStreamState:taskID:url:</a></code> 回调。  </td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><a class="code hl_interface" href="interface_n_e_rtc_live_stream_task_info.html">NERtcLiveStreamTaskInfo</a> *info = [[<a class="code hl_interface" href="interface_n_e_rtc_live_stream_task_info.html">NERtcLiveStreamTaskInfo</a> alloc] init];</div>
<div class="line"><span class="comment">//info 的具体参数参考 NERtcLiveStreamTaskInfo 的定义</span></div>
<div class="line">[channel addLiveStreamTask:info compeltion:^(NSString * _Nonnull taskId, <a class="code hl_enumeration" href="_n_e_rtc_engine_error_code_8h.html#a6248a12ea68e068ca62ea149eea2eacd">kNERtcLiveStreamError</a> errorCode){</div>
<div class="line">    }];</div>
<div class="ttc" id="a_n_e_rtc_engine_error_code_8h_html_a6248a12ea68e068ca62ea149eea2eacd"><div class="ttname"><a href="_n_e_rtc_engine_error_code_8h.html#a6248a12ea68e068ca62ea149eea2eacd">kNERtcLiveStreamError</a></div><div class="ttdeci">kNERtcLiveStreamError</div><div class="ttdoc">LiveStream Error Code。 Will be deprecated, please use NERtcError instead</div><div class="ttdef"><b>定义</b> NERtcEngineErrorCode.h:977</div></div>
<div class="ttc" id="ainterface_n_e_rtc_live_stream_task_info_html"><div class="ttname"><a href="interface_n_e_rtc_live_stream_task_info.html">NERtcLiveStreamTaskInfo</a></div><div class="ttdoc">直播推流任务的配置。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:1321</div></div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关回调</dt><dd>调用此接口成功后会触发 <code><a class="el" href="protocol_n_e_rtc_engine_live_stream_observer-p.html#a514894a72b79a7f2b3ba5590310a770b">NERtcEngineLiveStreamObserver#onNERTCEngineLiveStreamState:taskID:url:</a></code> 回调，通知推流任务状态已更新。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功；</li>
<li>其他：方法调用失败。<ul>
<li>403（kNERtcErrChannelReservePermissionDenied）：权限不足，观众模式下不支持此操作。</li>
<li>30003（kNERtcErrInvalidParam）： 参数错误，比如推流任务 ID 参数为空。</li>
<li>30005（kNERtcErrInvalidState）：状态错误，比如引擎尚未初始化。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a060e5c134370de34e9403cbb442ed3e9" name="a060e5c134370de34e9403cbb442ed3e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a060e5c134370de34e9403cbb442ed3e9">&#9670;&#160;</a></span>adjustChannelPlaybackSignalVolume:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) adjustChannelPlaybackSignalVolume: </td>
          <td></td>
          <td class="paramtype">(uint32_t)</td>          <td class="paramname"><span class="paramname"><em>volume</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>调节本地播放的指定房间的所有远端用户的信号音量。 <br  />
通过此接口可以实现在通话过程中随时调节指定房间内的所有远端用户在本地播放的混音音量。 </p>
<dl class="section since"><dt>自从</dt><dd>V4.6.50 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化之后调用此接口，该方法可在加入房间前后调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>该方法设置内部引擎为启用状态，在 leaveChannel 后失效，但在本次通话过程中有效 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>volume </td><td>uint64_t </td><td>播放音量，取值范围为 [0,400]。<ul>
<li>
0：静音。</li>
<li>
100：原始音量。</li>
<li>
400：最大可为原始音量的 4 倍（自带溢出保护）。  </li>
</ul>
</td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><span class="comment">//调整该房间内的的用户在本地的播放音量为 50</span></div>
<div class="line">[channel adjustChannelPlaybackSignalVolume:50];</div>
<div class="line"><span class="comment">//调整该房间内的用户在本地的播放音量为 0，静音该房间</span></div>
<div class="line">[channel adjustChannelPlaybackSignalVolume:0];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal）：状态错误，比如引擎未初始化。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a249c9f11d67aed17990838cfea1bf73b" name="a249c9f11d67aed17990838cfea1bf73b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a249c9f11d67aed17990838cfea1bf73b">&#9670;&#160;</a></span>adjustUserPlaybackSignalVolume:forUserID:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) adjustUserPlaybackSignalVolume: </td>
          <td></td>
          <td class="paramtype">(uint32_t)</td>          <td class="paramname"><span class="paramname"><em>volume</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">forUserID:</td>
          <td></td>
          <td class="paramtype">(uint64_t)</td>          <td class="paramname"><span class="paramname"><em>userID</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>调节本地播放的指定远端用户的信号音量。 <br  />
通过此接口可以实现在通话过程中随时调节指定远端用户在本地播放的混音音量。 </p>
<dl class="section since"><dt>自从</dt><dd>V4.2.1 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化之后调用此接口，且该方法仅可在加入房间后调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>该方法设置内部引擎为启用状态，在 leaveChannel 后失效，但在本次通话过程中有效，比如指定远端用户中途退出房间，则再次加入此房间时仍旧维持该设置。</li>
<li>该方法每次只能调整一位远端用户的播放音量，若需调整多位远端用户在本地播放的音量，则需多次调用该方法。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>参数说明 </dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>userID </td><td>uint64_t </td><td>远端用户 ID。  </td></tr>
<tr>
<td>volume </td><td>uint64_t </td><td>播放音量，取值范围为 0 ~ 400。<ul>
<li>
0：静音。</li>
<li>
100（默认）：原始音量。</li>
<li>
400：最大音量值（自带溢出保护）。  </li>
</ul>
</td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><span class="comment">//调整 uid 为 12345 的用户在本地的播放音量为 50</span></div>
<div class="line">[channel adjustUserPlaybackSignalVolume:50 forUserID:12345];</div>
<div class="line"><span class="comment">//调整 uid 为 12345 的用户在本地的播放音量为 0，静音该用户 </span></div>
<div class="line">[channel adjustUserPlaybackSignalVolume:0 forUserID:12345];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal）：状态错误，比如引擎未初始化。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="ae31cd230b637768a88f3a4018ba42aa0" name="ae31cd230b637768a88f3a4018ba42aa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae31cd230b637768a88f3a4018ba42aa0">&#9670;&#160;</a></span>cleanupChannelMediaStatsObserver</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) cleanupChannelMediaStatsObserver </td>
          <td></td>
          <td class="paramname"><span class="paramname"><em></em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>清除全部媒体统计信息观测器。 </p>
<dl class="section since"><dt>自从</dt><dd>V4.5.0 </dd></dl>
<dl class="section return"><dt>返回</dt><dd>操作返回值，成功则返回 0  </dd></dl>

</div>
</div>
<a id="a64313a074ae31d3226b21c929f7d93a6" name="a64313a074ae31d3226b21c929f7d93a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64313a074ae31d3226b21c929f7d93a6">&#9670;&#160;</a></span>connectionState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="_n_e_rtc_engine_enum_8h.html#a83df70dcf09c77d882192bba999a743d">NERtcConnectionStateType</a>) connectionState </td>
          <td></td>
          <td class="paramname"><span class="paramname"><em></em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取当前房间连接状态。 </p>
<dl class="section since"><dt>自从</dt><dd>V4.5.0 </dd></dl>
<dl class="section return"><dt>返回</dt><dd>当前房间连接状态。  </dd></dl>

</div>
</div>
<a id="aef7e9e016d7849139e843ad707aba0a8" name="aef7e9e016d7849139e843ad707aba0a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef7e9e016d7849139e843ad707aba0a8">&#9670;&#160;</a></span>destroy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) destroy </td>
          <td></td>
          <td class="paramname"><span class="paramname"><em></em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p></p>
<dl class="section since"><dt>自从</dt><dd>V4.5.0 销毁 IRtcChannel 实例，释放资源。  </dd></dl>

</div>
</div>
<a id="abb3b489f5926bd3812e9709d357c0d73" name="abb3b489f5926bd3812e9709d357c0d73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb3b489f5926bd3812e9709d357c0d73">&#9670;&#160;</a></span>enableAudioVolumeIndication:interval:vad:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) enableAudioVolumeIndication: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>enable</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">interval:</td>
          <td></td>
          <td class="paramtype">(uint64_t)</td>          <td class="paramname"><span class="paramname"><em>interval</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">vad:</td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>enableVad</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>启用说话者音量提示。 <br  />
该方法允许 SDK 定期向 App 反馈本地发流用户和瞬时音量最高的远端用户（最多 3 位）的音量相关信息，即当前谁在说话以及说话者的音量。 <br  />
启用该方法后，只要房间内有发流用户，无论是否有人说话，SDK 都会在加入房间后根据预设的时间间隔触发 <code><a class="el" href="protocol_n_e_rtc_engine_delegate_ex-p.html#a64eaae0d054d9e71dd0452c15b35b18d">NERtcEngineDelegateEx#onRemoteAudioVolumeIndication:totalVolume:</a></code> 回调。 </p>
<dl class="section since"><dt>自从</dt><dd>V4.6.10 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">enable</td><td>是否启用说话者音量提示。<ul>
<li>YES：启用说话者音量提示。</li>
<li>NO：关闭说话者音量提示。 </li>
</ul>
</td></tr>
    <tr><td class="paramname">interval</td><td>指定音量提示的时间间隔。单位为毫秒。必须设置为 100 毫秒的整数倍值，建议设置为 200 毫秒以上。 </td></tr>
    <tr><td class="paramname">enableVad</td><td>是否启用本地采集人声监测。<ul>
<li>YES：启用本地采集人声监测。</li>
<li>NO：关闭本地采集人声监测。 </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0：方法调用成功。</li>
<li>其他：方法调用失败。  </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a7a7a9a4e3c3671cd1be5cef051b63758" name="a7a7a9a4e3c3671cd1be5cef051b63758"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a7a9a4e3c3671cd1be5cef051b63758">&#9670;&#160;</a></span>enableDualStreamMode:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) enableDualStreamMode: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>enable</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置是否开启视频大小流模式。 <br  />
 通过本接口可以实现设置单流或者双流模式。发送端开启双流模式后，接收端可以选择接收大流还是小流。其中，大流指高分辨率、高码率的视频流，小流指低分辨率、低码率的视频流。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.5.0 </dd></dl>
<dl class="section user"><dt>调用时机 </dt><dd><br  />
 请在初始化后调用该方法，且该方法在加入房间前后均可调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>该接口已经废弃，请使用 setVideoStreamLayerCount 接口。</li>
<li>纯音频 SDK 禁用该接口，如需使用请前往<a href="https://doc.yunxin.163.com/nertc/sdk-download" target="_blank">云信官网</a>下载并替换成视频 SDK。</li>
<li>该方法只对摄像头数据生效，对自定义输入、屏幕共享等视频流无效。</li>
<li>该接口的设置会在摄像头重启后生效。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>enable </td><td>BOOL </td><td>是否开启双流模式：<ul>
<li>
YES：开启双流模式。</li>
<li>
NO：关闭双流模式。  </li>
</ul>
</td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line">[channel enableDualStreamMode:YES];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30004（kNERtcErrNotSupported）：不支持的操作，比如当前使用的是纯音频 SDK。</li>
<li>30005（kNERtcErrInvalidState）：当前状态不支持的操作，比如引擎尚未初始化。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a45c2df7b6d207e730c722b56540e588c" name="a45c2df7b6d207e730c722b56540e588c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45c2df7b6d207e730c722b56540e588c">&#9670;&#160;</a></span>enableLocalAudio:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) enableLocalAudio: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>enabled</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>开启/关闭本地音频采集和发送。 <br  />
通过本接口可以实现开启或关闭本地语音功能，进行本地音频采集及处理。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.5.0 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化之后调用此接口，且该方法在加入房间前后均可调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>加入房间后，语音功能默认为开启状态。</li>
<li>该方法设置内部引擎为启用状态，在 leaveChannel 后仍然有效。</li>
<li>该方法不影响接收或播放远端音频流，enableLocalAudio(false) 适用于只下行不上行音频流的场景。</li>
<li>自 V4.4.0 版本起，开启或关闭本地音频采集的操作不会影响伴音/音效接口的使用，比如 enableLocalAudio(NO) 后仍可以调用 <code><a class="el" href="protocol_i_n_e_rtc_engine_ex-p.html#a88d69ad7016f3a7bb00cae1af4f91c2e">INERtcEngineEx#startAudioMixingWithOption:</a></code> 方法播放音乐文件。</li>
<li>该方法会操作音频硬件设备，建议避免频繁开关，否则可能导致设备异常。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>enabled </td><td>BOOL </td><td>是否启用本地音频的采集和发送：<ul>
<li>
YES：开启本地音频采集。</li>
<li>
NO：关闭本地音频采集。关闭后，远端用户会接收不到本地用户的音频流；但本地用户依然可以接收到远端用户的音频流。  </li>
</ul>
</td></tr>
</table>
<br  />
 </dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><span class="comment">//打开音频采集</span></div>
<div class="line">[channel enableLocalAudio:YES];</div>
<div class="line"><span class="comment">//关闭音频采集</span></div>
<div class="line">[channel enableLocalAudio:NO];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关回调</dt><dd><ul>
<li>开启音频采集后，远端会触发 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#ade328996bde998b68b5d202d66b2b5f7">NERtcEngineDelegate#onNERtcEngineUserAudioDidStart:</a></code> 回调。</li>
<li>关闭音频采集后，远端会触发 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#a6c42c61f74cf977b558d6ac5f9228eaf">NERtcEngineDelegate#onNERtcEngineUserAudioDidStop:</a></code> 回调。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>相关接口</dt><dd><code><a class="el" href="#ab501b16e4508344be5389c11226394fd">INERtcChannel#muteLocalAudio:</a></code>：两者的差异在于，enableLocalAudio 用于开启本地语音采集及处理，而 muteLocalAudio 用于停止或继续发送本地音频流。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal）：引擎尚未初始化。</li>
<li>30005（kNERtcErrInvalidState）：状态错误，比如引擎尚未初始化，或者正在进行网络测速。</li>
<li>30101（kNERtcErrChannelNotJoined）：尚未加入房间。</li>
<li>30300（kNERtcErrOSAuthorize）：未开启麦克风权限。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="ad372209a1b043c1faa3c0f9d2417763f" name="ad372209a1b043c1faa3c0f9d2417763f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad372209a1b043c1faa3c0f9d2417763f">&#9670;&#160;</a></span>enableLocalSubStreamAudio:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) enableLocalSubStreamAudio: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>enabled</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>开启或关闭音频辅流。 <br  />
开启时远端会收到 <code><a class="el" href="protocol_n_e_rtc_channel_delegate-p.html#ae87f73890f67e3670db311ca8bcd3e09">NERtcChannelDelegate#onNERtcChannelUserSubStreamAudioDidStart:</a></code> 回调，关闭时远端会收到 <code><a class="el" href="protocol_n_e_rtc_channel_delegate-p.html#a97ee288f0abd3bd20cb93c66aa3a53b6">NERtcChannelDelegate#onNERtcChannelUserSubStreamAudioDidStop:</a></code> 回调。 </p>
<dl class="section since"><dt>自从</dt><dd>V4.6.10 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">enabled</td><td>是否开启音频辅流。<ul>
<li>YES：开启音频辅流。</li>
<li>NO：关闭音频辅流。 </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0 ：方法调用成功。</li>
<li>其他：方法调用失败。  </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a7bc265f6acb418ab2d24e97ce266e7e4" name="a7bc265f6acb418ab2d24e97ce266e7e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bc265f6acb418ab2d24e97ce266e7e4">&#9670;&#160;</a></span>enableLocalVideo:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) enableLocalVideo: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>enabled</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>开启或关闭本地视频的采集与发送。 <br  />
通过本接口可以实现开启或关闭本地视频，不影响接收远端视频。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.5.0 </dd></dl>
<dl class="section user"><dt>调用时机 </dt><dd><br  />
 请在初始化后调用该方法，且该方法在加入房间前后均可调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd>该方法设置内部引擎为开启或关闭状态, 在 <code><a class="el" href="#a2dc58957c2aaec792558ec411a2eb238">INERtcChannel#leaveChannel</a></code> 后仍然有效。 </dd></dl>
<dl class="section user"><dt>参数说明 </dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>enabled </td><td>BOOL </td><td>是否开启本地视频采集与发送：<ul>
<li>
YES：开启本地视频采集。</li>
<li>
NO：关闭本地视频采集。关闭后，远端用户无法接收到本地用户的视频流；但本地用户仍然可以接收到远端用户的视频流。  </li>
</ul>
</td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><span class="comment">//打开视频</span></div>
<div class="line">[channel enableLocalVideo:YES];</div>
<div class="line"><span class="comment">//关闭视频</span></div>
<div class="line">[channel enableLocalVideo:NO];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关回调</dt><dd><ul>
<li>开启本地视频采集后，远端会收到 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#ade328996bde998b68b5d202d66b2b5f7">NERtcEngineDelegate#onNERtcEngineUserAudioDidStart:</a></code> 回调。</li>
<li>关闭本地视频采集后，远端会收到 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#a6c42c61f74cf977b558d6ac5f9228eaf">NERtcEngineDelegate#onNERtcEngineUserAudioDidStop:</a></code> 回调。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>相关接口</dt><dd>若您希望开启辅流通道的视频采集，请调用 <code><a class="el" href="#a1399bb614f98dac15e2a99f4bca48a34">INERtcChannel#enableLocalVideo:streamType:</a></code> 方法。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal）：通用错误，一般表示引擎错误，尝试再次调用此接口即可。</li>
<li>30005（kNERtcErrInvalidState）：当前状态不支持的操作，比如已开启外部视频采集。</li>
<li>30300（kNERtcErrOSAuthorize）：应用未获取到操作系统的摄像头权限。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a1399bb614f98dac15e2a99f4bca48a34" name="a1399bb614f98dac15e2a99f4bca48a34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1399bb614f98dac15e2a99f4bca48a34">&#9670;&#160;</a></span>enableLocalVideo:streamType:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) <a class="el" href="#a7bc265f6acb418ab2d24e97ce266e7e4">enableLocalVideo:</a> </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>enabled</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">streamType:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a>)</td>          <td class="paramname"><span class="paramname"><em>streamType</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>开启或关闭本地视频的采集与发送。 <br  />
通过主流或辅流视频通道进行本地视频流的采集与发送。 </p>
<dl class="section since"><dt>自从</dt><dd>V4.6.20 </dd></dl>
<dl class="section user"><dt>调用时机 </dt><dd><br  />
 请在初始化后调用该方法，且该方法在加入房间前后均可调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd>该方法设置内部引擎为开启或关闭状态, 在 <code><a class="el" href="protocol_i_n_e_rtc_engine-p.html#a810e41b2be7de2b00458ee786302631c">INERtcEngine#leaveChannel</a></code> 后仍然有效。 </dd></dl>
<dl class="section user"><dt>参数说明 </dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>streamType </td><td><code><a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a></code> </td><td>视频通道类型：<ul>
<li>
kNERtcStreamChannelTypeMainStream：主流。</li>
<li>
kNERtcStreamChannelTypeSubStream：辅流。  </li>
</ul>
</td></tr>
<tr>
<td>enabled </td><td>BOOL </td><td>是否开启本地视频采集与发送：<ul>
<li>
YES：开启本地视频采集。</li>
<li>
NO：关闭本地视频采集。关闭后，远端用户无法接收到本地用户的视频流；但本地用户仍然可以接收到远端用户的视频流。  </li>
</ul>
</td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><span class="comment">//打开视频主流</span></div>
<div class="line">[channel enableLocalVideo:YES streamType:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0a693d2e4a3d4c1e8ac3debb9781c15376">kNERtcStreamChannelTypeMainStream</a>];</div>
<div class="line"><span class="comment">//关闭视频主流</span></div>
<div class="line">[channel enableLocalVideo:NO streamType:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0a693d2e4a3d4c1e8ac3debb9781c15376">kNERtcStreamChannelTypeMainStream</a>];</div>
<div class="line"><span class="comment">//打开视频辅流</span></div>
<div class="line">[channel enableLocalVideo:YES streamType:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0affe50e0122ed5a179254c496cfabf32c">kNERtcStreamChannelTypeSubStream</a>];</div>
<div class="line"><span class="comment">//关闭视频辅流</span></div>
<div class="line">[channel enableLocalVideo:NO streamType:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0affe50e0122ed5a179254c496cfabf32c">kNERtcStreamChannelTypeSubStream</a>];</div>
<div class="ttc" id="a_n_e_rtc_engine_enum_8h_html_acfea712a4ac06896174a67d88a9743e0a693d2e4a3d4c1e8ac3debb9781c15376"><div class="ttname"><a href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0a693d2e4a3d4c1e8ac3debb9781c15376">kNERtcStreamChannelTypeMainStream</a></div><div class="ttdeci">@ kNERtcStreamChannelTypeMainStream</div><div class="ttdoc">主流通道。</div><div class="ttdef"><b>定义</b> NERtcEngineEnum.h:1144</div></div>
<div class="ttc" id="a_n_e_rtc_engine_enum_8h_html_acfea712a4ac06896174a67d88a9743e0affe50e0122ed5a179254c496cfabf32c"><div class="ttname"><a href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0affe50e0122ed5a179254c496cfabf32c">kNERtcStreamChannelTypeSubStream</a></div><div class="ttdeci">@ kNERtcStreamChannelTypeSubStream</div><div class="ttdoc">辅流通道。</div><div class="ttdef"><b>定义</b> NERtcEngineEnum.h:1153</div></div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关回调</dt><dd><ul>
<li>streamType 为 kNERtcStreamChannelTypeMainStream（主流）时：<ul>
<li>开启本地视频采集后，远端会收到 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#ade328996bde998b68b5d202d66b2b5f7">NERtcEngineDelegate#onNERtcEngineUserAudioDidStart:</a></code> 回调。</li>
<li>关闭本地视频采集后，远端会收到 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#a6c42c61f74cf977b558d6ac5f9228eaf">NERtcEngineDelegate#onNERtcEngineUserAudioDidStop:</a></code> 回调。</li>
</ul>
</li>
<li>streamType 为 kNERtcStreamChannelTypeSubStream（辅流）时：<ul>
<li>开启本地视频采集后，远端会收到 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#a93bba2b15ac3a40507adae5a828e9269">NERtcEngineDelegate#onNERtcEngineUserSubStreamAudioDidStart:</a></code> 回调。</li>
<li>关闭本地视频采集后，远端会收到 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#a4b02d2d612737de435875990f0f83194">NERtcEngineDelegate#onNERtcEngineUserSubStreamAudioDidStop:</a></code> 回调。 </li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal）：通用错误，一般表示引擎错误，尝试再次调用此接口即可。</li>
<li>30005（kNERtcErrInvalidState）：当前状态不支持的操作，比如已开启外部视频采集。</li>
<li>30027（kNERtcErrDeviceOccupied）: 所选设备已被占用。比如已通过主流通道开启了摄像头，无法再通过辅流通道开启摄像头。</li>
<li>30300（kNERtcErrOSAuthorize）：应用未获取到操作系统的摄像头权限。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a3803d4ac8c8fb620b68094de06b07998" name="a3803d4ac8c8fb620b68094de06b07998"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3803d4ac8c8fb620b68094de06b07998">&#9670;&#160;</a></span>enableMediaPub:withMediaType:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) enableMediaPub: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>enabled</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">withMediaType:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#a3853d4e953350ddff15f87b0e1f0b1b9">NERtcMediaPubType</a>)</td>          <td class="paramname"><span class="paramname"><em>mediaType</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>开启或关闭本地媒体流（主流）的发送。 <br  />
该方法用于开始或停止向网络发送本地音频或视频数据。 <br  />
该方法不影响接收或播放远端媒体流，也不会影响本地音频或视频的采集状态。 </p>
<dl class="section since"><dt>自从</dt><dd>V4.6.10 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>该方法暂时仅支持控制音频流的发送。</li>
<li>该方法在加入房间前后均可调用。</li>
<li>停止发送媒体流的状态会在通话结束后被重置为允许发送。</li>
<li>成功调用该方法切换本地用户的发流状态后，房间内其他用户会收到 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#ade328996bde998b68b5d202d66b2b5f7">NERtcEngineDelegate#onNERtcEngineUserAudioDidStart:</a></code>（开启发送音频）或 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#a6c42c61f74cf977b558d6ac5f9228eaf">NERtcEngineDelegate#onNERtcEngineUserAudioDidStop:</a></code>（停止发送音频）的回调。</li>
<li>自 5.6.40 版本起，该接口在多房间中互斥，需要先通过该接口 enableMediaPub(NO) 取消发布上一个房间的媒体流，然后在当前房间调用该接口 enableMediaPub(YES)，才能在当前房间发流. </li>
</ul>
</dd></dl>
<dl class="section user"><dt>相关接口</dt><dd><ul>
<li><code><a class="el" href="#ab501b16e4508344be5389c11226394fd">INERtcChannel#muteLocalAudio:</a></code>：<ul>
<li>在需要开启本地音频采集（监测本地用户音量）但不发送音频流的情况下，您也可以调用 muteLocalAudio(YES) 方法。</li>
<li>两者的差异在于， muteLocalAudio(YES) 仍然保持与服务器的音频通道连接，而 enableMediaPub(NO) 表示断开此通道，因此若您的实际业务场景为多人并发的大房间，建议您调用 enableMediaPub 方法。 <br  />
 </li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">enabled</td><td>是否发布本地媒体流。<ul>
<li>YES（默认）：发布本地媒体流。</li>
<li>NO：不发布本地媒体流。 </li>
</ul>
</td></tr>
    <tr><td class="paramname">mediaType</td><td>媒体发布类型，暂时仅支持音频。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0：方法调用成功。</li>
<li>其他：方法调用失败。  </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a233534f04be0101163fcd91c6461ebed" name="a233534f04be0101163fcd91c6461ebed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a233534f04be0101163fcd91c6461ebed">&#9670;&#160;</a></span>enableSpatializer:applyToTeam:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) enableSpatializer: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>enabled</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">applyToTeam:</td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>applyToTeam</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>开启或关闭空间音效 </p>
<dl class="section since"><dt>自从</dt><dd>V5.4.0 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化后调用此接口，且该方法在加入房间前才可调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd>开启空间音效后，通话结束时仍保留该开关状态，不重置。 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">enabled</td><td>是否打开 3D 音效算法功能，默认为关闭状态。 </td></tr>
    <tr><td class="paramname">apply_to_team</td><td>是否仅本小队开启 3D 音效。true: 仅仅和接收端同一个小队的人有 3D 音效；false: 接收到所有的语音都有 3d 音效<ul>
<li>YES：: 开启空间音效</li>
<li>NO: 关闭空间音效 </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0: 方法调用成功</li>
<li>其他: 调用失败 </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ae98f4741be6a52e323153583552ccb35" name="ae98f4741be6a52e323153583552ccb35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae98f4741be6a52e323153583552ccb35">&#9670;&#160;</a></span>enableSpatializerRoomEffects:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) enableSpatializerRoomEffects: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>enabled</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>开启或关闭空间音效的房间混响效果 </p>
<dl class="section since"><dt>自从</dt><dd>V5.4.0 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化后调用此接口，且该方法在加入房间前后均可调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd>请先调用 <code><a class="el" href="">enableSpatializer()</a></code> 接口后，再调用本接口。 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">enabled</td><td>混响效果开关，默认值关闭 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0: 方法调用成功</li>
<li>其他: 调用失败 </li>
</ul>
</dd></dl>

</div>
</div>
<a id="acc49d9476ed6e33ab55c830db962dcd4" name="acc49d9476ed6e33ab55c830db962dcd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc49d9476ed6e33ab55c830db962dcd4">&#9670;&#160;</a></span>enableVideoDenoise:streamType:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) enableVideoDenoise: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>enabled</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">streamType:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a>)</td>          <td class="paramname"><span class="paramname"><em>streamType</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>开启视频降噪 </p>
<dl class="section since"><dt>自从</dt><dd>V5.9.15 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">streamType</td><td>流类型 </td></tr>
    <tr><td class="paramname">enabled</td><td>是否开启 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0: 方法调用成功</li>
<li>其他: 调用失败  </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a1b13ba363bd38ec2603638e1399e9405" name="a1b13ba363bd38ec2603638e1399e9405"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b13ba363bd38ec2603638e1399e9405">&#9670;&#160;</a></span>enableVideoLowlightEnhance:level:streamType:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) enableVideoLowlightEnhance: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>enabled</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">level:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#a1df7dfd39614bb3ffac479306e6ee3b9">NERtcVideoLowlightEnhanceLevel</a>)</td>          <td class="paramname"><span class="paramname"><em>level</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">streamType:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a>)</td>          <td class="paramname"><span class="paramname"><em>streamType</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>开启视频低光环境增强 </p>
<dl class="section since"><dt>自从</dt><dd>V5.9.15 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">streamType</td><td>流类型 </td></tr>
    <tr><td class="paramname">enabled</td><td>是否开启 </td></tr>
    <tr><td class="paramname">level</td><td>低光环境增强级别 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0: 方法调用成功</li>
<li>其他: 调用失败  </li>
</ul>
</dd></dl>

</div>
</div>
<a id="af889c230bb9549bdebbaa1b581f80478" name="af889c230bb9549bdebbaa1b581f80478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af889c230bb9549bdebbaa1b581f80478">&#9670;&#160;</a></span>getChannelName</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString *) getChannelName </td>
          <td></td>
          <td class="paramname"><span class="paramname"><em></em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取当前房间名。 </p>
<dl class="section since"><dt>自从</dt><dd>V4.5.0 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>成功：当前 IRtcChannel 房间名。</li>
<li>失败：返回空。  </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a2c258631d716273a1f388e74e7c23faf" name="a2c258631d716273a1f388e74e7c23faf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c258631d716273a1f388e74e7c23faf">&#9670;&#160;</a></span>initSpatializer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) initSpatializer </td>
          <td></td>
          <td class="paramname"><span class="paramname"><em></em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>初始化引擎 3D 音效算法 </p>
<dl class="section note"><dt>注解</dt><dd>此接口在加入房间前调用，退出房间后不重置 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0: 方法调用成功</li>
<li>其他: 调用失败 </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a88d293c5e6f1785e8dad111b5858b478" name="a88d293c5e6f1785e8dad111b5858b478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88d293c5e6f1785e8dad111b5858b478">&#9670;&#160;</a></span>joinChannelWithToken:completion:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) joinChannelWithToken: </td>
          <td></td>
          <td class="paramtype">(NSString *)</td>          <td class="paramname"><span class="paramname"><em>token</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_i_n_e_rtc_engine_8h.html#aa42cdb0d053a6ae6dacd6c00d5417b70">NERtcJoinChannelCompletion</a>)</td>          <td class="paramname"><span class="paramname"><em>completion</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>加入音视频房间。 <br  />
通过本接口可以实现加入音视频房间，加入房间后可以与房间内的其他用户进行音视频通话。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.6.0 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在初始化后调用该方法。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>同一个房间内的用户可以互相通话，多个用户加入同一个房间，可以群聊。使用不同 App Key 的 App 之间不能互通。</li>
<li>用户成功加入房间后，默认订阅房间内所有其他用户的音频流，可能会因此产生用量并影响计费；若您想取消自动订阅，可以在通话前通过调用 <code><a class="el" href="protocol_i_n_e_rtc_engine-p.html#a2a674564c41bbd4b5556f08a9d65a558">INERtcEngine#setParameters:</a></code> 方法实现。</li>
<li>加入音视频房间时，如果指定房间尚未创建，云信服务器内部会自动创建一个同名房间。</li>
<li>传参中 uId 可选，若不指定则默认为 0，SDK 会自动分配一个随机 uId，并在 <code><a class="el" href="_i_n_e_rtc_engine_8h.html#aa42cdb0d053a6ae6dacd6c00d5417b70">NERtcJoinChannelCompletion</a></code> 回调方法中返回；App 层必须记住该返回值并维护，SDK 不对该返回值进行维护。</li>
<li>网络测速过程中无法加入房间。</li>
<li>若使用了云代理功能，uid 不允许传 0，请用真实的 uid。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>token </td><td>NSString </td><td>安全认证签名（NERTC Token），可以设置为：<ul>
<li>
null。调试模式下可设置为 null。安全性不高，建议在产品正式上线前在网易云信控制台中将鉴权方式恢复为默认的安全模式。</li>
<li>
已获取的 NERTC Token。安全模式下必须设置为获取到的 Token。若未传入正确的 Token 将无法进入房间。推荐使用安全模式。  </li>
</ul>
</td></tr>
<tr>
<td>completion </td><td><code><a class="el" href="_i_n_e_rtc_engine_8h.html#aa42cdb0d053a6ae6dacd6c00d5417b70">NERtcJoinChannelCompletion</a></code> </td><td>操作完成的 block 回调。  </td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><a class="code hl_interface" href="interface_n_e_rtc_channel.html">NERtcChannel</a> *channel = [<a class="code hl_interface" href="interface_n_e_rtc_engine.html">NERtcEngine</a> sharedEngine] createChannel:<span class="stringliteral">@&quot;secondChannel&quot;</span>];</div>
<div class="line"><span class="keywordtype">int</span> result = [channel joinChannelWithToken:token completion:^(NSError * _Nullable error, uint64_t channelId, uint64_t elapesd, uint64_t uid) {</div>
<div class="line">                <span class="keywordflow">if</span> (error) {</div>
<div class="line">                   <span class="comment">//join room failed</span></div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span> {</div>
<div class="line">               <span class="comment">//join room success</span></div>
<div class="line">                }</div>
<div class="line">            }];</div>
<div class="line"><span class="keywordflow">if</span>(<a class="code hl_enumvalue" href="_n_e_rtc_engine_error_code_8h.html#a6acba2a38effd359f11bf09a703aad15a524e9fd1b63b6fbe5b814f41a63e03cf">kNERtcNoError</a> != result) {</div>
<div class="line">    <span class="comment">//join room failed</span></div>
<div class="line">}</div>
<div class="ttc" id="a_n_e_rtc_engine_error_code_8h_html_a6acba2a38effd359f11bf09a703aad15a524e9fd1b63b6fbe5b814f41a63e03cf"><div class="ttname"><a href="_n_e_rtc_engine_error_code_8h.html#a6acba2a38effd359f11bf09a703aad15a524e9fd1b63b6fbe5b814f41a63e03cf">kNERtcNoError</a></div><div class="ttdeci">@ kNERtcNoError</div><div class="ttdoc">没有错误。</div><div class="ttdef"><b>定义</b> NERtcEngineErrorCode.h:27</div></div>
<div class="ttc" id="ainterface_n_e_rtc_channel_html"><div class="ttname"><a href="interface_n_e_rtc_channel.html">NERtcChannel</a></div><div class="ttdef"><b>定义</b> NERtcChannel.h:14</div></div>
<div class="ttc" id="ainterface_n_e_rtc_engine_html"><div class="ttname"><a href="interface_n_e_rtc_engine.html">NERtcEngine</a></div><div class="ttdoc">NERtcEngine 类</div><div class="ttdef"><b>定义</b> NERtcEngine.h:15</div></div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关接口</dt><dd><ul>
<li>您可以调用 <code><a class="el" href="#a2dc58957c2aaec792558ec411a2eb238">INERtcChannel#leaveChannel</a></code> 方法离开房间。</li>
<li>直播场景中，观众角色可以通过 <code><a class="el" href="protocol_i_n_e_rtc_engine-p.html#ac9819e1ecad009c45f933f77c14db75f">INERtcEngine#switchChannelWithToken:channelName:completion:</a></code> 接口切换房间。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>相关回调</dt><dd>成功调用该方法加入房间后，远端会触发 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#a7e47ea04b33f9dc7746ede6a0d53a6eb">NERtcEngineDelegate#onNERtcEngineUserDidJoinWithUserID:userName:</a></code> 回调。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30005（kNERtcErrInvalidState)：状态错误，比如引擎尚未初始化或正在进行网络探测。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a917ce6979d67f55c721ecba8bbce1f61" name="a917ce6979d67f55c721ecba8bbce1f61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a917ce6979d67f55c721ecba8bbce1f61">&#9670;&#160;</a></span>joinChannelWithToken:myUid:channelOptions:completion:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) joinChannelWithToken: </td>
          <td></td>
          <td class="paramtype">(NSString *)</td>          <td class="paramname"><span class="paramname"><em>token</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">myUid:</td>
          <td></td>
          <td class="paramtype">(uint64_t)</td>          <td class="paramname"><span class="paramname"><em>uId</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">channelOptions:</td>
          <td></td>
          <td class="paramtype">(nullable <a class="el" href="interface_n_e_rtc_join_channel_options.html">NERtcJoinChannelOptions</a> *)</td>          <td class="paramname"><span class="paramname"><em>channelOptions</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(NSError *_Nullable error, uint64_t channelId, uint64_t elapesd, uint64_t uid, <a class="el" href="interface_n_e_rtc_join_channel_extra_info.html">NERtcJoinChannelExtraInfo</a> *_Nullable info))</td>          <td class="paramname"><span class="paramname"><em>completion</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>加入音视频房间。 <br  />
通过本接口可以实现加入音视频房间，加入房间后可以与房间内的其他用户进行音视频通话。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.6.0 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在初始化后调用该方法。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>同一个房间内的用户可以互相通话，多个用户加入同一个房间，可以群聊。使用不同 App Key 的 App 之间不能互通。</li>
<li>用户成功加入房间后，默认订阅房间内所有其他用户的音频流，可能会因此产生用量并影响计费；若您想取消自动订阅，可以在通话前通过调用 <code><a class="el" href="protocol_i_n_e_rtc_engine-p.html#a2a674564c41bbd4b5556f08a9d65a558">INERtcEngine#setParameters:</a></code> 方法实现。</li>
<li>加入音视频房间时，如果指定房间尚未创建，云信服务器内部会自动创建一个同名房间。</li>
<li>传参中 uId 可选，若不指定则默认为 0，SDK 会自动分配一个随机 uId，并在 <code><a class="el" href="_i_n_e_rtc_engine_8h.html#aa42cdb0d053a6ae6dacd6c00d5417b70">NERtcJoinChannelCompletion</a></code> 回调方法中返回；App 层必须记住该返回值并维护，SDK 不对该返回值进行维护。</li>
<li>网络测速过程中无法加入房间。</li>
<li>若使用了云代理功能，uid 不允许传 0，请用真实的 uid。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>token </td><td>NSString </td><td>安全认证签名（NERTC Token），可以设置为：<ul>
<li>
null。调试模式下可设置为 null。安全性不高，建议在产品正式上线前在网易云信控制台中将鉴权方式恢复为默认的安全模式。</li>
<li>
已获取的 NERTC Token。安全模式下必须设置为获取到的 Token。若未传入正确的 Token 将无法进入房间。推荐使用安全模式。  </li>
</ul>
</td></tr>
<tr>
<td>channelOptions </td><td><a class="el" href="interface_n_e_rtc_join_channel_options.html" title="joinChannel 时的一些可选信息">NERtcJoinChannelOptions</a> * </td><td>加入房间时设置一些特定的房间参数。默认值为 NULL，详细信息请参考 <code><a class="el" href="interface_n_e_rtc_join_channel_options.html">NERtcJoinChannelOptions</a></code>。  </td></tr>
<tr>
<td>completion </td><td><code><a class="el" href="_i_n_e_rtc_engine_8h.html#aa42cdb0d053a6ae6dacd6c00d5417b70">NERtcJoinChannelCompletion</a></code> </td><td>操作完成的 block 回调。  </td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><a class="code hl_interface" href="interface_n_e_rtc_channel.html">NERtcChannel</a> *channel = [<a class="code hl_interface" href="interface_n_e_rtc_engine.html">NERtcEngine</a> sharedEngine] createChannel:<span class="stringliteral">@&quot;secondChannel&quot;</span>];</div>
<div class="line"><span class="keywordtype">int</span> result = [channel joinChannelWithToken:token completion:^(NSError * _Nullable error, uint64_t channelId, uint64_t elapesd, uint64_t uid) {</div>
<div class="line">                <span class="keywordflow">if</span> (error) {</div>
<div class="line">                   <span class="comment">//join room failed</span></div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span> {</div>
<div class="line">               <span class="comment">//join room success</span></div>
<div class="line">                }</div>
<div class="line">            }];</div>
<div class="line"><span class="keywordflow">if</span>(<a class="code hl_enumvalue" href="_n_e_rtc_engine_error_code_8h.html#a6acba2a38effd359f11bf09a703aad15a524e9fd1b63b6fbe5b814f41a63e03cf">kNERtcNoError</a> != result) {</div>
<div class="line">    <span class="comment">//join room failed</span></div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关接口</dt><dd><ul>
<li>您可以调用 <code><a class="el" href="#a2dc58957c2aaec792558ec411a2eb238">INERtcChannel#leaveChannel</a></code> 方法离开房间。</li>
<li>直播场景中，观众角色可以通过 <code><a class="el" href="protocol_i_n_e_rtc_engine-p.html#ac9819e1ecad009c45f933f77c14db75f">INERtcEngine#switchChannelWithToken:channelName:completion:</a></code> 接口切换房间。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>相关回调</dt><dd>成功调用该方法加入房间后，远端会触发 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#a7e47ea04b33f9dc7746ede6a0d53a6eb">NERtcEngineDelegate#onNERtcEngineUserDidJoinWithUserID:userName:</a></code> 回调。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30005（kNERtcErrInvalidState)：状态错误，比如引擎尚未初始化或正在进行网络探测。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="aa674cffccf72207cbb00f20178ca423a" name="aa674cffccf72207cbb00f20178ca423a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa674cffccf72207cbb00f20178ca423a">&#9670;&#160;</a></span>joinChannelWithToken:myUid:completion:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) joinChannelWithToken: </td>
          <td></td>
          <td class="paramtype">(NSString *)</td>          <td class="paramname"><span class="paramname"><em>token</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">myUid:</td>
          <td></td>
          <td class="paramtype">(uint64_t)</td>          <td class="paramname"><span class="paramname"><em>uId</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_i_n_e_rtc_engine_8h.html#aa42cdb0d053a6ae6dacd6c00d5417b70">NERtcJoinChannelCompletion</a>)</td>          <td class="paramname"><span class="paramname"><em>completion</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>加入音视频房间。 <br  />
通过本接口可以实现加入音视频房间，加入房间后可以与房间内的其他用户进行音视频通话。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.6.0 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在初始化后调用该方法。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>同一个房间内的用户可以互相通话，多个用户加入同一个房间，可以群聊。使用不同 App Key 的 App 之间不能互通。</li>
<li>用户成功加入房间后，默认订阅房间内所有其他用户的音频流，可能会因此产生用量并影响计费；若您想取消自动订阅，可以在通话前通过调用 <code><a class="el" href="protocol_i_n_e_rtc_engine-p.html#a2a674564c41bbd4b5556f08a9d65a558">INERtcEngine#setParameters:</a></code> 方法实现。</li>
<li>加入音视频房间时，如果指定房间尚未创建，云信服务器内部会自动创建一个同名房间。</li>
<li>传参中 uId 可选，若不指定则默认为 0，SDK 会自动分配一个随机 uId，并在 <code><a class="el" href="_i_n_e_rtc_engine_8h.html#aa42cdb0d053a6ae6dacd6c00d5417b70">NERtcJoinChannelCompletion</a></code> 回调方法中返回；App 层必须记住该返回值并维护，SDK 不对该返回值进行维护。</li>
<li>网络测速过程中无法加入房间。</li>
<li>若使用了云代理功能，uid 不允许传 0，请用真实的 uid。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>token </td><td>NSString </td><td>安全认证签名（NERTC Token），可以设置为：<ul>
<li>
null。调试模式下可设置为 null。安全性不高，建议在产品正式上线前在网易云信控制台中将鉴权方式恢复为默认的安全模式。</li>
<li>
已获取的 NERTC Token。安全模式下必须设置为获取到的 Token。若未传入正确的 Token 将无法进入房间。推荐使用安全模式。  </li>
</ul>
</td></tr>
<tr>
<td>uId </td><td>uint64_t </td><td>用户的唯一标识 ID。  </td></tr>
<tr>
<td>completion </td><td><code><a class="el" href="_i_n_e_rtc_engine_8h.html#aa42cdb0d053a6ae6dacd6c00d5417b70">NERtcJoinChannelCompletion</a></code> </td><td>操作完成的 block 回调。  </td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><a class="code hl_interface" href="interface_n_e_rtc_channel.html">NERtcChannel</a> *channel = [<a class="code hl_interface" href="interface_n_e_rtc_engine.html">NERtcEngine</a> sharedEngine] createChannel:<span class="stringliteral">@&quot;secondChannel&quot;</span>];</div>
<div class="line"><span class="keywordtype">int</span> result = [channel joinChannelWithToken:token myUid:uid completion:^(NSError * _Nullable error, uint64_t channelId, uint64_t elapesd, uint64_t uid) {</div>
<div class="line">                <span class="keywordflow">if</span> (error) {</div>
<div class="line">                   <span class="comment">//join room failed</span></div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span> {</div>
<div class="line">               <span class="comment">//join room success</span></div>
<div class="line">                }</div>
<div class="line">            }];</div>
<div class="line"><span class="keywordflow">if</span>(<a class="code hl_enumvalue" href="_n_e_rtc_engine_error_code_8h.html#a6acba2a38effd359f11bf09a703aad15a524e9fd1b63b6fbe5b814f41a63e03cf">kNERtcNoError</a> != result) {</div>
<div class="line">    <span class="comment">//join room failed</span></div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关接口</dt><dd><ul>
<li>您可以调用 <code><a class="el" href="#a2dc58957c2aaec792558ec411a2eb238">INERtcChannel#leaveChannel</a></code> 方法离开房间。</li>
<li>直播场景中，观众角色可以通过 <code><a class="el" href="protocol_i_n_e_rtc_engine-p.html#ac9819e1ecad009c45f933f77c14db75f">INERtcEngine#switchChannelWithToken:channelName:completion:</a></code> 接口切换房间。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>相关回调</dt><dd>成功调用该方法加入房间后，远端会触发 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#a7e47ea04b33f9dc7746ede6a0d53a6eb">NERtcEngineDelegate#onNERtcEngineUserDidJoinWithUserID:userName:</a></code> 回调。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30005（kNERtcErrInvalidState)：状态错误，比如引擎尚未初始化或正在进行网络探测。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a2dc58957c2aaec792558ec411a2eb238" name="a2dc58957c2aaec792558ec411a2eb238"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dc58957c2aaec792558ec411a2eb238">&#9670;&#160;</a></span>leaveChannel</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) leaveChannel </td>
          <td></td>
          <td class="paramname"><span class="paramname"><em></em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>离开音视频房间。 <br  />
通过本接口可以实现挂断或退出通话，并释放本房间内的相关资源。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.5.0 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在初始化并成功加入房间后调用该方法。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd>结束通话时必须调用此方法离开房间，否则无法开始下一次通话。 </dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line">[channel <a class="code hl_function" href="#a2dc58957c2aaec792558ec411a2eb238">leaveChannel</a>];</div>
<div class="ttc" id="aprotocol_i_n_e_rtc_channel-p_html_a2dc58957c2aaec792558ec411a2eb238"><div class="ttname"><a href="#a2dc58957c2aaec792558ec411a2eb238">-[INERtcChannel-p leaveChannel]</a></div><div class="ttdeci">int leaveChannel()</div><div class="ttdoc">离开音视频房间。  通过本接口可以实现挂断或退出通话，并释放本房间内的相关资源。</div></div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关回调</dt><dd>成功调用该方法离开房间后，本地会触发 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#a1ba9968da680d14f496b2b16a78c6ad8">NERtcEngineDelegate#onNERtcEngineDidLeaveChannelWithResult:</a></code> 回调，远端会触发 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#a1e39aeff7071b061b28034b840cefbf5">NERtcEngineDelegate#onNERtcEngineUserDidLeaveWithUserID:reason:</a></code> 回调。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal）：引擎尚未初始化。</li>
<li>30005（kNERtcErrInvalidState)：状态错误，比如正在进行网络探测。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="ab501b16e4508344be5389c11226394fd" name="ab501b16e4508344be5389c11226394fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab501b16e4508344be5389c11226394fd">&#9670;&#160;</a></span>muteLocalAudio:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) muteLocalAudio: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>muted</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>开启或关闭本地音频主流的发送。 <br  />
该方法用于向网络发送或取消发送本地音频数据，不影响本地音频的采集状态，也不影响接收或播放远端音频流。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.5.0 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化之后调用此接口，且该方法在加入房间前后均可调用。 </dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>mute </td><td>BOOL </td><td>是否关闭本地音频的发送：<ul>
<li>
YES：不发送本地音频。</li>
<li>
NO：发送本地音频。  </li>
</ul>
</td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><span class="comment">//不发送本地音频</span></div>
<div class="line">[channel muteLocalAudio:YES];</div>
<div class="line"><span class="comment">//发送本地音频</span></div>
<div class="line">[channel muteLocalAudio:NO];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关回调</dt><dd>若本地用户在说话，成功调用该方法后，房间内其他用户会收到 <code><a class="el" href="protocol_n_e_rtc_engine_delegate_ex-p.html#a79a2aae1b1753dd7dcc24eab6c180bc2">NERtcEngineDelegateEx#onNERtcEngineUser:audioMuted:</a></code> 回调。 </dd></dl>
<dl class="section user"><dt>相关接口</dt><dd><code><a class="el" href="#a3803d4ac8c8fb620b68094de06b07998">INERtcChannel#enableMediaPub:withMediaType:</a></code>：<ul>
<li>在需要开启本地音频采集（监测本地用户音量）但不发送音频流的情况下，您也可以调用 enableMeidaPub(NO) 方法。</li>
<li>两者的差异在于， muteLocalAudio(YES) 仍然保持与服务器的音频通道连接，而 enableMediaPub(NO) 表示断开此通道，因此若您的实际业务场景为多人并发的大房间，建议您调用 enableMediaPub 方法。 <br  />
 </li>
</ul>
</dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal）：引擎未初始化。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a85bbf5ac77dbf72370581945334f0e52" name="a85bbf5ac77dbf72370581945334f0e52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85bbf5ac77dbf72370581945334f0e52">&#9670;&#160;</a></span>muteLocalSubStreamAudio:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) muteLocalSubStreamAudio: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>muted</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>静音或解除静音本地上行的音频辅流。 </p>
<dl class="section note"><dt>注解</dt><dd>静音状态会在通话结束后被重置为非静音。 </dd></dl>
<dl class="section since"><dt>自从</dt><dd>V4.6.10 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">muted</td><td>是否静音本地音频辅流发送。<ul>
<li>YES（默认）：静音本地音频辅流。</li>
<li>NO：取消静音本地音频辅流。 </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0：方法调用成功。</li>
<li>其他：方法调用失败。  </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a229aa12a960e0acb889a114f5e65840b" name="a229aa12a960e0acb889a114f5e65840b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a229aa12a960e0acb889a114f5e65840b">&#9670;&#160;</a></span>muteLocalVideo:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) muteLocalVideo: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>muted</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>取消或恢复发布本端视频主流。 <br  />
调用该方法取消发布本地视频主流后，SDK 不再发送本地视频主流。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.5.0 </dd></dl>
<dl class="section user"><dt>使用前提 </dt><dd>一般在通过 <code><a class="el" href="#a1399bb614f98dac15e2a99f4bca48a34">INERtcChannel#enableLocalVideo:streamType:</a></code> 接口开启本地视频采集并发送后调用该方法。 </dd></dl>
<dl class="section user"><dt>调用时机 </dt><dd><br  />
 请在初始化后调用该方法，且该方法在加入房间前后均可调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>调用该方法取消发布本地视频流时，设备仍然处于工作状态。</li>
<li>该方法设置内部引擎为启用状态，在 <code><a class="el" href="#a2dc58957c2aaec792558ec411a2eb238">INERtcChannel#leaveChannel</a></code> 后设置失效，将恢复至默认，即默认发布本地视频流。</li>
<li>该方法与 <code><a class="el" href="#a1399bb614f98dac15e2a99f4bca48a34">INERtcChannel#enableLocalVideo:streamType:</a></code>(NO) 的区别在于，后者会关闭本地摄像头设备，该方法不禁用摄像头，不会影响本地视频流采集且响应速度更快。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>参数说明 </dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>muted </td><td>BOOL </td><td>是否取消发布本地视频流：<ul>
<li>
YES：取消发布本地视频流。</li>
<li>
NO（默认）：恢复发布本地视频流。  </li>
</ul>
</td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line">[channel muteLocalVideo:YES];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关回调</dt><dd>取消发布本地视频主流或辅流后，远端会收到 <code><a class="el" href="protocol_n_e_rtc_channel_delegate-p.html#a5583bd49beed01dfc14f9659d9f74f88">NERtcChannelDelegate#onNERtcChannelUser:videoMuted:streamType:</a></code> 回调。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal）：状态错误，比如引擎尚未初始化。</li>
<li>30004（kNERtcErrNotSupported）：不支持的操作，比如当前使用的是纯音频 SDK。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="adfe3a210ad5497982f34ac937355f549" name="adfe3a210ad5497982f34ac937355f549"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfe3a210ad5497982f34ac937355f549">&#9670;&#160;</a></span>muteLocalVideo:streamType:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) <a class="el" href="#a229aa12a960e0acb889a114f5e65840b">muteLocalVideo:</a> </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>muted</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">streamType:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a>)</td>          <td class="paramname"><span class="paramname"><em>streamType</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>取消或恢复发布本地视频。 <br  />
调用该方法取消发布本地视频主流或辅流后，SDK 不再发送本地视频流。 </p>
<dl class="section since"><dt>自从</dt><dd>V4.6.20 </dd></dl>
<dl class="section user"><dt>使用前提 </dt><dd>一般在通过 <code><a class="el" href="protocol_i_n_e_rtc_engine-p.html#a9f13beb56a8b9fdfbc856d304c0d10cb">INERtcEngine#enableLocalVideo:streamType:</a></code> 接口开启本地视频采集并发送后调用该方法。 </dd></dl>
<dl class="section user"><dt>调用时机 </dt><dd><br  />
 请在初始化后调用该方法，且该方法在加入房间前后均可调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>调用该方法取消发布本地视频流时，设备仍然处于工作状态。</li>
<li>若调用该方法取消发布本地视频流，通话结束后会被重置为默认状态，即默认发布本地视频流。</li>
<li>该方法与 <code><a class="el" href="protocol_i_n_e_rtc_engine-p.html#a9f13beb56a8b9fdfbc856d304c0d10cb">INERtcEngine#enableLocalVideo:streamType:</a></code>(NO) 的区别在于，后者会关闭本地摄像头设备，该方法不禁用摄像头，不会影响本地视频流采集且响应速度更快。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>参数说明 </dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>streamType </td><td><code><a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a></code> </td><td>视频通道类型：<ul>
<li>
kNERtcStreamChannelTypeMainStream：主流。</li>
<li>
kNERtcStreamChannelTypeSubStream：辅流。  </li>
</ul>
</td></tr>
<tr>
<td>muted </td><td>BOOL </td><td>是否取消发布本地视频流：<ul>
<li>
YES：取消发布本地视频流。</li>
<li>
NO（默认）：恢复发布本地视频流。  </li>
</ul>
</td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><span class="comment">//取消发布本地视频主流</span></div>
<div class="line">[channel muteLocalVideo:YES streamType:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0a693d2e4a3d4c1e8ac3debb9781c15376">kNERtcStreamChannelTypeMainStream</a>];</div>
<div class="line"><span class="comment">//恢复发布本地视频主流</span></div>
<div class="line">[channel muteLocalVideo:NO streamType:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0a693d2e4a3d4c1e8ac3debb9781c15376">kNERtcStreamChannelTypeMainStream</a>];</div>
<div class="line"><span class="comment">//取消发布本地视频辅流</span></div>
<div class="line">[channel muteLocalVideo:YES streamType:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0affe50e0122ed5a179254c496cfabf32c">kNERtcStreamChannelTypeSubStream</a>];</div>
<div class="line"><span class="comment">//恢复发布本地视频辅流</span></div>
<div class="line">[channel muteLocalVideo:NO streamType:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0affe50e0122ed5a179254c496cfabf32c">kNERtcStreamChannelTypeSubStream</a>];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关回调</dt><dd>取消发布本地视频主流或辅流后，远端会收到 <code><a class="el" href="protocol_n_e_rtc_engine_delegate_ex-p.html#ad3b97cd637512974d049d49f486e51a9">NERtcEngineDelegateEx#onNERtcEngineUser:videoMuted:streamType:</a></code> 回调。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30004（kNERtcErrNotSupported）：不支持的操作，比如当前使用的是纯音频 SDK。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="adf33dae19c63ccabb277e2fa29ff7fec" name="adf33dae19c63ccabb277e2fa29ff7fec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf33dae19c63ccabb277e2fa29ff7fec">&#9670;&#160;</a></span>pauseChannelMediaRelay</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) pauseChannelMediaRelay </td>
          <td></td>
          <td class="paramname"><span class="paramname"><em></em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>暂停跨房间媒体流转发。 </p>
<dl class="section since"><dt>自从</dt><dd>V5.8.25 </dd></dl>
<dl class="section user"><dt>使用前提</dt><dd>请在调用 <code><a class="el" href="#aa6dc7643ed6b445da8a986a36c504d95">INERtcChannel#startChannelMediaRelay:</a></code> 方法开启跨房间媒体流转发之后调用此接口。 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化之后调用此接口，且该方法仅可在加入房间后调用。 </dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line">[channel <a class="code hl_function" href="#adf33dae19c63ccabb277e2fa29ff7fec">pauseChannelMediaRelay</a>];</div>
<div class="ttc" id="aprotocol_i_n_e_rtc_channel-p_html_adf33dae19c63ccabb277e2fa29ff7fec"><div class="ttname"><a href="#adf33dae19c63ccabb277e2fa29ff7fec">-[INERtcChannel-p pauseChannelMediaRelay]</a></div><div class="ttdeci">int pauseChannelMediaRelay()</div><div class="ttdoc">暂停跨房间媒体流转发。</div></div>
</div><!-- fragment --> </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal）：通用错误。</li>
<li>30005（kNERtcErrInvalidState）：状态错误，比如引擎未初始化。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a08ae4175194b8492bd1ed58a4cc686b4" name="a08ae4175194b8492bd1ed58a4cc686b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08ae4175194b8492bd1ed58a4cc686b4">&#9670;&#160;</a></span>pushBlendExternalVideoFrame:frame:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) pushBlendExternalVideoFrame: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a>)</td>          <td class="paramname"><span class="paramname"><em>streamType</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">frame:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_e_rtc_video_frame.html">NERtcVideoFrame</a> *)</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>推送外部要混合的视频帧到混合流程中。 <br  />
用于在已开启外部视频混合处理的流程中持续推送待混合的视频帧。 </p>
<dl class="section since"><dt>自从</dt><dd>V5.9.15 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>仅在已通过 <code>startBlendExternalVideo:blendConfig:</code> 成功开启混合流程后调用本方法。</li>
<li>混合帧需根据实际需求持续推送。 </li>
</ul>
</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">streamType</td><td>视频流通道类型，详见 <code><a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a></code>。 </td></tr>
    <tr><td class="paramname">frame</td><td>待混合的视频帧数据，详见 <code><a class="el" href="interface_n_e_rtc_video_frame.html">NERtcVideoFrame</a></code>。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0：方法调用成功。</li>
<li>其他：方法调用失败（如未开启混合流程或帧数据不合法）。  </li>
</ul>
</dd></dl>

</div>
</div>
<a id="aa71921d5d35bfe6e186a176f5e65d2a6" name="aa71921d5d35bfe6e186a176f5e65d2a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa71921d5d35bfe6e186a176f5e65d2a6">&#9670;&#160;</a></span>pushExternalVideoFrame:streamType:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) pushExternalVideoFrame: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_e_rtc_video_frame.html">NERtcVideoFrame</a> *)</td>          <td class="paramname"><span class="paramname"><em>frame</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">streamType:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a>)</td>          <td class="paramname"><span class="paramname"><em>streamType</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>推送外部视频帧。 <br  />
该方法主动将视频帧数据用 <a class="el" href="interface_n_e_rtc_video_frame.html" title="视频帧信息。">NERtcVideoFrame</a> 类封装后传递给 SDK。 </p>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>该方法设置内部引擎为启用状态，在 leaveChannel 后不再有效。</li>
<li>请确保在您调用本方法前已调用 setExternalVideoSource，并将参数设为 YES，否则调用本方法后会一直报错。</li>
<li>纯音频 SDK 禁用该接口，如需使用请前往云信官网下载并替换成视频 SDK。 </li>
</ul>
</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>外部视频帧的数据信息。详细信息请参考 <code><a class="el" href="interface_n_e_rtc_video_frame.html">NERtcVideoFrame</a></code>。 </td></tr>
    <tr><td class="paramname">streamType</td><td>视频流通道类型，默认为主流 kNERtcStreamChannelTypeMainStream。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0：方法调用成功；</li>
<li>其他：方法调用失败。  </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a6ebd75cf060036077b17b85ec524b751" name="a6ebd75cf060036077b17b85ec524b751"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ebd75cf060036077b17b85ec524b751">&#9670;&#160;</a></span>removeChannelMediaStatsObserver:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) removeChannelMediaStatsObserver: </td>
          <td></td>
          <td class="paramtype">(id&lt; <a class="el" href="protocol_n_e_rtc_channel_media_stats_observer-p.html">NERtcChannelMediaStatsObserver</a> &gt;)</td>          <td class="paramname"><span class="paramname"><em>observer</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>移除指定媒体统计信息观测器。 </p>
<dl class="section since"><dt>自从</dt><dd>V4.5.0 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">observer</td><td>统计信息观测器 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>操作返回值，成功则返回 0  </dd></dl>

</div>
</div>
<a id="a6b557c0c34cb5c82adda3cb9de8af996" name="a6b557c0c34cb5c82adda3cb9de8af996"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b557c0c34cb5c82adda3cb9de8af996">&#9670;&#160;</a></span>removeLiveStreamTask:compeltion:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) removeLiveStreamTask: </td>
          <td></td>
          <td class="paramtype">(NSString *)</td>          <td class="paramname"><span class="paramname"><em>taskId</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">compeltion:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_i_n_e_rtc_engine_8h.html#acd79d936d207e0d7da5575e4b447038a">NERtcLiveStreamCompletion</a>)</td>          <td class="paramname"><span class="paramname"><em>completion</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>删除房间内指定推流任务。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.5.0 </dd></dl>
<dl class="section user"><dt>使用前提</dt><dd>请先调用 <code><a class="el" href="#a56f05e7d58d94f3fba13f7c62ee4d1f3">INERtcChannel#addLiveStreamTask:compeltion:</a></code> 方法添加推流任务。 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化之后调用此接口，且该方法仅可在加入房间后调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>仅角色为主播的房间成员能调用此接口，观众成员无相关推流权限。</li>
<li>通话结束，房间成员全部离开房间后，推流任务会自动删除；如果房间内还有用户存在，则需要创建推流任务的用户删除推流任务。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>taskId </td><td>NSString * </td><td>推流任务 ID。  </td></tr>
<tr>
<td>completion </td><td><code><a class="el" href="_i_n_e_rtc_engine_8h.html#acd79d936d207e0d7da5575e4b447038a">NERtcLiveStreamCompletion</a></code> </td><td>操作结果回调，方法调用成功后会触发对应的 <code><a class="el" href="protocol_n_e_rtc_engine_live_stream_observer-p.html#a514894a72b79a7f2b3ba5590310a770b">NERtcEngineLiveStreamObserver#onNERTCEngineLiveStreamState:taskID:url:</a></code> 回调。  </td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line">[channel removeLiveStreamTask:task_id compeltion:^(NSString * _Nonnull taskId, <a class="code hl_enumeration" href="_n_e_rtc_engine_error_code_8h.html#a6248a12ea68e068ca62ea149eea2eacd">kNERtcLiveStreamError</a> errorCode){</div>
<div class="line">    }];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关回调</dt><dd>调用此接口成功后会触发 <code><a class="el" href="protocol_n_e_rtc_engine_live_stream_observer-p.html#a514894a72b79a7f2b3ba5590310a770b">NERtcEngineLiveStreamObserver#onNERTCEngineLiveStreamState:taskID:url:</a></code> 回调，通知推流任务已删除。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功；</li>
<li>其他：方法调用失败。<ul>
<li>403（kNERtcErrChannelReservePermissionDenied）：权限不足，观众模式下不支持此操作。</li>
<li>30003（kNERtcErrInvalidParam）： 参数错误，比如推流任务 ID 参数为空。</li>
<li>30005（kNERtcErrInvalidState）：状态错误，比如引擎尚未初始化。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="adc697958a359bc26e9e86b22d838ba87" name="adc697958a359bc26e9e86b22d838ba87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc697958a359bc26e9e86b22d838ba87">&#9670;&#160;</a></span>reportCustomEvent:customIdentify:param:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) reportCustomEvent: </td>
          <td></td>
          <td class="paramtype">(NSString *)</td>          <td class="paramname"><span class="paramname"><em>eventName</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">customIdentify:</td>
          <td></td>
          <td class="paramtype">(NSString *)</td>          <td class="paramname"><span class="paramname"><em>customIdentify</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">param:</td>
          <td></td>
          <td class="paramtype">(NSDictionary *)</td>          <td class="paramname"><span class="paramname"><em>param</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>上报自定义事件 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">eventName</td><td>事件名 不能为空 </td></tr>
    <tr><td class="paramname">customIdentify</td><td>自定义标识，比如产品或业务类型，如不需要填 null </td></tr>
    <tr><td class="paramname">param</td><td>参数键值对，参数值支持 String 及 java 基本类型(int 、bool....)， 如不需要填 null </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>操作返回值，成功则返回 0  </dd></dl>

</div>
</div>
<a id="ac45ad6e6c1b017a659513e69d6c5d6d7" name="ac45ad6e6c1b017a659513e69d6c5d6d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac45ad6e6c1b017a659513e69d6c5d6d7">&#9670;&#160;</a></span>resumeChannelMediaRelay</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) resumeChannelMediaRelay </td>
          <td></td>
          <td class="paramname"><span class="paramname"><em></em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>恢复跨房间媒体流转发。 </p>
<dl class="section since"><dt>自从</dt><dd>V5.8.25 </dd></dl>
<dl class="section user"><dt>使用前提</dt><dd>请在调用 <code><a class="el" href="">INERtcChannel#pauseChannelMediaRelay:</a></code> 方法开启跨房间媒体流转发之后调用此接口。 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化之后调用此接口，且该方法仅可在加入房间后调用。 </dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line">[channel <a class="code hl_function" href="#ac45ad6e6c1b017a659513e69d6c5d6d7">resumeChannelMediaRelay</a>];</div>
<div class="ttc" id="aprotocol_i_n_e_rtc_channel-p_html_ac45ad6e6c1b017a659513e69d6c5d6d7"><div class="ttname"><a href="#ac45ad6e6c1b017a659513e69d6c5d6d7">-[INERtcChannel-p resumeChannelMediaRelay]</a></div><div class="ttdeci">int resumeChannelMediaRelay()</div><div class="ttdoc">恢复跨房间媒体流转发。</div></div>
</div><!-- fragment --> </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal）：通用错误。</li>
<li>30005（kNERtcErrInvalidState）：状态错误，比如引擎未初始化。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a409b9dc80cd51aeae7fca960d3ec56ac" name="a409b9dc80cd51aeae7fca960d3ec56ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a409b9dc80cd51aeae7fca960d3ec56ac">&#9670;&#160;</a></span>sendSEIMsg:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) sendSEIMsg: </td>
          <td></td>
          <td class="paramtype">(NSData *)</td>          <td class="paramname"><span class="paramname"><em>data</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>通过主流通道发送媒体增强补充信息（SEI）。 <br  />
在本端推流传输音视频流数据同时，发送流媒体补充增强信息来同步一些其他附加信息。当推流方发送 SEI 后，拉流方可通过监听 onRecvSEIMsg 的回调获取 SEI 内容。 </p>
<ul>
<li>调用时机：视频流（主流、辅流）开启后，可调用此函数。</li>
<li>数据长度限制： SEI 最大数据长度为 4096 字节，超限会发送失败。如果频繁发送大量数据会导致视频码率增大，可能会导致视频画质下降甚至卡顿。</li>
<li>发送频率限制：最高为视频发送的帧率，建议不超过 10 次/秒。</li>
<li>生效时间：调用本接口之后，最快在下一帧视频数据帧之后发送 SEI 数据，最慢在接下来的 5 帧视频之后发送。 </li>
</ul>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>SEI 数据跟随视频帧发送，由于在弱网环境下可能丢帧，SEI 数据也可能随之丢失，所以建议在发送频率限制之内多次发送，保证接收端收到的概率。</li>
<li>调用本接口时，默认使用主流通道发送 SEI。</li>
<li>纯音频 SDK 禁用该接口，如需使用请前往云信官网下载并替换成视频 SDK。 </li>
</ul>
</dd></dl>
<dl class="section since"><dt>自从</dt><dd>V4.5.0 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>自定义 SEI 数据。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>操作返回值，成功则返回 0。<ul>
<li>成功: 成功进入待发送队列，会在最近的视频帧之后发送该数据。</li>
<li>失败: 数据被限制发送，可能发送的频率太高，队列已经满了，或者数据大小超过最大值 4k。  </li>
</ul>
</dd></dl>

</div>
</div>
<a id="af91d9701a153447bfcc9704809c66e08" name="af91d9701a153447bfcc9704809c66e08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af91d9701a153447bfcc9704809c66e08">&#9670;&#160;</a></span>sendSEIMsg:streamChannelType:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) <a class="el" href="#a409b9dc80cd51aeae7fca960d3ec56ac">sendSEIMsg:</a> </td>
          <td></td>
          <td class="paramtype">(NSData *)</td>          <td class="paramname"><span class="paramname"><em>data</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">streamChannelType:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a>)</td>          <td class="paramname"><span class="paramname"><em>type</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>指定主流或辅流通道发送媒体增强补充信息（SEI）。 <br  />
在本端推流传输音视频流数据同时，发送流媒体补充增强信息来同步一些其他附加信息。当推流方发送 SEI 后，拉流方可通过监听 onRecvSEIMsg 的回调获取 SEI 内容。 </p>
<ul>
<li>调用时机：视频流（主流、辅流）开启后，可调用此函数。</li>
<li>数据长度限制： SEI 最大数据长度为 4096 字节，超限会发送失败。如果频繁发送大量数据会导致视频码率增大，可能会导致视频画质下降甚至卡顿。</li>
<li>发送频率限制：最高为视频发送的帧率，建议不超过 10 次/秒。</li>
<li>生效时间：调用本接口之后，最快在下一帧视频数据帧之后发送 SEI 数据，最慢在接下来的 5 帧视频之后发送。 </li>
</ul>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>SEI 数据跟随视频帧发送，由于在弱网环境下可能丢帧，SEI 数据也可能随之丢失，所以建议在发送频率限制之内多次发送，保证接收端收到的概率。</li>
<li>指定通道发送 SEI 之前，需要提前开启对应的数据流通道。</li>
<li>纯音频 SDK 禁用该接口，如需使用请前往云信官网下载并替换成视频 SDK。 </li>
</ul>
</dd></dl>
<dl class="section since"><dt>自从</dt><dd>V4.5.0 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>自定义 SEI 数据。 </td></tr>
    <tr><td class="paramname">type</td><td>发送 SEI 时，使用的流通道类型。详细信息请参考 <code><a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a></code>。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>操作返回值，成功则返回 0<ul>
<li>成功: 成功进入待发送队列，会在最近的视频帧之后发送该数据。</li>
<li>失败: 数据被限制发送，可能发送的频率太高，队列已经满了，或者数据大小超过最大值 4k。  </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a6eabcbb2eeca509e6d252f2301dab4f8" name="a6eabcbb2eeca509e6d252f2301dab4f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6eabcbb2eeca509e6d252f2301dab4f8">&#9670;&#160;</a></span>setAudioRecvRange:conversationalDistance:rollOff:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setAudioRecvRange: </td>
          <td></td>
          <td class="paramtype">(int)</td>          <td class="paramname"><span class="paramname"><em>audibleDistance</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">conversationalDistance:</td>
          <td></td>
          <td class="paramtype">(int)</td>          <td class="paramname"><span class="paramname"><em>conversationalDistance</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">rollOff:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#a65fb42a8b906d749aa212f31f3c74188">NERtcDistanceRolloffModel</a>)</td>          <td class="paramname"><span class="paramname"><em>rollOff</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>引擎 3D 音效算法距离范围设置 </p>
<dl class="section note"><dt>注解</dt><dd>依赖 enableSpatializer:applyToTeam 接口开启，通话前调用 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">audibleDistance</td><td>监听器能够听到扬声器并接收其文本消息的距离扬声器的最大距离。[0,1000] 默认值为 32。 </td></tr>
    <tr><td class="paramname">conversationalDistance</td><td>控制扬声器音频保持其原始音量的范围，超出该范围时，语音聊天的响度在被听到时开始淡出。 默认值为 1。 </td></tr>
    <tr><td class="paramname">rollOff:距离衰减模式</td><td>#NERtcDistanceRolloffModel，默认值 <a class="el" href="_n_e_rtc_engine_enum_8h.html#a65fb42a8b906d749aa212f31f3c74188af1c1c5cce4af8943ee1711e767462e23" title="无衰减">kNERtcDistanceRolloffNone</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0: 方法调用成功</li>
<li>其他: 调用失败 </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a1d09091e59acfe0c2897b8f18f860f41" name="a1d09091e59acfe0c2897b8f18f860f41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d09091e59acfe0c2897b8f18f860f41">&#9670;&#160;</a></span>setAudioSubscribeOnlyBy:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setAudioSubscribeOnlyBy: </td>
          <td></td>
          <td class="paramtype">(NSArray&lt; NSNumber * &gt; *)</td>          <td class="paramname"><span class="paramname"><em>uidArray</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置自己的音频只能被房间内指定的人订阅。 <br  />
默认房间所有其他人都可以订阅自己的音频。 </p>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>此接口需要在加入房间成功后调用。</li>
<li>对于调用接口时不在房间的 uid 不生效。 </li>
</ul>
</dd></dl>
<dl class="section since"><dt>自从</dt><dd>V4.6.10 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">uidArray</td><td>可订阅自己音频的用户 uid 列表。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd>此列表为全量列表。如果列表为空或 null，表示其他所有人均可订阅自己的音频。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0：方法调用成功。</li>
<li>其他：方法调用失败。  </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ac5ab6ec50583eba647854c9e4044c89a" name="ac5ab6ec50583eba647854c9e4044c89a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5ab6ec50583eba647854c9e4044c89a">&#9670;&#160;</a></span>setCameraCaptureConfig:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setCameraCaptureConfig: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_e_rtc_camera_capture_configuration.html">NERtcCameraCaptureConfiguration</a> *)</td>          <td class="paramname"><span class="paramname"><em>config</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置本地摄像头的视频主流采集配置。 <br  />
通过此接口可以设置本地摄像头采集的主流视频宽度、高度、旋转角度等。 </p>
<dl class="section since"><dt>自从</dt><dd>V4.5.0 </dd></dl>
<dl class="section user"><dt>调用时机 </dt><dd><br  />
 请在初始化后调用该方法，且该方法在加入房间前后均可调用。 </dd></dl>
<dl class="section user"><dt>业务场景</dt><dd>在视频通话或直播中，SDK 自动控制摄像头的输出参数。默认情况下，SDK 会根据用户该接口的配置匹配最合适的分辨率进行采集。但是在部分业务场景中，如果采集画面质量无法满足实际需求，可以调用该接口调整摄像头的采集配置。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>纯音频 SDK 禁用该接口，如需使用请前往<a href="https://doc.yunxin.163.com/nertc/sdk-download" target="_blank">云信官网</a>下载并替换成视频 SDK。</li>
<li>该方法仅适用于视频主流，若您希望为辅流通道设置摄像头的采集配置，请调用 <code><a class="el" href="#a525643cb32af0f3406ab43a8473e66b6">INERtcChannel#setCameraCaptureConfig:streamType:</a></code> 方法。</li>
<li>该方法支持在加入房间后动态调用，设置成功后，会自动重启摄像头采集模块。</li>
<li>若系统相机不支持您设置的分辨率，会自动调整为最相近一档的分辨率，因此建议您设置为常规标准的分辨率。</li>
<li>设置较高的采集分辨率会增加性能消耗，例如 CPU 和内存占用等，尤其是在开启视频前处理的场景下。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>参数说明 </dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>config </td><td><code><a class="el" href="interface_n_e_rtc_camera_capture_configuration.html">NERtcCameraCaptureConfiguration</a></code> </td><td>本地摄像头采集配置。  </td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><a class="code hl_interface" href="interface_n_e_rtc_camera_capture_configuration.html">NERtcCameraCaptureConfiguration</a> *config = [[<a class="code hl_interface" href="interface_n_e_rtc_camera_capture_configuration.html">NERtcCameraCaptureConfiguration</a> alloc] init];</div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_camera_capture_configuration.html#a5cc2738daabb221ae4efd3e74fb53fb5">captureWidth</a> = 1280;</div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_camera_capture_configuration.html#aa847308e07cb14a14d8871b254bae449">captureHeight</a> = 720;</div>
<div class="line">[channel setCameraCaptureConfig:config];</div>
<div class="ttc" id="ainterface_n_e_rtc_camera_capture_configuration_html"><div class="ttname"><a href="interface_n_e_rtc_camera_capture_configuration.html">NERtcCameraCaptureConfiguration</a></div><div class="ttdoc">摄像头采集配置。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:491</div></div>
<div class="ttc" id="ainterface_n_e_rtc_camera_capture_configuration_html_a5cc2738daabb221ae4efd3e74fb53fb5"><div class="ttname"><a href="interface_n_e_rtc_camera_capture_configuration.html#a5cc2738daabb221ae4efd3e74fb53fb5">NERtcCameraCaptureConfiguration::captureWidth</a></div><div class="ttdeci">int captureWidth</div><div class="ttdoc">本地采集的视频宽度，单位为 px。  视频编码分辨率以宽 x 高表示，用于设置视频编码分辨率，以衡量编码质量。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:512</div></div>
<div class="ttc" id="ainterface_n_e_rtc_camera_capture_configuration_html_aa847308e07cb14a14d8871b254bae449"><div class="ttname"><a href="interface_n_e_rtc_camera_capture_configuration.html#aa847308e07cb14a14d8871b254bae449">NERtcCameraCaptureConfiguration::captureHeight</a></div><div class="ttdeci">int captureHeight</div><div class="ttdoc">本地采集的视频高度，单位为 px。  视频编码分辨率以宽 x 高表示，用于设置视频编码分辨率，以衡量编码质量。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:533</div></div>
</div><!-- fragment --> </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30003（kNERtcErrInvalidParam）：参数错误，比如 config 设置为空。</li>
<li>30004（kNERtcErrNotSupported）：不支持的操作，比如当前使用的是纯音频 SDK。</li>
<li>30005（kNERtcErrInvalidState）：当前状态不支持的操作，比如引擎未初始化成功。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a525643cb32af0f3406ab43a8473e66b6" name="a525643cb32af0f3406ab43a8473e66b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a525643cb32af0f3406ab43a8473e66b6">&#9670;&#160;</a></span>setCameraCaptureConfig:streamType:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) <a class="el" href="#ac5ab6ec50583eba647854c9e4044c89a">setCameraCaptureConfig:</a> </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_e_rtc_camera_capture_configuration.html">NERtcCameraCaptureConfiguration</a> *)</td>          <td class="paramname"><span class="paramname"><em>config</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">streamType:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a>)</td>          <td class="paramname"><span class="paramname"><em>streamType</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置本地摄像头的视频主流或辅流采集配置。 <br  />
通过此接口可以设置本地摄像头采集的主流或辅流视频宽度、高度、旋转角度等。 </p>
<dl class="section since"><dt>自从</dt><dd>V4.6.20 </dd></dl>
<dl class="section user"><dt>调用时机 </dt><dd><br  />
 请在初始化后调用该方法，且该方法在加入房间前后均可调用。 </dd></dl>
<dl class="section user"><dt>业务场景</dt><dd>在视频通话或直播中，SDK 自动控制摄像头的输出参数。默认情况下，SDK 会根据用户该接口的配置匹配最合适的分辨率进行采集。但是在部分业务场景中，如果采集画面质量无法满足实际需求，可以调用该接口调整摄像头的采集配置。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd>调用该接口设置成功后，会自动重启摄像头采集模块。 </dd></dl>
<dl class="section user"><dt>参数说明 </dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>config </td><td><code><a class="el" href="interface_n_e_rtc_camera_capture_configuration.html">NERtcCameraCaptureConfiguration</a></code> </td><td>本地摄像头采集配置。  </td></tr>
<tr>
<td>streamType </td><td><code><a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a></code> </td><td>视频通道类型：<ul>
<li>
kNERtcStreamChannelTypeMainStream：主流。</li>
<li>
kNERtcStreamChannelTypeSubStream：辅流。  </li>
</ul>
</td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><span class="comment">//设置本地摄像头主流采集配置</span></div>
<div class="line"><a class="code hl_interface" href="interface_n_e_rtc_camera_capture_configuration.html">NERtcCameraCaptureConfiguration</a> *capConfig = [[<a class="code hl_interface" href="interface_n_e_rtc_camera_capture_configuration.html">NERtcCameraCaptureConfiguration</a> alloc] init];</div>
<div class="line">capConfig.<a class="code hl_property" href="interface_n_e_rtc_camera_capture_configuration.html#a5cc2738daabb221ae4efd3e74fb53fb5">captureWidth</a> = 1280;</div>
<div class="line">capConfig.<a class="code hl_property" href="interface_n_e_rtc_camera_capture_configuration.html#aa847308e07cb14a14d8871b254bae449">captureHeight</a> = 720;</div>
<div class="line">[channel setCameraCaptureConfig:capConfig streamType:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0a693d2e4a3d4c1e8ac3debb9781c15376">kNERtcStreamChannelTypeMainStream</a>];</div>
<div class="line"><span class="comment">//设置本地摄像头辅流采集配置</span></div>
<div class="line"><a class="code hl_interface" href="interface_n_e_rtc_camera_capture_configuration.html">NERtcCameraCaptureConfiguration</a> *subCapConfig = [[<a class="code hl_interface" href="interface_n_e_rtc_camera_capture_configuration.html">NERtcCameraCaptureConfiguration</a> alloc] init];</div>
<div class="line">subCapConfig.<a class="code hl_property" href="interface_n_e_rtc_camera_capture_configuration.html#a5cc2738daabb221ae4efd3e74fb53fb5">captureWidth</a> = 1280;</div>
<div class="line">subCapConfig.<a class="code hl_property" href="interface_n_e_rtc_camera_capture_configuration.html#aa847308e07cb14a14d8871b254bae449">captureHeight</a> = 720;</div>
<div class="line">[channel setCameraCaptureConfig:subCapConfig streamType:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0affe50e0122ed5a179254c496cfabf32c">kNERtcStreamChannelTypeSubStream</a>];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30003（kNERtcErrInvalidParam）：参数错误，比如 config 设置为空。</li>
<li>30004（kNERtcErrNotSupported）：不支持的操作，比如当前使用的是纯音频 SDK。</li>
<li>30005（kNERtcErrInvalidState）：当前状态不支持的操作，比如引擎未初始化成功。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a7ba8463a6004f4b40003ed93b6159eda" name="a7ba8463a6004f4b40003ed93b6159eda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ba8463a6004f4b40003ed93b6159eda">&#9670;&#160;</a></span>setChannelDelegate:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setChannelDelegate: </td>
          <td></td>
          <td class="paramtype">(nullable id&lt; <a class="el" href="protocol_n_e_rtc_channel_delegate-p.html">NERtcChannelDelegate</a> &gt;)</td>          <td class="paramname"><span class="paramname"><em>channelDelegate</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置 channel 的回调。 </p>
<dl class="section since"><dt>自从</dt><dd>V4.5.0 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">channelDelegate</td><td>channel 的回调对象。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>操作返回值，成功则返回 0  </dd></dl>

</div>
</div>
<a id="a27ccc06e75d17c06ac1ffbc29a017620" name="a27ccc06e75d17c06ac1ffbc29a017620"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27ccc06e75d17c06ac1ffbc29a017620">&#9670;&#160;</a></span>setClientRole:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setClientRole: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#ac92fefa5fc00ecadf669b09ec11ed5c9">NERtcClientRole</a>)</td>          <td class="paramname"><span class="paramname"><em>role</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置直播场景下的用户角色。 <br  />
通过本接口可以实现将用户角色在“主播”（kNERtcClientRoleBroadcaster）和“观众“（kNERtcClientRoleAudience）之间的切换，用户加入房间后默认为“主播”。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.9.0 </dd></dl>
<dl class="section user"><dt>使用前提</dt><dd>该方法仅在通过 <code><a class="el" href="protocol_i_n_e_rtc_engine-p.html#aeb1ddb3e3ea5c8ddd6c2a9052a596410">INERtcEngine#setChannelProfile:</a></code> 方法设置房间场景为直播场景（kNERtcChannelProfileLiveBroadcasting ）时调用有效。 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在初始化后调用该方法，且该方法在加入房间前后均可调用。 </dd></dl>
<dl class="section user"><dt>业务场景</dt><dd>适用于观众上下麦与主播互动的互动直播场景。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd>用户切换为观众角色时，SDK 会自动关闭音视频设备。 </dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>role </td><td><code><a class="el" href="_n_e_rtc_engine_enum_8h.html#ac92fefa5fc00ecadf669b09ec11ed5c9">NERtcClientRole</a></code> </td><td>用户角色：<ul>
<li>
kNERtcClientRoleBroadcaster（0）：设置用户角色为主播。主播可以开关摄像头等设备、可以发布流、可以操作互动直播推流相关接口、加入或退出房间状态对其他房间内用户可见。</li>
<li>
kNERtcClientRoleAudience（1）：设置用户角色为观众。观众只能收流不能发流、加入或退出房间状态对其他房间内用户不可见。  </li>
</ul>
</td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><span class="comment">//切换用户角色为主播</span></div>
<div class="line">[channel setClientRole:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#ac92fefa5fc00ecadf669b09ec11ed5c9a68c48e1407cc8d3af3e1c3dc63e1cd97">kNERtcClientRoleAudience</a>];</div>
<div class="line"><span class="comment">//切换用户角色为观众</span></div>
<div class="line">[channel setClientRole:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#ac92fefa5fc00ecadf669b09ec11ed5c9a19cf5a5d5b20541789fef3ae97b5d611">kNERtcClientRoleBroadcaster</a>];</div>
<div class="ttc" id="a_n_e_rtc_engine_enum_8h_html_ac92fefa5fc00ecadf669b09ec11ed5c9a19cf5a5d5b20541789fef3ae97b5d611"><div class="ttname"><a href="_n_e_rtc_engine_enum_8h.html#ac92fefa5fc00ecadf669b09ec11ed5c9a19cf5a5d5b20541789fef3ae97b5d611">kNERtcClientRoleBroadcaster</a></div><div class="ttdeci">@ kNERtcClientRoleBroadcaster</div><div class="ttdoc">（默认）直播模式中的主播，可以操作摄像头等音视频设备、发布流、配置互动直播推流任务、上下线对房间内其他用户可见。</div><div class="ttdef"><b>定义</b> NERtcEngineEnum.h:215</div></div>
<div class="ttc" id="a_n_e_rtc_engine_enum_8h_html_ac92fefa5fc00ecadf669b09ec11ed5c9a68c48e1407cc8d3af3e1c3dc63e1cd97"><div class="ttname"><a href="_n_e_rtc_engine_enum_8h.html#ac92fefa5fc00ecadf669b09ec11ed5c9a68c48e1407cc8d3af3e1c3dc63e1cd97">kNERtcClientRoleAudience</a></div><div class="ttdeci">@ kNERtcClientRoleAudience</div><div class="ttdoc">直播模式中的观众，观众只能接收音视频流，不支持操作音视频设备、配置互动直播推流任务、上下线不通知其他用户。</div><div class="ttdef"><b>定义</b> NERtcEngineEnum.h:224</div></div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关回调</dt><dd><ul>
<li>加入房间前调用该方法设置用户角色，不会触发任何回调，在加入房间成功后角色自动生效：<ul>
<li>设置用户角色为主播：加入房间后，远端用户触发 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#a7e47ea04b33f9dc7746ede6a0d53a6eb">NERtcEngineDelegate#onNERtcEngineUserDidJoinWithUserID:userName:</a></code> 回调。</li>
<li>设置用户角色为观众：加入房间后，远端用户不触发任何回调。</li>
</ul>
</li>
<li>加入房间后调用该方法切换用户角色：<ul>
<li>从观众角色切为主播：本端用户触发 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#ae6511d58efa3d67e9c2901149e0b3e60">NERtcEngineDelegate#onNERtcEngineDidClientRoleChanged:newRole:</a></code> 回调，远端用户触发 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#a7e47ea04b33f9dc7746ede6a0d53a6eb">NERtcEngineDelegate#onNERtcEngineUserDidJoinWithUserID:userName:</a></code> 回调。</li>
<li>从主播角色切为观众：本端用户触发 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#ae6511d58efa3d67e9c2901149e0b3e60">NERtcEngineDelegate#onNERtcEngineDidClientRoleChanged:newRole:</a></code> 回调，远端用户触发 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#a1e39aeff7071b061b28034b840cefbf5">NERtcEngineDelegate#onNERtcEngineUserDidLeaveWithUserID:reason:</a></code> 回调。 </li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal)：引擎未创建成功。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="ad7472c18272196618cb81ce9f0774e19" name="ad7472c18272196618cb81ce9f0774e19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7472c18272196618cb81ce9f0774e19">&#9670;&#160;</a></span>setDelegateQueue:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setDelegateQueue: </td>
          <td></td>
          <td class="paramtype">(nullable dispatch_queue_t)</td>          <td class="paramname"><span class="paramname"><em>delegateQueue</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置驱动 <a class="el" href="protocol_n_e_rtc_channel_delegate-p.html" title="NERtcChannelDelegate 类监听和报告指定房间的事件和数据。">NERtcChannelDelegate</a> 事件回调队列 </p>
<dl class="section since"><dt>自从</dt><dd>V5.5.10 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化后调用此接口，且该方法在加入房间前后均可调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>如果您不指定自己的 delegateQueue 或者设置为 NULL, 默认会采用 MainQueue 作为驱动 NERtcCallback 事件回调的队列。</li>
<li>如果您指定了自己的 delegateQueue，请不要直接 <a class="el" href="protocol_n_e_rtc_engine_delegate_ex-p.html" title="NERtcEngine 扩展回调。">NERtcEngineDelegateEx</a> 回调函数中操作 UI，会引发线程安全问题。且需要考虑线程的生命周期，如果线程提前终止，将无法收到 <a class="el" href="protocol_n_e_rtc_channel_delegate-p.html" title="NERtcChannelDelegate 类监听和报告指定房间的事件和数据。">NERtcChannelDelegate</a> 的回调。 </li>
</ul>
</dd></dl>

</div>
</div>
<a id="acdb7c5a0bd78c0ee72f64c7ba56fb564" name="acdb7c5a0bd78c0ee72f64c7ba56fb564"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdb7c5a0bd78c0ee72f64c7ba56fb564">&#9670;&#160;</a></span>setExternalVideoSource:streamType:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setExternalVideoSource: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>enable</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">streamType:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a>)</td>          <td class="paramname"><span class="paramname"><em>streamType</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>开启或关闭外部视频源数据输入。 <br  />
通过本接口可以实现创建自定义的外部视频源，您可以选择通过主流或辅流通道传输该外部视频源的数据，但暂不支持同时开启。 </p>
<dl class="section since"><dt>自从</dt><dd>V4.6.20 </dd></dl>
<dl class="section user"><dt>使用前提</dt><dd>请在通过 <code><a class="el" href="protocol_i_n_e_rtc_engine_ex-p.html#a39334f2aeb02faba230d81afcda1e807">INERtcEngineEx#startPreview:</a></code> 接口开启本地视频预览、通过 <code><a class="el" href="protocol_i_n_e_rtc_engine-p.html#a9f13beb56a8b9fdfbc856d304c0d10cb">INERtcEngine#enableLocalVideo:streamType:</a></code> 接口开启本地视频采集或通过 <code><a class="el" href="protocol_i_n_e_rtc_engine_ex-p.html#a25c7be1553ff31a7a79d8ac314834601">INERtcEngineEx#startScreenCapture:</a></code> 接口开启屏幕共享之前调用该方法，且必须使用同一种视频通道，即同为主流或辅流。 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在初始化后调用该方法，且该方法在加入房间前后均可调用。 </dd></dl>
<dl class="section user"><dt>业务场景</dt><dd>实现由应用层而非 SDK 采集视频数据，适用于对输入的视频数据做水印、美颜、马赛克等前处理的场景。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>纯音频 SDK 禁用该接口，如需使用请前往<a href="https://doc.yunxin.163.com/nertc/sdk-download" target="_blank">云信官网</a>下载并替换成视频 SDK。</li>
<li>该方法设置开启主流外部视频源输入时，内部引擎为启用状态，在切换房间（switchChannelWithToken）、主动离开房间（leaveChannel）、触发断网重连失败回调（onNERtcChannelDidDisconnectWithReason）或触发重新加入房间回调（onNERtcChannelRejoinChannel）后仍然有效。如果需要关闭该功能，请在下次通话前调用接口关闭该功能。</li>
<li>该方法设置开启辅流外部视频源输入时，在切换房间或触发重新加入房间回调后仍然有效；但在主动离开房间或触发断网重连失败回调后，该接口设置失效，将恢复至默认。</li>
<li>请务必保证视频主流和辅流输入通道各最多只能有一种视频输入源，其中屏幕共享只能通过辅流通道开启，因此：<ul>
<li>若您开启了辅流形式的屏幕共享，请使用主流通道输入外部视频源数据，即设置 streamType 参数为 kNERtcStreamChannelTypeMainStream。</li>
<li>若您已调用 <code><a class="el" href="protocol_i_n_e_rtc_engine-p.html#a9f13beb56a8b9fdfbc856d304c0d10cb">INERtcEngine#enableLocalVideo:streamType:</a></code> 方法开启本地主流视频采集，请勿再调用此接口创建主流形式的外部视频源输入，辅流通道同理。 </li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>streamType </td><td><code><a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a></code> </td><td>视频通道类型：<ul>
<li>
kNERtcStreamChannelTypeMainStream：主流。</li>
<li>
kNERtcStreamChannelTypeSubStream：辅流。  </li>
</ul>
</td></tr>
<tr>
<td>enable </td><td>BOOL </td><td>是否使用外部视频源：<ul>
<li>
YES：开启。</li>
<li>
NO（默认）：关闭。  </li>
</ul>
</td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><span class="comment">//通过主流通道输入外部视频源数据</span></div>
<div class="line">[channel setExternalVideoSource:YES streamType:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0a693d2e4a3d4c1e8ac3debb9781c15376">kNERtcStreamChannelTypeMainStream</a>];</div>
<div class="line">[channel enableLocalVideo:YES streamType:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0a693d2e4a3d4c1e8ac3debb9781c15376">kNERtcStreamChannelTypeMainStream</a>];</div>
<div class="line">[channel pushExternalVideoFrame:frame];</div>
<div class="line"> </div>
<div class="line"><span class="comment">//通过辅流通道输入外部视频源数据</span></div>
<div class="line">[channel setExternalVideoSource:YES streamType:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0affe50e0122ed5a179254c496cfabf32c">kNERtcStreamChannelTypeSubStream</a>];</div>
<div class="line"><a class="code hl_interface" href="interface_n_e_rtc_video_sub_stream_encode_configuration.html">NERtcVideoSubStreamEncodeConfiguration</a> *config = [[<a class="code hl_interface" href="interface_n_e_rtc_video_sub_stream_encode_configuration.html">NERtcVideoSubStreamEncodeConfiguration</a> alloc] init];</div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_base_video_encode_configuration.html#a932a66bd2a9e8d8e1a47e6dc0a949a0a">maxProfile</a> = <a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#a9fb644b8c2b9d99dc01b51f7ad1c7458a2219e94298b11869230d8686da17e30b">kNERtcVideoProfileHD720P</a>;</div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_base_video_encode_configuration.html#a5f3e81b29fcc10824af50605d14404f1">frameRate</a> = <a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#ae5379f1436fcbbebb653c6532262a4b5a642869b02df62abd76bddc36d6a8d815">kNERtcVideoFrameRateFps15</a>;</div>
<div class="line">[channel startScreenCapture:config];</div>
<div class="line"><span class="comment">//屏幕共享视频帧回调，此方法来自屏幕共享的 framework NERtcReplayKit.framework</span></div>
<div class="line">- (void)onReceiveVideoFrame:(NEScreenShareVideoFrame *)videoFrame</div>
<div class="line">{</div>
<div class="line"><a class="code hl_interface" href="interface_n_e_rtc_video_frame.html">NERtcVideoFrame</a> *frame = [[<a class="code hl_interface" href="interface_n_e_rtc_video_frame.html">NERtcVideoFrame</a> alloc] init];</div>
<div class="line">frame.<a class="code hl_property" href="interface_n_e_rtc_video_frame.html#a460da488534e9d0d4af38134a06f905a">format</a> = <a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#a4949b7bb8f308f708c4719c5679fef22acb169c748c16dc5bdd67a4ff0b581d25">kNERtcVideoFormatI420</a>;</div>
<div class="line">frame.<a class="code hl_property" href="interface_n_e_rtc_video_frame.html#a0db937ac4cde32263af8fb8b8098cff0">width</a> = videoFrame.width;</div>
<div class="line">frame.<a class="code hl_property" href="interface_n_e_rtc_video_frame.html#adab8abe3b19d32acaab1a35cb6d89046">height</a> = videoFrame.height;</div>
<div class="line">frame.<a class="code hl_property" href="interface_n_e_rtc_video_frame.html#a6ca13b28eeea90bda6957cb74f8714fd">buffer</a> = (<span class="keywordtype">void</span> *)[videoFrame.videoData bytes];</div>
<div class="line">frame.<a class="code hl_property" href="interface_n_e_rtc_video_frame.html#a4b8bbb3af680e11805e928f9a3621a1d">timestamp</a> = videoFrame.timeStamp;</div>
<div class="line">frame.<a class="code hl_property" href="interface_n_e_rtc_video_frame.html#a0857ce308ec724442eba451ad2fa774b">rotation</a> = rotation;</div>
<div class="line">channel pushExternalVideoFrame:frame];</div>
<div class="line">}</div>
<div class="ttc" id="a_n_e_rtc_engine_enum_8h_html_a4949b7bb8f308f708c4719c5679fef22acb169c748c16dc5bdd67a4ff0b581d25"><div class="ttname"><a href="_n_e_rtc_engine_enum_8h.html#a4949b7bb8f308f708c4719c5679fef22acb169c748c16dc5bdd67a4ff0b581d25">kNERtcVideoFormatI420</a></div><div class="ttdeci">@ kNERtcVideoFormatI420</div><div class="ttdoc">I420 视频格式。</div><div class="ttdef"><b>定义</b> NERtcEngineEnum.h:1096</div></div>
<div class="ttc" id="a_n_e_rtc_engine_enum_8h_html_a9fb644b8c2b9d99dc01b51f7ad1c7458a2219e94298b11869230d8686da17e30b"><div class="ttname"><a href="_n_e_rtc_engine_enum_8h.html#a9fb644b8c2b9d99dc01b51f7ad1c7458a2219e94298b11869230d8686da17e30b">kNERtcVideoProfileHD720P</a></div><div class="ttdeci">@ kNERtcVideoProfileHD720P</div><div class="ttdoc">HD (1280 x 720 @ 30 fps)</div><div class="ttdef"><b>定义</b> NERtcEngineEnum.h:483</div></div>
<div class="ttc" id="a_n_e_rtc_engine_enum_8h_html_ae5379f1436fcbbebb653c6532262a4b5a642869b02df62abd76bddc36d6a8d815"><div class="ttname"><a href="_n_e_rtc_engine_enum_8h.html#ae5379f1436fcbbebb653c6532262a4b5a642869b02df62abd76bddc36d6a8d815">kNERtcVideoFrameRateFps15</a></div><div class="ttdeci">@ kNERtcVideoFrameRateFps15</div><div class="ttdoc">15 fps.</div><div class="ttdef"><b>定义</b> NERtcEngineEnum.h:571</div></div>
<div class="ttc" id="ainterface_n_e_rtc_base_video_encode_configuration_html_a5f3e81b29fcc10824af50605d14404f1"><div class="ttname"><a href="interface_n_e_rtc_base_video_encode_configuration.html#a5f3e81b29fcc10824af50605d14404f1">NERtcBaseVideoEncodeConfiguration::frameRate</a></div><div class="ttdeci">NERtcVideoFrameRate frameRate</div><div class="ttdoc">视频编码的帧率。详细信息请参考 NERtcVideoFrameRate。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:395</div></div>
<div class="ttc" id="ainterface_n_e_rtc_base_video_encode_configuration_html_a932a66bd2a9e8d8e1a47e6dc0a949a0a"><div class="ttname"><a href="interface_n_e_rtc_base_video_encode_configuration.html#a932a66bd2a9e8d8e1a47e6dc0a949a0a">NERtcBaseVideoEncodeConfiguration::maxProfile</a></div><div class="ttdeci">NERtcVideoProfileType maxProfile</div><div class="ttdoc">视频编码的分辨率，用于衡量编码质量。详细信息请参考 NERtcVideoProfileType。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:377</div></div>
<div class="ttc" id="ainterface_n_e_rtc_video_frame_html"><div class="ttname"><a href="interface_n_e_rtc_video_frame.html">NERtcVideoFrame</a></div><div class="ttdoc">视频帧信息。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:1622</div></div>
<div class="ttc" id="ainterface_n_e_rtc_video_frame_html_a0857ce308ec724442eba451ad2fa774b"><div class="ttname"><a href="interface_n_e_rtc_video_frame.html#a0857ce308ec724442eba451ad2fa774b">NERtcVideoFrame::rotation</a></div><div class="ttdeci">NERtcVideoRotationType rotation</div><div class="ttdoc">视频顺时针旋转角度。详细信息请参考 NERtcVideoRotationType。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:1672</div></div>
<div class="ttc" id="ainterface_n_e_rtc_video_frame_html_a0db937ac4cde32263af8fb8b8098cff0"><div class="ttname"><a href="interface_n_e_rtc_video_frame.html#a0db937ac4cde32263af8fb8b8098cff0">NERtcVideoFrame::width</a></div><div class="ttdeci">uint32_t width</div><div class="ttdoc">视频高，即视频帧在横轴上的像素。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:1652</div></div>
<div class="ttc" id="ainterface_n_e_rtc_video_frame_html_a460da488534e9d0d4af38134a06f905a"><div class="ttname"><a href="interface_n_e_rtc_video_frame.html#a460da488534e9d0d4af38134a06f905a">NERtcVideoFrame::format</a></div><div class="ttdeci">NERtcVideoFormatType format</div><div class="ttdoc">视频帧格式，详细信息请参考 NERtcVideoFormatType。 视频外部渲染场景下，仅支持 kNERtcVideoFormatI420。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:1632</div></div>
<div class="ttc" id="ainterface_n_e_rtc_video_frame_html_a4b8bbb3af680e11805e928f9a3621a1d"><div class="ttname"><a href="interface_n_e_rtc_video_frame.html#a4b8bbb3af680e11805e928f9a3621a1d">NERtcVideoFrame::timestamp</a></div><div class="ttdeci">uint64_t timestamp</div><div class="ttdoc">视频时间戳，单位为毫秒。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:1642</div></div>
<div class="ttc" id="ainterface_n_e_rtc_video_frame_html_a6ca13b28eeea90bda6957cb74f8714fd"><div class="ttname"><a href="interface_n_e_rtc_video_frame.html#a6ca13b28eeea90bda6957cb74f8714fd">NERtcVideoFrame::buffer</a></div><div class="ttdeci">void * buffer</div><div class="ttdoc">视频数据指针。 视频外部输入场景下，按照不同的格式，可支持 CVPixelBuffer、NSData 的 bytes； 对于 I420 格式，代表 Y 分量的指针； 对于 NV12 和 BGRA 格式，...</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:1686</div></div>
<div class="ttc" id="ainterface_n_e_rtc_video_frame_html_adab8abe3b19d32acaab1a35cb6d89046"><div class="ttname"><a href="interface_n_e_rtc_video_frame.html#adab8abe3b19d32acaab1a35cb6d89046">NERtcVideoFrame::height</a></div><div class="ttdeci">uint32_t height</div><div class="ttdoc">视频宽，即视频帧在纵轴上的像素。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:1662</div></div>
<div class="ttc" id="ainterface_n_e_rtc_video_sub_stream_encode_configuration_html"><div class="ttname"><a href="interface_n_e_rtc_video_sub_stream_encode_configuration.html">NERtcVideoSubStreamEncodeConfiguration</a></div><div class="ttdoc">本地辅流发送配置。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:661</div></div>
</div><!-- fragment --> </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal）：通用错误，比如已通过主流通道开启本地视频采集，又创建了主流通道的外部视频源。</li>
<li>30004（kNERtcErrNotSupported）：不支持的操作，比如当前使用的是纯音频 SDK。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a01ae73868efae4c9b0fb626c5dbd87a5" name="a01ae73868efae4c9b0fb626c5dbd87a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01ae73868efae4c9b0fb626c5dbd87a5">&#9670;&#160;</a></span>setLocalMediaPriority:preemptive:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setLocalMediaPriority: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#aef05880b570ff883c3bced7a37e1ebee">NERtcMediaPriorityType</a>)</td>          <td class="paramname"><span class="paramname"><em>priority</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">preemptive:</td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>preemptive</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置本地用户的媒体流优先级。 <br  />
 通过此接口可以实现设置某用户的媒体流优先级为高，从而弱网环境下 SDK 会优先保证其他用户收到的该用户媒体流的质量。 </p>
<dl class="section since"><dt>自从</dt><dd>V4.2.0 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化之后调用此接口，且该方法仅可在加入房间前调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>一个音视频房间中只有一个高优先级的用户。建议房间中只有一位用户调用 setLocalMediaPriority 将本端媒体流设为高优先级，否则需要开启抢占模式，保证本地用户的高优先级设置生效。</li>
<li>调用 <code><a class="el" href="protocol_i_n_e_rtc_engine-p.html#ae8f6b81e234fe70c715eb35c7665bbcd">INERtcEngine#switchChannelWithToken:channelName:channelOptions:completion:</a></code> 方法快速切换房间后，媒体优先级会恢复为默认值，即普通优先级。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>参数说明 </dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>priority </td><td>NERtcMediaPriorityType </td><td>本地用户的媒体流优先级，默认为 kNERtcMediaPriorityNormal，即普通优先级。  </td></tr>
<tr>
<td>preemptive </td><td>BOOL </td><td>是否开启抢占模式：<ul>
<li>
YES：开启抢占模式。抢占模式开启时，本地用户可以抢占其他用户的高优先级，被抢占的用户的媒体优先级变为普通优先级，在抢占者退出房间后，其他用户的优先级仍旧维持普通优先级。</li>
<li>
NO：关闭抢占模式。抢占模式关闭时，如果房间中已有高优先级用户，则本地用户的高优先级设置不生效，仍旧为普通优先级。  </li>
</ul>
</td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line">[channel setLocalMediaPriority:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#aef05880b570ff883c3bced7a37e1ebeea9718c465bd98c50c52662be0face6305">kNERtcMediaPriorityHigh</a> preemptive:YES];</div>
<div class="ttc" id="a_n_e_rtc_engine_enum_8h_html_aef05880b570ff883c3bced7a37e1ebeea9718c465bd98c50c52662be0face6305"><div class="ttname"><a href="_n_e_rtc_engine_enum_8h.html#aef05880b570ff883c3bced7a37e1ebeea9718c465bd98c50c52662be0face6305">kNERtcMediaPriorityHigh</a></div><div class="ttdeci">@ kNERtcMediaPriorityHigh</div><div class="ttdoc">高优先级。</div><div class="ttdef"><b>定义</b> NERtcEngineEnum.h:2626</div></div>
</div><!-- fragment --> </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。  </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a3aba0e48eb5f02027c9dbcb3c785ad49" name="a3aba0e48eb5f02027c9dbcb3c785ad49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3aba0e48eb5f02027c9dbcb3c785ad49">&#9670;&#160;</a></span>setLocalPublishFallbackOption:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setLocalPublishFallbackOption: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#a9fdaa7672765d4895dfb9d1cb859196d">NERtcStreamFallbackOptions</a>)</td>          <td class="paramname"><span class="paramname"><em>option</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置弱网条件下发布的音视频流回退选项。 <br  />
在网络不理想的环境下，发布的音视频质量都会下降。使用该接口并将 option 设置为 kNERtcStreamFallbackOptionAudioOnly 后: </p>
<ul>
<li>SDK 会在上行弱网且音视频质量严重受影响时，自动关断视频流，尽量保证音频质量。</li>
<li>同时 SDK 会持续监控网络质量，并在网络质量改善时恢复音视频流。</li>
<li>当本地发布的音视频流回退为音频流时，或由音频流恢复为音视频流时，SDK 会触发本地发布的媒体流已回退为音频流 onLocalPublishFallbackToAudioOnly 回调。 </li>
</ul>
<dl class="section note"><dt>注解</dt><dd>请在加入房间（joinChannel）前调用此方法。 </dd></dl>
<dl class="section since"><dt>自从</dt><dd>V4.5.0 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">option</td><td>发布音视频流的回退选项，默认为不开启回退。 详细信息请参考 <code><a class="el" href="_n_e_rtc_engine_enum_8h.html#a9fdaa7672765d4895dfb9d1cb859196d">NERtcStreamFallbackOptions</a></code>。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>操作返回值，成功则返回 0  </dd></dl>

</div>
</div>
<a id="ade23688425ac543bee53e64e63d97f32" name="ade23688425ac543bee53e64e63d97f32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade23688425ac543bee53e64e63d97f32">&#9670;&#160;</a></span>setLocalRenderScaleMode:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setLocalRenderScaleMode: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#aed93801676e293da4cc95b382a6d05d1">NERtcVideoRenderScaleMode</a>)</td>          <td class="paramname"><span class="paramname"><em>mode</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置画布中本地视频画面的显示模式。 <br  />
 通过本接口可以实现设置本地视频画面的适应性，即是否裁剪或缩放。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.5.0 </dd></dl>
<dl class="section user"><dt>调用时机 </dt><dd><br  />
 请在初始化后调用该方法，且该方法仅可在加入房间后调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd>纯音频 SDK 禁用该接口，如需使用请前往<a href="https://doc.yunxin.163.com/nertc/sdk-download" target="_blank">云信官网</a>下载并替换成视频 SDK。 </dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>mode </td><td><code><a class="el" href="_n_e_rtc_engine_enum_8h.html#aed93801676e293da4cc95b382a6d05d1">NERtcVideoRenderScaleMode</a></code> </td><td>视频显示模式类型：<ul>
<li>
kNERtcVideoRenderScaleFit（0）:适应视频，视频尺寸等比缩放。优先保证视频内容全部显示。若视频尺寸与显示视窗尺寸不一致，视窗未被填满的区域填充背景色。</li>
<li>
kNERtcVideoRenderScaleFullFill（1）：视频尺寸非等比缩放。保证视频内容全部显示，且填满视窗。</li>
<li>
kNERtcVideoRenderScaleCropFill（2）：适应区域，视频尺寸等比缩放。保证所有区域被填满，视频超出部分会被裁剪。  </li>
</ul>
</td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line">[channel setLocalRenderScaleMode:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#aed93801676e293da4cc95b382a6d05d1aea2cbecbc0be393b626685892a9126c5">kNERtcVideoRenderScaleFit</a>];</div>
<div class="ttc" id="a_n_e_rtc_engine_enum_8h_html_aed93801676e293da4cc95b382a6d05d1aea2cbecbc0be393b626685892a9126c5"><div class="ttname"><a href="_n_e_rtc_engine_enum_8h.html#aed93801676e293da4cc95b382a6d05d1aea2cbecbc0be393b626685892a9126c5">kNERtcVideoRenderScaleFit</a></div><div class="ttdeci">@ kNERtcVideoRenderScaleFit</div><div class="ttdoc">适应视频，视频尺寸等比缩放。优先保证视频内容全部显示。若视频尺寸与显示视窗尺寸不一致，视窗未被填满的区域填充背景色。</div><div class="ttdef"><b>定义</b> NERtcEngineEnum.h:803</div></div>
</div><!-- fragment --> </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30004（kNERtcErrNotSupported）：不支持的操作，比如当前使用的是纯音频 SDK。</li>
<li>30005（kNERtcErrInvalidState）：当前状态不支持的操作，比如引擎尚未初始化。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="ad3d19e736ac00f3086b5cebf27300069" name="ad3d19e736ac00f3086b5cebf27300069"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3d19e736ac00f3086b5cebf27300069">&#9670;&#160;</a></span>setLocalRenderSubStreamScaleMode:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setLocalRenderSubStreamScaleMode: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#aed93801676e293da4cc95b382a6d05d1">NERtcVideoRenderScaleMode</a>)</td>          <td class="paramname"><span class="paramname"><em>mode</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置画布中本地屏幕共享辅流视频画面的显示模式。 <br  />
 通过本接口可以实现设置本地发布的屏幕共享视频画面的适应性，即是否裁剪或缩放。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.9.0 </dd></dl>
<dl class="section user"><dt>使用前提</dt><dd>请先调用 <code><a class="el" href="#ace17209d643420b159c42c71bd6ce9e3">INERtcChannel#setupLocalSubStreamVideoCanvas:</a></code> 方法设置本地辅流画布。 </dd></dl>
<dl class="section user"><dt>调用时机 </dt><dd><br  />
 请在初始化后调用该方法，且该方法仅可在加入房间后调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd>纯音频 SDK 禁用该接口，如需使用请前往<a href="https://doc.yunxin.163.com/nertc/sdk-download" target="_blank">云信官网</a>下载并替换成视频 SDK。 </dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>mode </td><td><code><a class="el" href="_n_e_rtc_engine_enum_8h.html#aed93801676e293da4cc95b382a6d05d1">NERtcVideoRenderScaleMode</a></code> </td><td>视频显示模式类型：<ul>
<li>
kNERtcVideoRenderScaleFit（0）:适应视频，视频尺寸等比缩放。优先保证视频内容全部显示。若视频尺寸与显示视窗尺寸不一致，视窗未被填满的区域填充背景色。</li>
<li>
kNERtcVideoRenderScaleFullFill（1）：视频尺寸非等比缩放。保证视频内容全部显示，且填满视窗。</li>
<li>
kNERtcVideoRenderScaleCropFill（2）：适应区域，视频尺寸等比缩放。保证所有区域被填满，视频超出部分会被裁剪。  </li>
</ul>
</td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line">[channel setLocalRenderSubStreamScaleMode:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#aed93801676e293da4cc95b382a6d05d1aea2cbecbc0be393b626685892a9126c5">kNERtcVideoRenderScaleFit</a>];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30004（kNERtcErrNotSupported）：不支持的操作，比如当前使用的是纯音频 SDK。</li>
<li>30005（kNERtcErrInvalidState）：当前状态不支持的操作，比如引擎尚未初始化。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="aced278fd29e4f41a800936d799686b91" name="aced278fd29e4f41a800936d799686b91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aced278fd29e4f41a800936d799686b91">&#9670;&#160;</a></span>setLocalVideoConfig:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setLocalVideoConfig: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_e_rtc_video_encode_configuration.html">NERtcVideoEncodeConfiguration</a> *)</td>          <td class="paramname"><span class="paramname"><em>config</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置视频编码属性。 <br  />
通过此接口可以设置视频主流的编码分辨率、裁剪模式、码率、帧率、带宽受限时的视频编码降级偏好、编码的镜像模式、编码的方向模式参数，详细信息请参考 <a href="https://doc.yunxin.163.com/docs/jcyOTA0ODM/zcwMTY4MzM">设置视频属性</a>。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.5.0 </dd></dl>
<dl class="section user"><dt>调用时机 </dt><dd><br  />
 请在初始化后调用该方法，且该方法在加入房间前后均可调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>纯音频 SDK 禁用该接口，如需使用请前往<a href="https://doc.yunxin.163.com/nertc/sdk-download" target="_blank">云信官网</a>下载并替换成视频 SDK。</li>
<li>每个属性对应一套视频参数，例如分辨率、帧率、码率等。所有设置的参数均为理想情况下的最大值。当视频引擎因网络环境等原因无法达到设置的分辨率、帧率或码率的最大值时，会取最接近最大值的那个值。</li>
<li>此接口为全量参数配置接口，重复调用此接口时，SDK 会刷新此前的所有参数配置，以最新的传参为准。所以每次修改配置时都需要设置所有参数，未设置的参数将取默认值。</li>
<li>自 V4.5.0 版本起，此方法设置实时生效；此前的版本中，此方法设置成功后，下次开启本端视频时生效。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>参数说明 </dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>config </td><td><code><a class="el" href="interface_n_e_rtc_video_encode_configuration.html">NERtcVideoEncodeConfiguration</a></code> </td><td>视频编码属性配置。  </td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><span class="comment">//设置本地视频主流编码参数</span></div>
<div class="line"><a class="code hl_interface" href="interface_n_e_rtc_video_encode_configuration.html">NERtcVideoEncodeConfiguration</a> *config = [[<a class="code hl_interface" href="interface_n_e_rtc_video_encode_configuration.html">NERtcVideoEncodeConfiguration</a> alloc] init];</div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_video_encode_configuration.html#a32b18b81f7b257594a697dc1351d569b">width</a> = 640;<span class="comment">// 设置分辨率宽</span></div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_video_encode_configuration.html#ac5e2281804c203bb67fbcd297ac95088">height</a> = 360;<span class="comment">// 设置分辨率高</span></div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_video_encode_configuration.html#a6222958d2d8e0ed4943196ccc9030071">cropMode</a> = <a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#a1eea35f7dcaca009305ba23801bc9099a869482ba705005763f951c1126ed13c2">kNERtcVideoCropMode16_9</a>;      <span class="comment">// 设置裁剪格式为 16:9</span></div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_base_video_encode_configuration.html#a5f3e81b29fcc10824af50605d14404f1">frameRate</a> = <a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#ae5379f1436fcbbebb653c6532262a4b5afb8bea260c8645ce4ff936607ea0cc20">kNERtcVideoFrameRateFps30</a>; <span class="comment">//视频帧率</span></div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_base_video_encode_configuration.html#ad29d2a2fc1d3e31ea10a824f107648ac">minFrameRate</a> = mMinFrameRate; <span class="comment">//视频最小帧率</span></div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_base_video_encode_configuration.html#a0e543671326dca52177607871c054337">bitrate</a> = mBitrate; <span class="comment">//视频编码码率</span></div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_base_video_encode_configuration.html#aed5d63be5df7f97fab3e6007a007786e">minBitrate</a> = mMinBitrate; <span class="comment">//视频编码最小码率</span></div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_video_encode_configuration.html#aad45c14af27c85ee257e7c42f3546eb9">degradationPreference</a> = <a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#adef025c492f8fbcc4a915cc98505a53faa292f3b03e480c76b5621aea22f905d9">kNERtcDegradationDefault</a>; ;<span class="comment">//带宽受限时的视频编码降级偏好</span></div>
<div class="line">[channel setLocalVideoConfig:config];</div>
<div class="ttc" id="a_n_e_rtc_engine_enum_8h_html_a1eea35f7dcaca009305ba23801bc9099a869482ba705005763f951c1126ed13c2"><div class="ttname"><a href="_n_e_rtc_engine_enum_8h.html#a1eea35f7dcaca009305ba23801bc9099a869482ba705005763f951c1126ed13c2">kNERtcVideoCropMode16_9</a></div><div class="ttdeci">@ kNERtcVideoCropMode16_9</div><div class="ttdoc">16:9</div><div class="ttdef"><b>定义</b> NERtcEngineEnum.h:966</div></div>
<div class="ttc" id="a_n_e_rtc_engine_enum_8h_html_adef025c492f8fbcc4a915cc98505a53faa292f3b03e480c76b5621aea22f905d9"><div class="ttname"><a href="_n_e_rtc_engine_enum_8h.html#adef025c492f8fbcc4a915cc98505a53faa292f3b03e480c76b5621aea22f905d9">kNERtcDegradationDefault</a></div><div class="ttdeci">@ kNERtcDegradationDefault</div><div class="ttdoc">（默认）根据场景模式调整适应性偏好。</div><div class="ttdef"><b>定义</b> NERtcEngineEnum.h:634</div></div>
<div class="ttc" id="a_n_e_rtc_engine_enum_8h_html_ae5379f1436fcbbebb653c6532262a4b5afb8bea260c8645ce4ff936607ea0cc20"><div class="ttname"><a href="_n_e_rtc_engine_enum_8h.html#ae5379f1436fcbbebb653c6532262a4b5afb8bea260c8645ce4ff936607ea0cc20">kNERtcVideoFrameRateFps30</a></div><div class="ttdeci">@ kNERtcVideoFrameRateFps30</div><div class="ttdoc">30 fps.</div><div class="ttdef"><b>定义</b> NERtcEngineEnum.h:589</div></div>
<div class="ttc" id="ainterface_n_e_rtc_base_video_encode_configuration_html_a0e543671326dca52177607871c054337"><div class="ttname"><a href="interface_n_e_rtc_base_video_encode_configuration.html#a0e543671326dca52177607871c054337">NERtcBaseVideoEncodeConfiguration::bitrate</a></div><div class="ttdeci">NSInteger bitrate</div><div class="ttdoc">视频编码的码率，单位为 Kbps。  您可以根据场景需要，手动设置想要的码率。详细码表请参考 设置视频属性。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:468</div></div>
<div class="ttc" id="ainterface_n_e_rtc_base_video_encode_configuration_html_ad29d2a2fc1d3e31ea10a824f107648ac"><div class="ttname"><a href="interface_n_e_rtc_base_video_encode_configuration.html#ad29d2a2fc1d3e31ea10a824f107648ac">NERtcBaseVideoEncodeConfiguration::minFrameRate</a></div><div class="ttdeci">NSInteger minFrameRate</div><div class="ttdoc">视频编码的最小帧率。默认为 0，表示使用默认最小帧率。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:405</div></div>
<div class="ttc" id="ainterface_n_e_rtc_base_video_encode_configuration_html_aed5d63be5df7f97fab3e6007a007786e"><div class="ttname"><a href="interface_n_e_rtc_base_video_encode_configuration.html#aed5d63be5df7f97fab3e6007a007786e">NERtcBaseVideoEncodeConfiguration::minBitrate</a></div><div class="ttdeci">NSInteger minBitrate</div><div class="ttdoc">视频编码的最小码率，单位为 Kbps。您可以根据场景需要，手动设置想要的最小码率，若设置为 0，SDK 将会自行计算处理。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:478</div></div>
<div class="ttc" id="ainterface_n_e_rtc_video_encode_configuration_html"><div class="ttname"><a href="interface_n_e_rtc_video_encode_configuration.html">NERtcVideoEncodeConfiguration</a></div><div class="ttdoc">本地视频发送配置</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:555</div></div>
<div class="ttc" id="ainterface_n_e_rtc_video_encode_configuration_html_a32b18b81f7b257594a697dc1351d569b"><div class="ttname"><a href="interface_n_e_rtc_video_encode_configuration.html#a32b18b81f7b257594a697dc1351d569b">NERtcVideoEncodeConfiguration::width</a></div><div class="ttdeci">int width</div><div class="ttdoc">视频编码分辨率，衡量编码质量，以宽 x 高表示。与 maxProfile 属性二选一。推荐优先使用自定义宽高设置。  width 表示视频帧在横轴上的像素，即自定义宽。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:572</div></div>
<div class="ttc" id="ainterface_n_e_rtc_video_encode_configuration_html_a6222958d2d8e0ed4943196ccc9030071"><div class="ttname"><a href="interface_n_e_rtc_video_encode_configuration.html#a6222958d2d8e0ed4943196ccc9030071">NERtcVideoEncodeConfiguration::cropMode</a></div><div class="ttdeci">NERtcVideoCropMode cropMode</div><div class="ttdoc">视频画面裁剪模式，默认为 kNERtcVideoCropDefault。自定义视频输入不支持设置裁剪模式。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:600</div></div>
<div class="ttc" id="ainterface_n_e_rtc_video_encode_configuration_html_aad45c14af27c85ee257e7c42f3546eb9"><div class="ttname"><a href="interface_n_e_rtc_video_encode_configuration.html#aad45c14af27c85ee257e7c42f3546eb9">NERtcVideoEncodeConfiguration::degradationPreference</a></div><div class="ttdeci">NERtcDegradationPreference degradationPreference</div><div class="ttdoc">带宽受限时的视频编码降级偏好。详细信息请参考 NERtcDegradationPreference。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:622</div></div>
<div class="ttc" id="ainterface_n_e_rtc_video_encode_configuration_html_ac5e2281804c203bb67fbcd297ac95088"><div class="ttname"><a href="interface_n_e_rtc_video_encode_configuration.html#ac5e2281804c203bb67fbcd297ac95088">NERtcVideoEncodeConfiguration::height</a></div><div class="ttdeci">int height</div><div class="ttdoc">视频编码分辨率，衡量编码质量，以宽 x 高表示。与 maxProfile 属性二选一。推荐优先使用自定义宽高设置。  height 表示视频帧在纵轴上的像素，即自定义高。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:590</div></div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关接口</dt><dd>若您希望为视频辅流通道设置编码属性，请调用 <code><a class="el" href="#acca3441b8644f6b1f1cdfe77b45edf0f">INERtcChannel#setLocalVideoConfig:streamType:</a></code> 方法。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30003（kNERtcErrInvalidParam）：参数错误，比如 config 设置为空。</li>
<li>30004（kNERtcErrNotSupported）：不支持的操作，比如当前使用的是纯音频 SDK。</li>
<li>30005（kNERtcErrInvalidState）：当前状态不支持的操作，比如引擎未初始化成功。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="acca3441b8644f6b1f1cdfe77b45edf0f" name="acca3441b8644f6b1f1cdfe77b45edf0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acca3441b8644f6b1f1cdfe77b45edf0f">&#9670;&#160;</a></span>setLocalVideoConfig:streamType:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) <a class="el" href="#aced278fd29e4f41a800936d799686b91">setLocalVideoConfig:</a> </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_e_rtc_video_encode_configuration.html">NERtcVideoEncodeConfiguration</a> *)</td>          <td class="paramname"><span class="paramname"><em>config</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">streamType:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a>)</td>          <td class="paramname"><span class="paramname"><em>streamType</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置视频编码属性。 <br  />
通过此接口可以设置视频主流或辅流的编码分辨率、裁剪模式、码率、帧率、带宽受限时的视频编码降级偏好、编码的镜像模式、编码的方向模式参数。 </p>
<dl class="section since"><dt>自从</dt><dd>V4.6.20 </dd></dl>
<dl class="section user"><dt>调用时机 </dt><dd><br  />
 请在初始化后调用该方法，且该方法在加入房间前后均可调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>纯音频 SDK 禁用该接口，如需使用请前往<a href="https://doc.yunxin.163.com/nertc/sdk-download" target="_blank">云信官网</a>下载并替换成视频 SDK。</li>
<li>每个属性对应一套视频参数，例如分辨率、帧率、码率等。所有设置的参数均为理想情况下的最大值。当视频引擎因网络环境等原因无法达到设置的分辨率、帧率或码率的最大值时，会取最接近最大值的那个值。</li>
<li>此接口为全量参数配置接口，重复调用此接口时，SDK 会刷新此前的所有参数配置，以最新的传参为准。所以每次修改配置时都需要设置所有参数，未设置的参数将取默认值。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>参数说明 </dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>config </td><td><code><a class="el" href="interface_n_e_rtc_video_encode_configuration.html">NERtcVideoEncodeConfiguration</a></code> </td><td>视频编码属性配置。  </td></tr>
<tr>
<td>streamType </td><td><code><a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a></code> </td><td>视频通道类型：<ul>
<li>
kNERtcStreamChannelTypeMainStream：主流。</li>
<li>
kNERtcStreamChannelTypeSubStream：辅流。  </li>
</ul>
</td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><span class="comment">//设置本地视频主流编码参数</span></div>
<div class="line"><a class="code hl_interface" href="interface_n_e_rtc_video_encode_configuration.html">NERtcVideoEncodeConfiguration</a> *config = [[<a class="code hl_interface" href="interface_n_e_rtc_video_encode_configuration.html">NERtcVideoEncodeConfiguration</a> alloc] init];</div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_video_encode_configuration.html#a32b18b81f7b257594a697dc1351d569b">width</a> = 640;<span class="comment">// 设置分辨率宽</span></div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_video_encode_configuration.html#ac5e2281804c203bb67fbcd297ac95088">height</a> = 360;<span class="comment">// 设置分辨率高</span></div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_video_encode_configuration.html#a6222958d2d8e0ed4943196ccc9030071">cropMode</a> = <a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#a1eea35f7dcaca009305ba23801bc9099a869482ba705005763f951c1126ed13c2">kNERtcVideoCropMode16_9</a>;      <span class="comment">// 设置裁剪格式为 16:9</span></div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_base_video_encode_configuration.html#a5f3e81b29fcc10824af50605d14404f1">frameRate</a> = <a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#ae5379f1436fcbbebb653c6532262a4b5afb8bea260c8645ce4ff936607ea0cc20">kNERtcVideoFrameRateFps30</a>; <span class="comment">//视频帧率</span></div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_base_video_encode_configuration.html#ad29d2a2fc1d3e31ea10a824f107648ac">minFrameRate</a> = mMinFrameRate; <span class="comment">//视频最小帧率</span></div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_base_video_encode_configuration.html#a0e543671326dca52177607871c054337">bitrate</a> = mBitrate; <span class="comment">//视频编码码率</span></div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_base_video_encode_configuration.html#aed5d63be5df7f97fab3e6007a007786e">minBitrate</a> = mMinBitrate; <span class="comment">//视频编码最小码率</span></div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_video_encode_configuration.html#aad45c14af27c85ee257e7c42f3546eb9">degradationPreference</a> = <a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#adef025c492f8fbcc4a915cc98505a53faa292f3b03e480c76b5621aea22f905d9">kNERtcDegradationDefault</a>; <span class="comment">//带宽受限时的视频编码降级偏好</span></div>
<div class="line">[channel setLocalVideoConfig:config streamType:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0a693d2e4a3d4c1e8ac3debb9781c15376">kNERtcStreamChannelTypeMainStream</a>];</div>
<div class="line"><span class="comment">//设置本地视频辅流编码参数</span></div>
<div class="line"><a class="code hl_interface" href="interface_n_e_rtc_video_encode_configuration.html">NERtcVideoEncodeConfiguration</a> *subConfig = [[<a class="code hl_interface" href="interface_n_e_rtc_video_encode_configuration.html">NERtcVideoEncodeConfiguration</a> alloc] init];</div>
<div class="line">subConfig.<a class="code hl_property" href="interface_n_e_rtc_video_encode_configuration.html#a32b18b81f7b257594a697dc1351d569b">width</a> = 640;</div>
<div class="line">subConfig.<a class="code hl_property" href="interface_n_e_rtc_video_encode_configuration.html#ac5e2281804c203bb67fbcd297ac95088">height</a> = 360;</div>
<div class="line">subConfig.<a class="code hl_property" href="interface_n_e_rtc_video_encode_configuration.html#a6222958d2d8e0ed4943196ccc9030071">cropMode</a> = <a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#a1eea35f7dcaca009305ba23801bc9099a869482ba705005763f951c1126ed13c2">kNERtcVideoCropMode16_9</a>;      </div>
<div class="line">subConfig.<a class="code hl_property" href="interface_n_e_rtc_base_video_encode_configuration.html#a5f3e81b29fcc10824af50605d14404f1">frameRate</a> = <a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#ae5379f1436fcbbebb653c6532262a4b5afb8bea260c8645ce4ff936607ea0cc20">kNERtcVideoFrameRateFps30</a>; </div>
<div class="line">subConfig.<a class="code hl_property" href="interface_n_e_rtc_base_video_encode_configuration.html#ad29d2a2fc1d3e31ea10a824f107648ac">minFrameRate</a> = mMinFrameRate; </div>
<div class="line">subConfig.<a class="code hl_property" href="interface_n_e_rtc_base_video_encode_configuration.html#a0e543671326dca52177607871c054337">bitrate</a> = mBitrate;</div>
<div class="line">subConfig.<a class="code hl_property" href="interface_n_e_rtc_base_video_encode_configuration.html#aed5d63be5df7f97fab3e6007a007786e">minBitrate</a> = mMinBitrate; </div>
<div class="line">subConfig.<a class="code hl_property" href="interface_n_e_rtc_video_encode_configuration.html#aad45c14af27c85ee257e7c42f3546eb9">degradationPreference</a> = <a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#adef025c492f8fbcc4a915cc98505a53faa292f3b03e480c76b5621aea22f905d9">kNERtcDegradationDefault</a>;</div>
<div class="line">[channel setLocalVideoConfig:subConfig streamType:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0affe50e0122ed5a179254c496cfabf32c">kNERtcStreamChannelTypeSubStream</a>];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30003（kNERtcErrInvalidParam）：参数错误，比如 config 设置为空。</li>
<li>30004（kNERtcErrNotSupported）：不支持的操作，比如当前使用的是纯音频 SDK。</li>
<li>30005（kNERtcErrInvalidState）：当前状态不支持的操作，比如引擎未初始化成功。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a4da37100024e9b82a36299da2c96a6f2" name="a4da37100024e9b82a36299da2c96a6f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4da37100024e9b82a36299da2c96a6f2">&#9670;&#160;</a></span>setLocalVideoMosaic:streamType:rect:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setLocalVideoMosaic: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>enabled</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">streamType:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a>)</td>          <td class="paramname"><span class="paramname"><em>streamType</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">rect:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_e_rtc_frame_normalized_rect.html">NERtcFrameNormalizedRect</a> *)</td>          <td class="paramname"><span class="paramname"><em>rect</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置本地视频马赛克效果。 <br  />
通过此接口可以对本地视频流指定区域开启或关闭马赛克（像素化）效果。 </p>
<dl class="section since"><dt>自从</dt><dd>V5.9.15 </dd></dl>
<dl class="section user"><dt>使用时机</dt><dd>请在引擎初始化后调用本方法。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>调用本方法无需加入房间。</li>
<li>马赛克效果仅作用于本地视频流的指定区域。 </li>
</ul>
</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">streamType</td><td>视频流通道类型。详见 <code><a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a></code>。 </td></tr>
    <tr><td class="paramname">enabled</td><td>是否开启马赛克效果。YES 表示开启，NO 表示关闭。 </td></tr>
    <tr><td class="paramname">rect</td><td>需要应用马赛克效果的归一化区域（0~1），详见 <code><a class="el" href="interface_n_e_rtc_frame_normalized_rect.html">NERtcFrameNormalizedRect</a></code>。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。  </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a26c695746743c73163c00002d06675e6" name="a26c695746743c73163c00002d06675e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26c695746743c73163c00002d06675e6">&#9670;&#160;</a></span>setRangeAudioMode:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setRangeAudioMode: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#ac3f2de7755210408f1281e0f1bfe870a">NERtcRangeAudioMode</a>)</td>          <td class="paramname"><span class="paramname"><em>mode</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置范围语音模式 </p>
<dl class="section note"><dt>注解</dt><dd>此接口在加入房间前后均可调用。 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>范围语音模式 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0: 方法调用成功</li>
<li>其他: 调用失败 </li>
</ul>
</dd></dl>

</div>
</div>
<a id="aadd2173e2cdfa1834158b142d41654ae" name="aadd2173e2cdfa1834158b142d41654ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadd2173e2cdfa1834158b142d41654ae">&#9670;&#160;</a></span>setRangeAudioTeamID:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setRangeAudioTeamID: </td>
          <td></td>
          <td class="paramtype">(int32_t)</td>          <td class="paramname"><span class="paramname"><em>teamId</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置范围语音小队 </p>
<dl class="section note"><dt>注解</dt><dd>此接口在加入房间前后均可调用。 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">teamId</td><td>小队 ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0: 方法调用成功</li>
<li>其他: 调用失败 </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a3ece200dcad58d943b34ef315351429e" name="a3ece200dcad58d943b34ef315351429e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ece200dcad58d943b34ef315351429e">&#9670;&#160;</a></span>setRemoteHighPriorityAudioStream:forUserID:streamType:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setRemoteHighPriorityAudioStream: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>enable</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">forUserID:</td>
          <td></td>
          <td class="paramtype">(uint64_t)</td>          <td class="paramname"><span class="paramname"><em>userID</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">streamType:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#af0eb8029030e25ac7ee3ac22fdfce844">NERtcAudioStreamType</a>)</td>          <td class="paramname"><span class="paramname"><em>streamType</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置远端用户音频流的高优先级。 支持在音频自动订阅的情况下，设置某一个远端用户的音频为最高优先级，可以优先听到该用户的音频。 </p>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>该接口需要通话中设置，并需要自动订阅打开（默认打开）。</li>
<li>该接口只能设置一个用户的优先级，后设置的会覆盖之前的设置。</li>
<li>该接口通话结束后，优先级设置重置。 </li>
</ul>
</dd></dl>
<dl class="section since"><dt>自从</dt><dd>V4.6.0 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">enable</td><td>是否设置音频订阅优先级。<ul>
<li>true：设置音频订阅优先级。</li>
<li>false：取消设置音频订阅优先级。 </li>
</ul>
</td></tr>
    <tr><td class="paramname">userID</td><td>用户 ID </td></tr>
    <tr><td class="paramname">streamType</td><td>订阅音频流的类型。默认为 kNERtcAudioStreamMain。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>操作返回值，成功则返回 0。  </dd></dl>

</div>
</div>
<a id="a29a87b34823ca7d9f70d4308a365fc9e" name="a29a87b34823ca7d9f70d4308a365fc9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29a87b34823ca7d9f70d4308a365fc9e">&#9670;&#160;</a></span>setRemoteRenderScaleMode:forUserID:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setRemoteRenderScaleMode: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#aed93801676e293da4cc95b382a6d05d1">NERtcVideoRenderScaleMode</a>)</td>          <td class="paramname"><span class="paramname"><em>mode</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">forUserID:</td>
          <td></td>
          <td class="paramtype">(uint64_t)</td>          <td class="paramname"><span class="paramname"><em>userID</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置画布中远端视频画面的显示模式。 <br  />
 通过本接口可以实现设置远端视频画面的适应性，即是否裁剪或缩放。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.5.0 </dd></dl>
<dl class="section user"><dt>使用前提</dt><dd>请先调用 <code><a class="el" href="#a20902faad67ee5f37d731408e3ee9b8f">INERtcChannel#subscribeRemoteVideo:forUserID:streamType:</a></code> 方法订阅指定远端用户的视频流。 </dd></dl>
<dl class="section user"><dt>调用时机 </dt><dd><br  />
 请在初始化后调用该方法，且该方法仅可在加入房间后调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd>纯音频 SDK 禁用该接口，如需使用请前往<a href="https://doc.yunxin.163.com/nertc/sdk-download" target="_blank">云信官网</a>下载并替换成视频 SDK。 </dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>mode </td><td><code><a class="el" href="_n_e_rtc_engine_enum_8h.html#aed93801676e293da4cc95b382a6d05d1">NERtcVideoRenderScaleMode</a></code> </td><td>视频显示模式类型：<ul>
<li>
kNERtcVideoRenderScaleFit（0）:适应视频，视频尺寸等比缩放。优先保证视频内容全部显示。若视频尺寸与显示视窗尺寸不一致，视窗未被填满的区域填充背景色。</li>
<li>
kNERtcVideoRenderScaleFullFill（1）：视频尺寸非等比缩放。保证视频内容全部显示，且填满视窗。</li>
<li>
kNERtcVideoRenderScaleCropFill（2）：适应区域，视频尺寸等比缩放。保证所有区域被填满，视频超出部分会被裁剪。  </li>
</ul>
</td></tr>
<tr>
<td>userID </td><td>uint64_t </td><td>远端用户 ID。  </td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line">[channel setRemoteRenderScaleMode:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#aed93801676e293da4cc95b382a6d05d1aea2cbecbc0be393b626685892a9126c5">kNERtcVideoRenderScaleFit</a> forUserID:userID];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30004（kNERtcErrNotSupported）：不支持的操作，比如当前使用的是纯音频 SDK。</li>
<li>30005（kNERtcErrInvalidState）：当前状态不支持的操作，比如尚未加入房间。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a2799d69e2b336baee4e4eb9432f33778" name="a2799d69e2b336baee4e4eb9432f33778"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2799d69e2b336baee4e4eb9432f33778">&#9670;&#160;</a></span>setRemoteRenderSubStreamVideoScaleMode:forUserID:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setRemoteRenderSubStreamVideoScaleMode: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#aed93801676e293da4cc95b382a6d05d1">NERtcVideoRenderScaleMode</a>)</td>          <td class="paramname"><span class="paramname"><em>mode</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">forUserID:</td>
          <td></td>
          <td class="paramtype">(uint64_t)</td>          <td class="paramname"><span class="paramname"><em>userID</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置画布中远端屏幕共享视频画面的显示模式。 <br  />
 通过本接口可以实现设置远端发布的屏幕共享视频画面的适应性，即是否裁剪或缩放。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.5.0 </dd></dl>
<dl class="section user"><dt>使用前提</dt><dd>请先调用 <code><a class="el" href="#a70687573014a95832b10453666e02125">INERtcChannel#subscribeRemoteSubStreamAudio:forUserID:</a></code> 方法订阅指定远端用户的屏幕共享流。 </dd></dl>
<dl class="section user"><dt>调用时机 </dt><dd><br  />
 请在初始化后调用该方法，且该方法仅可在加入房间后调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd>纯音频 SDK 禁用该接口，如需使用请前往<a href="https://doc.yunxin.163.com/nertc/sdk-download" target="_blank">云信官网</a>下载并替换成视频 SDK。 </dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>mode </td><td><code><a class="el" href="_n_e_rtc_engine_enum_8h.html#aed93801676e293da4cc95b382a6d05d1">NERtcVideoRenderScaleMode</a></code> </td><td>视频显示模式类型：<ul>
<li>
kNERtcVideoRenderScaleFit（0）:适应视频，视频尺寸等比缩放。优先保证视频内容全部显示。若视频尺寸与显示视窗尺寸不一致，视窗未被填满的区域填充背景色。</li>
<li>
kNERtcVideoRenderScaleFullFill（1）：视频尺寸非等比缩放。保证视频内容全部显示，且填满视窗。</li>
<li>
kNERtcVideoRenderScaleCropFill（2）：适应区域，视频尺寸等比缩放。保证所有区域被填满，视频超出部分会被裁剪。  </li>
</ul>
</td></tr>
<tr>
<td>userID </td><td>uint64_t </td><td>远端用户 ID。  </td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line">[channel setRemoteRenderSubStreamVideoScaleMode:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#aed93801676e293da4cc95b382a6d05d1aea2cbecbc0be393b626685892a9126c5">kNERtcVideoRenderScaleFit</a> forUserID:userID];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30004（kNERtcErrNotSupported）：不支持的操作，比如当前使用的是纯音频 SDK。</li>
<li>30005（kNERtcErrInvalidState）：当前状态不支持的操作，比如尚未加入房间。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a29a6709aa4c296c3d0538aa9d2472c34" name="a29a6709aa4c296c3d0538aa9d2472c34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29a6709aa4c296c3d0538aa9d2472c34">&#9670;&#160;</a></span>setRemoteSubscribeFallbackOption:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setRemoteSubscribeFallbackOption: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#a9fdaa7672765d4895dfb9d1cb859196d">NERtcStreamFallbackOptions</a>)</td>          <td class="paramname"><span class="paramname"><em>option</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置弱网条件下订阅的音视频流回退选项。 <br  />
弱网环境下，订阅的音视频质量会下降。通过该接口设置订阅音视频流的回退选项后： </p>
<ul>
<li>SDK 会在下行弱网且音视频质量严重受影响时，将视频流切换为小流，或关断视频流，从而保证或提高通信质量。</li>
<li>SDK 会持续监控网络质量，并在网络质量改善时自动恢复音视频流。</li>
<li>当远端订阅流回退为音频流时，或由音频流恢复为音视频流时，SDK 会触发远端订阅流已回退为音频流回调。 </li>
</ul>
<dl class="section note"><dt>注解</dt><dd>请在加入房间（joinChannel）前调用此方法。 </dd></dl>
<dl class="section since"><dt>自从</dt><dd>V4.5.0 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">option</td><td>订阅音视频流的回退选项，默认为弱网时回退到视频小流。详细信息请参考 <code><a class="el" href="_n_e_rtc_engine_enum_8h.html#a9fdaa7672765d4895dfb9d1cb859196d">NERtcStreamFallbackOptions</a></code>。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>操作返回值，成功则返回 0  </dd></dl>

</div>
</div>
<a id="ac3250c4417afda0e6e2076f20108961a" name="ac3250c4417afda0e6e2076f20108961a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3250c4417afda0e6e2076f20108961a">&#9670;&#160;</a></span>setRemoteVideoMosaic:userId:streamType:rect:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setRemoteVideoMosaic: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>enabled</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">userId:</td>
          <td></td>
          <td class="paramtype">(uint64_t)</td>          <td class="paramname"><span class="paramname"><em>userId</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">streamType:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a>)</td>          <td class="paramname"><span class="paramname"><em>streamType</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">rect:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_e_rtc_frame_normalized_rect.html">NERtcFrameNormalizedRect</a> *)</td>          <td class="paramname"><span class="paramname"><em>rect</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置远端视频马赛克效果。 <br  />
通过此接口可以对指定远端用户的视频流指定区域开启或关闭马赛克（像素化）效果。 </p>
<dl class="section since"><dt>自从</dt><dd>V5.9.15 </dd></dl>
<dl class="section user"><dt>使用时机</dt><dd>请在引擎初始化并加入房间后调用本方法。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>马赛克效果仅作用于指定远端用户视频流的指定区域。 </li>
</ul>
</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">userId</td><td>远端用户的用户 ID。 </td></tr>
    <tr><td class="paramname">streamType</td><td>视频流通道类型。详见 <code><a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a></code>。 </td></tr>
    <tr><td class="paramname">enabled</td><td>是否开启马赛克效果。YES 表示开启，NO 表示关闭。 </td></tr>
    <tr><td class="paramname">rect</td><td>需要应用马赛克效果的归一化区域（0~1），详见 <code><a class="el" href="interface_n_e_rtc_frame_normalized_rect.html">NERtcFrameNormalizedRect</a></code>。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。  </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a173e952cf8c2c010c6614216f58f3cee" name="a173e952cf8c2c010c6614216f58f3cee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a173e952cf8c2c010c6614216f58f3cee">&#9670;&#160;</a></span>setSpatializerRenderMode:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setSpatializerRenderMode: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#a5da77cff7e2b986c299a2c3e3b6007e5">NERtcSpatializerRenderMode</a>)</td>          <td class="paramname"><span class="paramname"><em>mode</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置空间音效的渲染模式 </p>
<dl class="section since"><dt>自从</dt><dd>V5.4.0 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化后调用此接口，且该方法在加入房间前才可调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd>请先调用 <code><a class="el" href="">enableSpatializer:</a></code> 接口启用空间音效，再调用本接口。 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>渲染模式，具体请参考 #NERtcSpatializerRenderMode，默认值 <a class="el" href="_n_e_rtc_engine_enum_8h.html#a5da77cff7e2b986c299a2c3e3b6007e5ad2371394720ca86fc7fa416a4fe700ac" title="双声道高">kNERtcSpatializerRenderBinauralHighQuality</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0: 方法调用成功</li>
<li>其他: 调用失败 </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ab93f094a5057227b14fb7142accf2563" name="ab93f094a5057227b14fb7142accf2563"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab93f094a5057227b14fb7142accf2563">&#9670;&#160;</a></span>setSpatializerRoomProperty:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setSpatializerRoomProperty: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_e_rtc_spatializer_room_property.html">NERtcSpatializerRoomProperty</a> *)</td>          <td class="paramname"><span class="paramname"><em>roomProperty</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置空间音效的房间混响属性 </p>
<dl class="section since"><dt>自从</dt><dd>V5.4.0 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化后调用此接口，且该方法在加入房间前才可调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd>请先调用 <code><a class="el" href="">enableSpatializer:</a></code> 接口启用空间音效，再调用本接口。 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">roomProperty</td><td>房间属性，具体请参考 <a class="el" href="interface_n_e_rtc_spatializer_room_property.html" title="3D 音效房间属性设置。">NERtcSpatializerRoomProperty</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0: 方法调用成功</li>
<li>其他: 调用失败 </li>
</ul>
</dd></dl>

</div>
</div>
<a id="aa4ba87dcc9061486e5296439c4b1c282" name="aa4ba87dcc9061486e5296439c4b1c282"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4ba87dcc9061486e5296439c4b1c282">&#9670;&#160;</a></span>setSubscribeAudioAllowlist:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setSubscribeAudioAllowlist: </td>
          <td></td>
          <td class="paramtype">(NSArray&lt; NSNumber * &gt; *)</td>          <td class="paramname"><span class="paramname"><em>uidArray</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>您可以调用该方法指定只订阅的音频流。 </p>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>此接口需要在加入房间成功后调用。</li>
<li>对于调用接口时不在房间的 uid 不生效。 </li>
</ul>
</dd></dl>
<dl class="section since"><dt>自从</dt><dd>V5.4.101 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uid_array</td><td>只订阅此 用户 uid 列表 的音频。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd>此列表为全量列表。如果列表为空或 null，取消订阅白名单。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0：方法调用成功。</li>
<li>其他：方法调用失败。  </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a921f85fc9855b5acf04d8d820efbd659" name="a921f85fc9855b5acf04d8d820efbd659"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a921f85fc9855b5acf04d8d820efbd659">&#9670;&#160;</a></span>setSubscribeAudioBlocklist:uidArray:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setSubscribeAudioBlocklist: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#af0eb8029030e25ac7ee3ac22fdfce844">NERtcAudioStreamType</a>)</td>          <td class="paramname"><span class="paramname"><em>type</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">uidArray:</td>
          <td></td>
          <td class="paramtype">(NSArray&lt; NSNumber * &gt; *)</td>          <td class="paramname"><span class="paramname"><em>uidArray</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>您可以调用该方法指定不订阅的音频流。 </p>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>此接口需要在加入房间成功后调用。</li>
<li>对于调用接口时不在房间的 uid 不生效。 </li>
</ul>
</dd></dl>
<dl class="section since"><dt>自从</dt><dd>V5.4.101 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>音频流类型。 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uid_array</td><td>不订阅此 用户 uid 列表 的音频。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd>此列表为全量列表。如果列表为空或 null，取消订阅黑名单。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0：方法调用成功。</li>
<li>其他：方法调用失败。  </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ace17209d643420b159c42c71bd6ce9e3" name="ace17209d643420b159c42c71bd6ce9e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace17209d643420b159c42c71bd6ce9e3">&#9670;&#160;</a></span>setupLocalSubStreamVideoCanvas:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setupLocalSubStreamVideoCanvas: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_e_rtc_video_canvas.html">NERtcVideoCanvas</a> *_Nullable)</td>          <td class="paramname"><span class="paramname"><em>canvas</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置本端用户的视频辅流画布。 <br  />
通过此接口可以实现设置本端用户的辅流显示视图。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.9.0 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化之后调用此接口，且该方法建议在加入房间前调用。 </dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>canvas </td><td><a class="el" href="interface_n_e_rtc_video_canvas.html" title="视频画布设置。">NERtcVideoCanvas</a> * </td><td>视频画布。详细信息请参考 <code><a class="el" href="interface_n_e_rtc_video_canvas.html">NERtcVideoCanvas</a></code>。  </td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line">UIView *localSubStreamView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 200, 200)];</div>
<div class="line"><a class="code hl_interface" href="interface_n_e_rtc_video_canvas.html">NERtcVideoCanvas</a> *canvas = [[<a class="code hl_interface" href="interface_n_e_rtc_video_canvas.html">NERtcVideoCanvas</a> alloc] init];</div>
<div class="line">canvas.<a class="code hl_property" href="interface_n_e_rtc_video_canvas.html#a9d8076af06d5cfbeee8026ecb741e68f">container</a> = localSubStreamView;</div>
<div class="line">canvas.<a class="code hl_property" href="interface_n_e_rtc_video_canvas.html#a8ed45a77111ec647a7fc8af179a95f04">renderMode</a> = <a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#aed93801676e293da4cc95b382a6d05d1aea2cbecbc0be393b626685892a9126c5">kNERtcVideoRenderScaleFit</a>;</div>
<div class="line">canvas.<a class="code hl_property" href="interface_n_e_rtc_video_canvas.html#aef9343efe9f21931144b01c3286d6d86">mirrorMode</a> = <a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#ace09d403332c4b627de8997354b3cd7cab0da37b0e128b5de07c9a9fdeb0469dd">kNERtcVideoMirrorModeAuto</a>;</div>
<div class="line">[channel setupLocalSubStreamVideoCanvas:canvas];</div>
<div class="ttc" id="a_n_e_rtc_engine_enum_8h_html_ace09d403332c4b627de8997354b3cd7cab0da37b0e128b5de07c9a9fdeb0469dd"><div class="ttname"><a href="_n_e_rtc_engine_enum_8h.html#ace09d403332c4b627de8997354b3cd7cab0da37b0e128b5de07c9a9fdeb0469dd">kNERtcVideoMirrorModeAuto</a></div><div class="ttdeci">@ kNERtcVideoMirrorModeAuto</div><div class="ttdoc">（默认）由 SDK 决定镜像模式</div><div class="ttdef"><b>定义</b> NERtcEngineEnum.h:871</div></div>
<div class="ttc" id="ainterface_n_e_rtc_video_canvas_html"><div class="ttname"><a href="interface_n_e_rtc_video_canvas.html">NERtcVideoCanvas</a></div><div class="ttdoc">视频画布设置。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:299</div></div>
<div class="ttc" id="ainterface_n_e_rtc_video_canvas_html_a8ed45a77111ec647a7fc8af179a95f04"><div class="ttname"><a href="interface_n_e_rtc_video_canvas.html#a8ed45a77111ec647a7fc8af179a95f04">NERtcVideoCanvas::renderMode</a></div><div class="ttdeci">NERtcVideoRenderScaleMode renderMode</div><div class="ttdoc">视频渲染模式。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:328</div></div>
<div class="ttc" id="ainterface_n_e_rtc_video_canvas_html_a9d8076af06d5cfbeee8026ecb741e68f"><div class="ttname"><a href="interface_n_e_rtc_video_canvas.html#a9d8076af06d5cfbeee8026ecb741e68f">NERtcVideoCanvas::container</a></div><div class="ttdeci">VIEW_CLASS * container</div><div class="ttdoc">视频窗口容器（SDK 内部渲染）。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:318</div></div>
<div class="ttc" id="ainterface_n_e_rtc_video_canvas_html_aef9343efe9f21931144b01c3286d6d86"><div class="ttname"><a href="interface_n_e_rtc_video_canvas.html#aef9343efe9f21931144b01c3286d6d86">NERtcVideoCanvas::mirrorMode</a></div><div class="ttdeci">NERtcVideoMirrorMode mirrorMode</div><div class="ttdoc">视频镜像模式。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:342</div></div>
</div><!-- fragment --> </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal）：状态错误，比如引擎尚未初始化。</li>
<li>30004（kNERtcErrNotSupported）：纯音频 SDK 不支持该功能。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a8563cf11b4be079a21d7854b2369c94b" name="a8563cf11b4be079a21d7854b2369c94b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8563cf11b4be079a21d7854b2369c94b">&#9670;&#160;</a></span>setupLocalVideoCanvas:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setupLocalVideoCanvas: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_e_rtc_video_canvas.html">NERtcVideoCanvas</a> *_Nullable)</td>          <td class="paramname"><span class="paramname"><em>canvas</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置本地用户视图。 <br  />
通过本接口可以实现绑定本地用户和显示视图，并设置本地用户视图在本地显示时的镜像模式和裁减比例，只影响本地用户看到的视频画面。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.5.0 </dd></dl>
<dl class="section user"><dt>调用时机 </dt><dd><br  />
 请在初始化后调用该方法，且该方法在加入房间前后均可调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>纯音频 SDK 禁用该接口，如需使用请前往<a href="https://doc.yunxin.163.com/nertc/sdk-download" target="_blank">云信官网</a>下载并替换成视频 SDK。</li>
<li>在实际业务中，通常建议在初始化后即调用该方法进行本地视图设置，然后再加入房间或开启预览。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>render </td><td><code><a class="el" href="interface_n_e_rtc_video_canvas.html">NERtcVideoCanvas</a></code> </td><td>本地用户视频的画布。设置为 nil 表示取消并释放已设置的画布。  </td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line">UIView *localUserView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 200, 200)];</div>
<div class="line"><a class="code hl_interface" href="interface_n_e_rtc_video_canvas.html">NERtcVideoCanvas</a> *canvas = [[<a class="code hl_interface" href="interface_n_e_rtc_video_canvas.html">NERtcVideoCanvas</a> alloc] init];</div>
<div class="line">canvas.<a class="code hl_property" href="interface_n_e_rtc_video_canvas.html#a9d8076af06d5cfbeee8026ecb741e68f">container</a> = localUserView;</div>
<div class="line">canvas.<a class="code hl_property" href="interface_n_e_rtc_video_canvas.html#a8ed45a77111ec647a7fc8af179a95f04">renderMode</a> = <a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#aed93801676e293da4cc95b382a6d05d1aea2cbecbc0be393b626685892a9126c5">kNERtcVideoRenderScaleFit</a>;</div>
<div class="line">canvas.<a class="code hl_property" href="interface_n_e_rtc_video_canvas.html#aef9343efe9f21931144b01c3286d6d86">mirrorMode</a> = <a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#ace09d403332c4b627de8997354b3cd7cab0da37b0e128b5de07c9a9fdeb0469dd">kNERtcVideoMirrorModeAuto</a>;</div>
<div class="line">[channel setupLocalVideoCanvas:canvas];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关接口</dt><dd>若您希望在通话中更新本地用户视图的渲染或镜像模式，请调用 <code><a class="el" href="protocol_i_n_e_rtc_engine_ex-p.html#aa18b6a92ccca204b2a6caa87b412d9bc">INERtcEngineEx#setLocalRenderScaleMode:</a></code> 方法。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal）：引擎尚未初始化。</li>
<li>30004（kNERtcErrNotSupported）：不支持的操作，比如纯音频 SDK 不支持该功能。</li>
<li>30005（kNERtcErrInvalidState）：当前状态不支持的操作，比如尚未加入房间。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a75a6fab7880fd87a3a6b5bb0e531d28e" name="a75a6fab7880fd87a3a6b5bb0e531d28e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75a6fab7880fd87a3a6b5bb0e531d28e">&#9670;&#160;</a></span>setupRemoteSubStreamVideoCanvas:forUserID:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setupRemoteSubStreamVideoCanvas: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_e_rtc_video_canvas.html">NERtcVideoCanvas</a> *_Nullable)</td>          <td class="paramname"><span class="paramname"><em>canvas</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">forUserID:</td>
          <td></td>
          <td class="paramtype">(uint64_t)</td>          <td class="paramname"><span class="paramname"><em>userID</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置远端用户的视频辅流画布。 <br  />
通过此接口可以实现绑定远端用户和对应辅流的显示视图，即指定某个 uid 使用对应的画布显示。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.9.0 </dd></dl>
<dl class="section user"><dt>使用前提</dt><dd>建议在收到远端用户加入房间的 <code><a class="el" href="protocol_n_e_rtc_channel_delegate-p.html#a8c537a2a35781827e1c65c1a4a81b549">NERtcChannelDelegate#onNERtcChannelUserDidJoinWithUserID:userName:joinExtraInfo:</a></code> 回调后，再调用此接口通过回调返回的 uid 设置对应视图。 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化之后调用此接口，且该方法在加入房间前后均可调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>纯音频 SDK 禁用该接口，如需使用请前往云信官网下载并替换成视频 SDK。</li>
<li>退出房间后，SDK 会清除远端用户和画布的的绑定关系，该设置自动失效。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>canvas </td><td><a class="el" href="interface_n_e_rtc_video_canvas.html" title="视频画布设置。">NERtcVideoCanvas</a> * </td><td>视频画布。详细信息请参考 <code><a class="el" href="interface_n_e_rtc_video_canvas.html">NERtcVideoCanvas</a></code>。  </td></tr>
<tr>
<td>userID </td><td>uint64_t </td><td>远端用户 ID。  </td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line">- (void)onNERtcEngineUserDidJoinWithUserID:(uint64_t)userID userName:(NSString *)userName {</div>
<div class="line">    UIView *remoteUserView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 200, 200)];</div>
<div class="line">    <a class="code hl_interface" href="interface_n_e_rtc_video_canvas.html">NERtcVideoCanvas</a> *canvas = [[<a class="code hl_interface" href="interface_n_e_rtc_video_canvas.html">NERtcVideoCanvas</a> alloc] init];</div>
<div class="line">    canvas.<a class="code hl_property" href="interface_n_e_rtc_video_canvas.html#a9d8076af06d5cfbeee8026ecb741e68f">container</a> = remoteUserView;</div>
<div class="line">    canvas.<a class="code hl_property" href="interface_n_e_rtc_video_canvas.html#a8ed45a77111ec647a7fc8af179a95f04">renderMode</a> = <a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#aed93801676e293da4cc95b382a6d05d1aea2cbecbc0be393b626685892a9126c5">kNERtcVideoRenderScaleFit</a>;</div>
<div class="line">    canvas.<a class="code hl_property" href="interface_n_e_rtc_video_canvas.html#aef9343efe9f21931144b01c3286d6d86">mirrorMode</a> = <a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#ace09d403332c4b627de8997354b3cd7cab0da37b0e128b5de07c9a9fdeb0469dd">kNERtcVideoMirrorModeAuto</a>;</div>
<div class="line">    [channel setupRemoteSubStreamVideoCanvas:canvas forUserID:userID];</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关接口</dt><dd>可以调用 <code><a class="el" href="#a29a87b34823ca7d9f70d4308a365fc9e">INERtcChannel#setRemoteRenderScaleMode:forUserID:</a></code> 方法在通话过程中更新远端用户视图的渲染模式。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal）：状态错误，比如引擎尚未初始化。</li>
<li>30004（kNERtcErrNotSupported）：不支持的操作，比如纯音频 SDK 不支持该功能。</li>
<li>30005（kNERtcErrInvalidState）：当前状态不支持的操作，比如尚未加入房间。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a075252ab6d8eb1776e7206c235a72ca8" name="a075252ab6d8eb1776e7206c235a72ca8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a075252ab6d8eb1776e7206c235a72ca8">&#9670;&#160;</a></span>setupRemoteVideoCanvas:forUserID:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setupRemoteVideoCanvas: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_e_rtc_video_canvas.html">NERtcVideoCanvas</a> *_Nullable)</td>          <td class="paramname"><span class="paramname"><em>canvas</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">forUserID:</td>
          <td></td>
          <td class="paramtype">(uint64_t)</td>          <td class="paramname"><span class="paramname"><em>userID</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置远端用户视图。 <br  />
通过本接口可以实现绑定远端用户和显示视图，并设置远端用户视图在本地显示时的镜像模式和裁减比例，只影响本地用户看到的视频画面。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.5.0 </dd></dl>
<dl class="section user"><dt>调用时机 </dt><dd><br  />
 请在初始化后调用该方法，且该方法在加入房间前后均可调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd>您可以通过设置 canvas 参数为空（传 nil）以解除远端用户视图绑定；退出房间后，SDK 也会主动清除远端用户和视图的绑定关系。 </dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>canvas </td><td><code><a class="el" href="interface_n_e_rtc_video_canvas.html">NERtcVideoCanvas</a></code>  </td><td>远端用户视频的画布。  </td></tr>
<tr>
<td>userID </td><td>uint64_t </td><td>远端用户的 ID。可以在 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#a7e47ea04b33f9dc7746ede6a0d53a6eb">NERtcEngineDelegate#onNERtcEngineUserDidJoinWithUserID:userName:</a></code> 回调中获取。  </td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line">- (void)onNERtcEngineUserDidJoinWithUserID:(uint64_t)userID userName:(NSString *)userName {</div>
<div class="line">    UIView *remoteUserView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 200, 200)];</div>
<div class="line">    <a class="code hl_interface" href="interface_n_e_rtc_video_canvas.html">NERtcVideoCanvas</a> *canvas = [[<a class="code hl_interface" href="interface_n_e_rtc_video_canvas.html">NERtcVideoCanvas</a> alloc] init];</div>
<div class="line">    canvas.<a class="code hl_property" href="interface_n_e_rtc_video_canvas.html#a9d8076af06d5cfbeee8026ecb741e68f">container</a> = remoteUserView;</div>
<div class="line">    canvas.<a class="code hl_property" href="interface_n_e_rtc_video_canvas.html#a8ed45a77111ec647a7fc8af179a95f04">renderMode</a> = <a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#aed93801676e293da4cc95b382a6d05d1aea2cbecbc0be393b626685892a9126c5">kNERtcVideoRenderScaleFit</a>;</div>
<div class="line">    canvas.<a class="code hl_property" href="interface_n_e_rtc_video_canvas.html#aef9343efe9f21931144b01c3286d6d86">mirrorMode</a> = <a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#ace09d403332c4b627de8997354b3cd7cab0da37b0e128b5de07c9a9fdeb0469dd">kNERtcVideoMirrorModeAuto</a>;</div>
<div class="line">    [channel setupRemoteVideoCanvas:canvas forUserID:userID];</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关接口</dt><dd>若您希望在通话中更新远端用户视图的渲染模式，请调用 <code><a class="el" href="#a29a87b34823ca7d9f70d4308a365fc9e">INERtcChannel#setRemoteRenderScaleMode:forUserID:</a></code>方法。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal）：引擎尚未初始化。</li>
<li>30004（kNERtcErrNotSupported）：纯音频 SDK 不支持该功能。</li>
<li>30005（kNERtcErrInvalidState）：当前状态不支持的操作，比如尚未加入房间。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a00aedd9f7dc343882e83156022bbe1b4" name="a00aedd9f7dc343882e83156022bbe1b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00aedd9f7dc343882e83156022bbe1b4">&#9670;&#160;</a></span>setupRemoteVideoCanvas:forUserID:streamType:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setupRemoteVideoCanvas: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_e_rtc_video_canvas.html">NERtcVideoCanvas</a> *_Nullable)</td>          <td class="paramname"><span class="paramname"><em>canvas</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">forUserID:</td>
          <td></td>
          <td class="paramtype">(uint64_t)</td>          <td class="paramname"><span class="paramname"><em>userID</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">streamType:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a>)</td>          <td class="paramname"><span class="paramname"><em>streamType</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置远端用户视图。 <br  />
通过本接口可以实现绑定远端用户和显示视图，并设置远端用户视图在本地显示时的镜像模式和裁减比例，只影响本地用户看到的视频画面。 </p>
<dl class="section since"><dt>自从</dt><dd>V5.6.40 </dd></dl>
<dl class="section user"><dt>调用时机 </dt><dd><br  />
 请在初始化后调用该方法，且该方法在加入房间前后均可调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd>您可以通过设置 canvas 参数为空（传 nil）以解除远端用户视图绑定；退出房间后，SDK 也会主动清除远端用户和视图的绑定关系。 </dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>canvas </td><td><code><a class="el" href="interface_n_e_rtc_video_canvas.html">NERtcVideoCanvas</a></code>  </td><td>远端用户视频的画布。  </td></tr>
<tr>
<td>userID </td><td>uint64_t </td><td>远端用户的 ID。可以在 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#a7e47ea04b33f9dc7746ede6a0d53a6eb">NERtcEngineDelegate#onNERtcEngineUserDidJoinWithUserID:userName:</a></code> 回调中获取。  </td></tr>
<tr>
<td>streamType </td><td><code><a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a></code> </td><td>视频流类型。  </td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line">- (void)onNERtcEngineUserDidJoinWithUserID:(uint64_t)userID userName:(NSString *)userName {</div>
<div class="line">    UIView *remoteUserView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 200, 200)];</div>
<div class="line">    <a class="code hl_interface" href="interface_n_e_rtc_video_canvas.html">NERtcVideoCanvas</a> *canvas = [[<a class="code hl_interface" href="interface_n_e_rtc_video_canvas.html">NERtcVideoCanvas</a> alloc] init];</div>
<div class="line">    canvas.<a class="code hl_property" href="interface_n_e_rtc_video_canvas.html#a9d8076af06d5cfbeee8026ecb741e68f">container</a> = remoteUserView;</div>
<div class="line">    canvas.<a class="code hl_property" href="interface_n_e_rtc_video_canvas.html#a8ed45a77111ec647a7fc8af179a95f04">renderMode</a> = <a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#aed93801676e293da4cc95b382a6d05d1aea2cbecbc0be393b626685892a9126c5">kNERtcVideoRenderScaleFit</a>;</div>
<div class="line">    canvas.<a class="code hl_property" href="interface_n_e_rtc_video_canvas.html#aef9343efe9f21931144b01c3286d6d86">mirrorMode</a> = <a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#ace09d403332c4b627de8997354b3cd7cab0da37b0e128b5de07c9a9fdeb0469dd">kNERtcVideoMirrorModeAuto</a>;</div>
<div class="line">    [channel setupRemoteVideoCanvas:canvas forUserID:userID streamType:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0a7e657a9497f83bdd242776629dae44d1">kNERtcStreamChannelTypeThirdStream</a>];</div>
<div class="line">}</div>
<div class="ttc" id="a_n_e_rtc_engine_enum_8h_html_acfea712a4ac06896174a67d88a9743e0a7e657a9497f83bdd242776629dae44d1"><div class="ttname"><a href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0a7e657a9497f83bdd242776629dae44d1">kNERtcStreamChannelTypeThirdStream</a></div><div class="ttdeci">@ kNERtcStreamChannelTypeThirdStream</div><div class="ttdoc">第三流通道。</div><div class="ttdef"><b>定义</b> NERtcEngineEnum.h:1162</div></div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关接口</dt><dd>若您希望在通话中更新远端用户视图的渲染模式，请调用 <code><a class="el" href="#a29a87b34823ca7d9f70d4308a365fc9e">INERtcChannel#setRemoteRenderScaleMode:forUserID:</a></code>方法。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal）：引擎尚未初始化。</li>
<li>30004（kNERtcErrNotSupported）：纯音频 SDK 不支持该功能。</li>
<li>30005（kNERtcErrInvalidState）：当前状态不支持的操作，比如尚未加入房间。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a7cd8a3860b5360c50921f21a5bbe5559" name="a7cd8a3860b5360c50921f21a5bbe5559"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cd8a3860b5360c50921f21a5bbe5559">&#9670;&#160;</a></span>setVideoStreamLayerCount:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) setVideoStreamLayerCount: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#a51ca2714c2e8783582175669f53ce0d4">NERtcVideoStreamLayerCount</a>)</td>          <td class="paramname"><span class="paramname"><em>layerCount</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置是视频流的模式。 <br  />
 通过本接口可以实现设置视频流的模式：单流、双流或者三流。发送端开启多流模式后，接收端可以选择接收对应的流。其中，大流指高分辨率、高码率的视频流，中流指标清分辨率、中码率的视频流，小流指低分辨率、低码率的视频流。 </p>
<dl class="section since"><dt>自从</dt><dd>V5.8.0 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在初始化后调用该方法，且该方法在加入房间前后均可调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>纯音频 SDK 禁用该接口，如需使用请前往<a href="https://doc.yunxin.163.com/nertc/sdk-download" target="_blank">云信官网</a>下载并替换成视频 SDK。</li>
<li>该方法只对摄像头数据生效，对自定义输入、屏幕共享等视频流无效。</li>
<li>该接口的设置会在摄像头重启后生效。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>layerCount </td><td>NERtcVideoStreamLayerCount </td><td>设置视频流模式：<ul>
<li>
kNERtcVideoStreamLayerCountOne：开启单流模式。</li>
<li>
kNERtcVideoStreamLayerCountTwo：开启双流模式。 </li>
<li>
kNERtcVideoStreamLayerCountThree：开启三流模式。  </li>
</ul>
</td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line">[channel setVideoStreamLayerCount:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#a51ca2714c2e8783582175669f53ce0d4aa49981069fe43419d35528abd9a684c3">kNERtcVideoStreamLayerCountTwo</a>];</div>
<div class="ttc" id="a_n_e_rtc_engine_enum_8h_html_a51ca2714c2e8783582175669f53ce0d4aa49981069fe43419d35528abd9a684c3"><div class="ttname"><a href="_n_e_rtc_engine_enum_8h.html#a51ca2714c2e8783582175669f53ce0d4aa49981069fe43419d35528abd9a684c3">kNERtcVideoStreamLayerCountTwo</a></div><div class="ttdeci">@ kNERtcVideoStreamLayerCountTwo</div><div class="ttdoc">（默认）双流。</div><div class="ttdef"><b>定义</b> NERtcEngineEnum.h:516</div></div>
</div><!-- fragment --> </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30004（kNERtcErrNotSupported）：不支持的操作，比如当前使用的是纯音频 SDK。</li>
<li>30005（kNERtcErrInvalidState）：当前状态不支持的操作，比如引擎尚未初始化。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a1e7d640b7ec78e85a43add1466089216" name="a1e7d640b7ec78e85a43add1466089216"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e7d640b7ec78e85a43add1466089216">&#9670;&#160;</a></span>startBlendExternalVideo:blendConfig:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) startBlendExternalVideo: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a>)</td>          <td class="paramname"><span class="paramname"><em>streamType</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">blendConfig:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_e_rtc_video_external_blend_config.html">NERtcVideoExternalBlendConfig</a> *)</td>          <td class="paramname"><span class="paramname"><em>blendConfig</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>开始外部视频混合处理。 <br  />
通过本方法可在指定视频流通道类型上开启外部视频混合流程，需要传入混合参数配置。 </p>
<dl class="section since"><dt>自从</dt><dd>V5.9.15 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>请在引擎初始化后并开启对应视频流通道后调用。</li>
<li>混合处理完成后需调用 <code>stopBlendExternalVideo:</code> 停止混合流程。 </li>
</ul>
</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">streamType</td><td>视频流通道类型，详见 <code><a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a></code>。 </td></tr>
    <tr><td class="paramname">blendConfig</td><td>外部混合参数配置，详见 <code><a class="el" href="interface_n_e_rtc_video_external_blend_config.html">NERtcVideoExternalBlendConfig</a></code>。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0：方法调用成功。</li>
<li>其他：方法调用失败（如参数错误或状态非法）。  </li>
</ul>
</dd></dl>

</div>
</div>
<a id="aa6dc7643ed6b445da8a986a36c504d95" name="aa6dc7643ed6b445da8a986a36c504d95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6dc7643ed6b445da8a986a36c504d95">&#9670;&#160;</a></span>startChannelMediaRelay:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) startChannelMediaRelay: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_e_rtc_channel_media_relay_configuration.html">NERtcChannelMediaRelayConfiguration</a> *_Nonnull)</td>          <td class="paramname"><span class="paramname"><em>config</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>开始跨房间媒体流转发。 </p>
<ul>
<li>该方法可用于实现跨房间连麦等场景。支持同时转发到 4 个房间，同一个房间可以有多个转发进来的媒体流。</li>
<li>成功调用该方法后，SDK 会触发 onNERtcEngineChannelMediaRelayStateDidChange 和 onNERtcEngineDidReceiveChannelMediaRelayEvent 回调，并在回调中报告当前的跨房间媒体流转发状态和事件。 </li>
</ul>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>请在成功加入房间后调用该方法。调用此方法前需要通过 config 中的 setDestinationInfo 设置目标房间。</li>
<li>该方法仅对直播场景下的主播角色有效。</li>
<li>成功调用该方法后，若您想再次调用该方法，必须先调用 stopChannelMediaRelay 方法退出当前的转发状态。</li>
<li>成功开始跨房间转发媒体流后，如果您需要修改目标房间，例如添加或删减目标房间等，可以调用方法 updateChannelMediaRelay 更新目标房间信息。 </li>
</ul>
</dd></dl>
<dl class="section since"><dt>自从</dt><dd>V4.5.0 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>跨房间媒体流转发参数配置信息。详细信息请参考 <code><a class="el" href="interface_n_e_rtc_channel_media_relay_configuration.html">NERtcChannelMediaRelayConfiguration</a></code>。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功返回 0，其他则失败  </dd></dl>

</div>
</div>
<a id="ab64de331d51728e96d6fff19b2689e18" name="ab64de331d51728e96d6fff19b2689e18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab64de331d51728e96d6fff19b2689e18">&#9670;&#160;</a></span>startScreenCapture:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) startScreenCapture: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_e_rtc_video_sub_stream_encode_configuration.html">NERtcVideoSubStreamEncodeConfiguration</a> *)</td>          <td class="paramname"><span class="paramname"><em>config</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>开启屏幕共享。 <br  />
 通过此接口开启屏幕共享后，屏幕共享内容以视频辅流的形式发送。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.5.0 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化之后调用此接口，且该方法仅可在加入房间后调用。 </dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>config </td><td><a class="el" href="interface_n_e_rtc_video_sub_stream_encode_configuration.html" title="本地辅流发送配置。">NERtcVideoSubStreamEncodeConfiguration</a> * </td><td>本地辅流发送配置，详细信息请参考 <code><a class="el" href="interface_n_e_rtc_video_sub_stream_encode_configuration.html">NERtcVideoSubStreamEncodeConfiguration</a></code>。  </td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><a class="code hl_interface" href="interface_n_e_rtc_video_sub_stream_encode_configuration.html">NERtcVideoSubStreamEncodeConfiguration</a> *config = [[<a class="code hl_interface" href="interface_n_e_rtc_video_sub_stream_encode_configuration.html">NERtcVideoSubStreamEncodeConfiguration</a> alloc] init];</div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_base_video_encode_configuration.html#a932a66bd2a9e8d8e1a47e6dc0a949a0a">maxProfile</a> = 视频编码的分辨率;</div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_base_video_encode_configuration.html#aed5d63be5df7f97fab3e6007a007786e">minBitrate</a> = 最小编码码率</div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_base_video_encode_configuration.html#ad29d2a2fc1d3e31ea10a824f107648ac">minFrameRate</a> = 最小编码帧率</div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_base_video_encode_configuration.html#a5f3e81b29fcc10824af50605d14404f1">frameRate</a> = 帧率</div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_base_video_encode_configuration.html#a0e543671326dca52177607871c054337">bitrate</a> = 最小编码码率</div>
<div class="line">config.<a class="code hl_property" href="interface_n_e_rtc_video_sub_stream_encode_configuration.html#add64669003340011d9ffee2841fc5346">contentPrefer</a> = 屏幕共享功能的编码策略倾向;</div>
<div class="line">[channel startScreenCapture:config];</div>
<div class="ttc" id="ainterface_n_e_rtc_video_sub_stream_encode_configuration_html_add64669003340011d9ffee2841fc5346"><div class="ttname"><a href="interface_n_e_rtc_video_sub_stream_encode_configuration.html#add64669003340011d9ffee2841fc5346">NERtcVideoSubStreamEncodeConfiguration::contentPrefer</a></div><div class="ttdeci">NERtcSubStreamContentPrefer contentPrefer</div><div class="ttdoc">屏幕共享功能的编码策略倾向，默认为 kNERtcSubStreamContentPreferMotion。详细信息请参考 NERtcSubStreamContentPrefer。</div><div class="ttdef"><b>定义</b> NERtcEngineBase.h:670</div></div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关回调</dt><dd>成功开启屏幕共享辅流后，远端会触发 <code><a class="el" href="protocol_n_e_rtc_channel_delegate-p.html#af46b8dcf03282ec04783331af24180da">NERtcChannelDelegate#onNERtcChannelUserSubStreamDidStartWithUserID:subStreamProfile:</a></code> 回调。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30005（kNERtcErrInvalidState）：状态错误，比如引擎尚未初始化。</li>
<li>50001（kNERtcRuntimeErrVDMNotScreenUseSubStream）：当前使用的非屏幕共享形式的辅流。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a2f01c1437e8aee2461d6b2d3a3eb0713" name="a2f01c1437e8aee2461d6b2d3a3eb0713"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f01c1437e8aee2461d6b2d3a3eb0713">&#9670;&#160;</a></span>stopBlendExternalVideo:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) stopBlendExternalVideo: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a>)</td>          <td class="paramname"><span class="paramname"><em>streamType</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>停止外部视频混合处理。 <br  />
调用此方法结束指定视频流通道类型的外部视频混合流程。 </p>
<dl class="section since"><dt>自从</dt><dd>V5.9.15 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>请在已开启外部视频混合后，或需要结束混合流程时调用。 </li>
</ul>
</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">streamType</td><td>视频流通道类型，详见 <code><a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a></code>。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0：方法调用成功。</li>
<li>其他：方法调用失败（如未开始混合或参数错误）。  </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a8759bca8f7e935bc6fb15b5f276afb66" name="a8759bca8f7e935bc6fb15b5f276afb66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8759bca8f7e935bc6fb15b5f276afb66">&#9670;&#160;</a></span>stopChannelMediaRelay <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) stopChannelMediaRelay </td>
          <td></td>
          <td class="paramname"><span class="paramname"><em></em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>停止跨房间媒体流转发。 <br  />
 通常在主播离开房间时，跨房间媒体流转发会自动停止；您也可以根据需要随时调用该方法，此时主播会退出所有目标房间。 </p>
<dl class="section since"><dt>自从</dt><dd>V4.2.1 </dd></dl>
<dl class="section user"><dt>使用前提</dt><dd>请在调用 <code><a class="el" href="#aa6dc7643ed6b445da8a986a36c504d95">INERtcChannel#startChannelMediaRelay:</a></code> 方法开启跨房间媒体流转发之后调用此接口。 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化之后调用此接口，且该方法仅可在加入房间后调用。 </dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line">[channel <a class="code hl_function" href="#a8759bca8f7e935bc6fb15b5f276afb66">stopChannelMediaRelay</a>];</div>
<div class="ttc" id="aprotocol_i_n_e_rtc_channel-p_html_a8759bca8f7e935bc6fb15b5f276afb66"><div class="ttname"><a href="#a8759bca8f7e935bc6fb15b5f276afb66">-[INERtcChannel-p stopChannelMediaRelay]</a></div><div class="ttdeci">int stopChannelMediaRelay()</div><div class="ttdoc">停止跨房间媒体流转发。   通常在主播离开房间时，跨房间媒体流转发会自动停止；您也可以根据需要随时调用该方法，此时主播会退出所有目标房间。</div></div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关回调</dt><dd><code><a class="el" href="protocol_n_e_rtc_channel_delegate-p.html#aa06b2a8f1dfa16200d9d137aff12cf10">NERtcChannelDelegate#onNERtcChannelMediaRelayStateDidChange:channelName:</a></code>：跨房间媒体流转发状态发生改变回调。成功调用该方法后会返回 NERtcChannelMediaRelayStateIdle，否则会返回 NERtcChannelMediaRelayStateFailure。 <code><a class="el" href="protocol_n_e_rtc_channel_delegate-p.html#aa415beef9944cb62494da2cb352509ee">NERtcChannelDelegate#onNERtcChannelDidReceiveChannelMediaRelayEvent:channelName:error:</a></code>：跨房间媒体流相关转发事件回调。成功调用该方法后会返回 NERtcChannelMediaRelayEventDisconnect，否则会返回 NERtcChannelMediaRelayEventFailure。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal）：通用错误。</li>
<li>30005（kNERtcErrInvalidState）：状态错误，比如引擎未初始化。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a8759bca8f7e935bc6fb15b5f276afb66" name="a8759bca8f7e935bc6fb15b5f276afb66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8759bca8f7e935bc6fb15b5f276afb66">&#9670;&#160;</a></span>stopChannelMediaRelay <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) stopChannelMediaRelay </td>
          <td></td>
          <td class="paramname"><span class="paramname"><em></em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>停止跨房间媒体流转发。 <br  />
 通常在主播离开房间时，跨房间媒体流转发会自动停止；您也可以根据需要随时调用该方法，此时主播会退出所有目标房间。 </p>
<dl class="section since"><dt>自从</dt><dd>V4.2.1 </dd></dl>
<dl class="section user"><dt>使用前提</dt><dd>请在调用 <code><a class="el" href="#aa6dc7643ed6b445da8a986a36c504d95">INERtcChannel#startChannelMediaRelay:</a></code> 方法开启跨房间媒体流转发之后调用此接口。 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化之后调用此接口，且该方法仅可在加入房间后调用。 </dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line">[channel <a class="code hl_function" href="#a8759bca8f7e935bc6fb15b5f276afb66">stopChannelMediaRelay</a>];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关回调</dt><dd><code><a class="el" href="protocol_n_e_rtc_channel_delegate-p.html#aa06b2a8f1dfa16200d9d137aff12cf10">NERtcChannelDelegate#onNERtcChannelMediaRelayStateDidChange:channelName:</a></code>：跨房间媒体流转发状态发生改变回调。成功调用该方法后会返回 NERtcChannelMediaRelayStateIdle，否则会返回 NERtcChannelMediaRelayStateFailure。 <code><a class="el" href="protocol_n_e_rtc_channel_delegate-p.html#aa415beef9944cb62494da2cb352509ee">NERtcChannelDelegate#onNERtcChannelDidReceiveChannelMediaRelayEvent:channelName:error:</a></code>：跨房间媒体流相关转发事件回调。成功调用该方法后会返回 NERtcChannelMediaRelayEventDisconnect，否则会返回 NERtcChannelMediaRelayEventFailure。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal）：通用错误。</li>
<li>30005（kNERtcErrInvalidState）：状态错误，比如引擎未初始化。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a3abe3b2a48f5031e546212abf8ccf9cc" name="a3abe3b2a48f5031e546212abf8ccf9cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3abe3b2a48f5031e546212abf8ccf9cc">&#9670;&#160;</a></span>stopScreenCapture</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) stopScreenCapture </td>
          <td></td>
          <td class="paramname"><span class="paramname"><em></em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>关闭屏幕共享。 <br  />
 通过此接口可以实现关闭屏幕共享辅流。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.5.0 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化之后调用此接口，且该方法仅可在加入房间后调用。 </dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line">[channel <a class="code hl_function" href="#a3abe3b2a48f5031e546212abf8ccf9cc">stopScreenCapture</a>];</div>
<div class="ttc" id="aprotocol_i_n_e_rtc_channel-p_html_a3abe3b2a48f5031e546212abf8ccf9cc"><div class="ttname"><a href="#a3abe3b2a48f5031e546212abf8ccf9cc">-[INERtcChannel-p stopScreenCapture]</a></div><div class="ttdeci">int stopScreenCapture()</div><div class="ttdoc">关闭屏幕共享。   通过此接口可以实现关闭屏幕共享辅流。</div></div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关回调</dt><dd>成功调用此方法后，远端会触发 <code><a class="el" href="protocol_n_e_rtc_channel_delegate-p.html#a5ff61b211ffe88a52510a35060094779">NERtcChannelDelegate#onNERtcChannelUserSubStreamDidStop:</a></code> 回调。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30005（kNERtcErrInvalidState）：当前状态不支持的操作，比如引擎尚未初始化。</li>
<li>50001（kNERtcRuntimeErrVDMNotScreenUseSubStream）：当前使用的非屏幕共享形式的辅流。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="ad4ed253b55c747c8c2890fad368e551a" name="ad4ed253b55c747c8c2890fad368e551a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4ed253b55c747c8c2890fad368e551a">&#9670;&#160;</a></span>subscribeAllRemoteAudio:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) subscribeAllRemoteAudio: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>subscribe</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>取消或恢复订阅所有远端用户的音频主流。 <br  />
加入房间时，默认订阅所有远端用户的音频主流，即 <code><a class="el" href="protocol_i_n_e_rtc_engine-p.html#a2a674564c41bbd4b5556f08a9d65a558">INERtcEngine#setParameters:</a></code> 方法的 kNERtcKeyAutoSubscribeAudio 参数默认设置为 YES；只有当该参数的设置为 NO 时，此接口的调用才会生效。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.5.0 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化之后调用此接口，且该方法在加入房间前后均可调用。 </dd></dl>
<dl class="section user"><dt>业务场景</dt><dd>适用于重要会议需要一键全体静音的场景。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>设置该方法的 subscribe 参数为 YES 后，对后续加入房间的用户同样生效。</li>
<li>在开启自动订阅（默认）时，设置该方法的 subscribe 参数为 NO 可以实现取消订阅所有远端用户的音频流，但此时无法再调用 <code><a class="el" href="protocol_i_n_e_rtc_engine_ex-p.html#a4c42beb5b7bf460c97f34644e5f4c218">INERtcEngineEx#subscribeRemoteAudio:forUserID:</a></code> 方法单独订阅指定远端用户的音频流。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>subscribe </td><td>BOOL </td><td>是否订阅所有用户的音频主流：<ul>
<li>
YES：订阅音频主流。</li>
<li>
NO：取消订阅音频主流。  </li>
</ul>
</td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><span class="comment">//订阅所有远端用户的音频主流</span></div>
<div class="line">[channel subscribeAllRemoteAudio:YES];</div>
<div class="line"><span class="comment">//取消订阅所有远端用户的音频主流</span></div>
<div class="line">[channel subscribeAllRemoteAudio:NO];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal)：引擎未创建成功。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a8147c004ce704e3774067be11357fe1f" name="a8147c004ce704e3774067be11357fe1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8147c004ce704e3774067be11357fe1f">&#9670;&#160;</a></span>subscribeRemoteAudio:forUserID:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) subscribeRemoteAudio: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>subscribe</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">forUserID:</td>
          <td></td>
          <td class="paramtype">(uint64_t)</td>          <td class="paramname"><span class="paramname"><em>userID</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>取消或恢复订阅指定远端用户的音频主流。 <br  />
加入房间时，默认订阅所有远端用户的音频主流，您也可以通过此方法取消或恢复订阅指定远端用户的音频主流。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.5.0 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>该方法仅在加入房间后收到远端用户开启音频主流的回调 <code><a class="el" href="protocol_n_e_rtc_engine_delegate-p.html#ade328996bde998b68b5d202d66b2b5f7">NERtcEngineDelegate#onNERtcEngineUserAudioDidStart:</a></code> 后可调用。 </dd></dl>
<dl class="section user"><dt>业务场景</dt><dd>适用于需要手动订阅指定用户音频流的场景。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd>该方法设置内部引擎为启用状态，在 leaveChannel 后设置失效，将恢复至默认。 在开启音频自动订阅且未打开服务端 ASL 自动选路的情况下，调用该接口无效。 退出房间后，此接口的设置将恢复至默认。 </dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>userID </td><td>uint64_t </td><td>指定用户的 ID。  </td></tr>
<tr>
<td>subscribe </td><td>BOOL </td><td>是否订阅指定用户的音频主流：<ul>
<li>
YES：订阅音频主流。</li>
<li>
NO：取消订阅音频主流。  </li>
</ul>
</td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><span class="comment">//订阅对方 uid 为 12345 的音频主流</span></div>
<div class="line">[channel subscribeRemoteAudio:YES forUserID:12345];</div>
<div class="line"><span class="comment">//取消订阅对方 uid 为 12345 的音频主流</span></div>
<div class="line">[channel subscribeRemoteAudio:NO forUserID:12345];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关接口</dt><dd>若您希望订阅指定远端用户的音频辅流，请调用 <code><a class="el" href="#a70687573014a95832b10453666e02125">INERtcChannel#subscribeRemoteSubStreamAudio:forUserID:</a></code> 方法。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal)：引擎未创建成功。</li>
<li>30005（kNERtcErrInvalidState)：当前状态不支持的操作，比如尚未加入房间。</li>
<li>30105（kNERtcErrFatal)：未找到指定用户。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a70687573014a95832b10453666e02125" name="a70687573014a95832b10453666e02125"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70687573014a95832b10453666e02125">&#9670;&#160;</a></span>subscribeRemoteSubStreamAudio:forUserID:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) subscribeRemoteSubStreamAudio: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>subscribe</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">forUserID:</td>
          <td></td>
          <td class="paramtype">(uint64_t)</td>          <td class="paramname"><span class="paramname"><em>userID</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置是否订阅指定远端用户的音频辅流。 </p>
<dl class="section since"><dt>自从</dt><dd>V4.6.10 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化之后调用此接口，且该方法仅可在加入房间且收到远端用户开启音频辅流的回调 <code><a class="el" href="protocol_n_e_rtc_channel_delegate-p.html#ae87f73890f67e3670db311ca8bcd3e09">NERtcChannelDelegate#onNERtcChannelUserSubStreamAudioDidStart:</a></code> 后调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>加入房间时，默认订阅所有远端用户的音频流。</li>
<li>请在指定远端用户加入房间后再调用此方法。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>参数说明 </dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>uid </td><td>uint64_t </td><td>远端用户 ID。  </td></tr>
<tr>
<td>subscribe </td><td>BOOL </td><td>是否订阅指定音频辅流：<ul>
<li>
YES：订阅指定音频辅流。</li>
<li>
NO：取消订阅指定音频辅流。  </li>
</ul>
</td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><span class="comment">//订阅 userId 用户的音频辅流</span></div>
<div class="line">[channel subscribeRemoteSubStreamAudio:YES forUserID:userId];</div>
<div class="line"><span class="comment">//取消订阅 userId 用户的音频辅流</span></div>
<div class="line">[channel subscribeRemoteSubStreamAudio:NO forUserID:userId];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal）：操作不支持，比如已开启自动订阅音频辅流。</li>
<li>30005（kNERtcErrInvalidState）：状态错误，比如引擎未初始化。</li>
<li>30105（kNERtcErrUserNotFound）：指定用户尚未加入房间。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="ad70471938352eccdc2cb3974f8292dfa" name="ad70471938352eccdc2cb3974f8292dfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad70471938352eccdc2cb3974f8292dfa">&#9670;&#160;</a></span>subscribeRemoteSubStreamVideo:forUserID:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) subscribeRemoteSubStreamVideo: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>subscribe</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">forUserID:</td>
          <td></td>
          <td class="paramtype">(uint64_t)</td>          <td class="paramname"><span class="paramname"><em>userID</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>订阅或取消订阅远端用户的视频辅流。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.9.0 </dd></dl>
<dl class="section user"><dt>使用前提</dt><dd><ul>
<li>请先调用 <code><a class="el" href="#a75a6fab7880fd87a3a6b5bb0e531d28e">INERtcChannel#setupRemoteSubStreamVideoCanvas:forUserID:</a></code> 设置远端用户的视频辅流画布。</li>
<li>建议在收到远端用户发布视频辅流的回调通知 <code><a class="el" href="protocol_n_e_rtc_channel_delegate-p.html#af46b8dcf03282ec04783331af24180da">NERtcChannelDelegate#onNERtcChannelUserSubStreamDidStartWithUserID:subStreamProfile:</a></code> 后调用此接口。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化之后调用此接口，且该方法仅可在加入房间后调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd>纯音频 SDK 禁用该接口，如需使用请前往云信官网下载并替换成视频 SDK。 </dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>userID </td><td>uint64_t </td><td>远端用户 ID。  </td></tr>
<tr>
<td>subsribe </td><td>BOOL </td><td>是否订阅远端的视频辅流：<ul>
<li>
YES：订阅远端视频辅流。</li>
<li>
NO：取消订阅远端视频辅流。  </li>
</ul>
</td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line">[channel subscribeRemoteSubStreamVideo:YES forUserID:userID];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关回调</dt><dd><ul>
<li><code><a class="el" href="protocol_n_e_rtc_channel_delegate-p.html#af46b8dcf03282ec04783331af24180da">NERtcChannelDelegate#onNERtcChannelUserSubStreamDidStartWithUserID:subStreamProfile:</a></code>：远端用户发布视频辅流的回调。</li>
<li><code><a class="el" href="protocol_n_e_rtc_channel_delegate-p.html#a5ff61b211ffe88a52510a35060094779">NERtcChannelDelegate#onNERtcChannelUserSubStreamDidStop:</a></code>：远端用户停止发布视频辅流的回调。 </li>
</ul>
</dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal）：状态错误，比如引擎尚未初始化。</li>
<li>30004（kNERtcErrNotSupported）：不支持的操作。</li>
<li>30005（kNERtcErrInvalidState）：当前状态不支持的操作，比如引擎尚未初始化。</li>
<li>30105（kNERtcErrUserNotFound）：未找到该远端用户，可能对方还未加入房间。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a20902faad67ee5f37d731408e3ee9b8f" name="a20902faad67ee5f37d731408e3ee9b8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20902faad67ee5f37d731408e3ee9b8f">&#9670;&#160;</a></span>subscribeRemoteVideo:forUserID:streamType:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) subscribeRemoteVideo: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>subscribe</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">forUserID:</td>
          <td></td>
          <td class="paramtype">(uint64_t)</td>          <td class="paramname"><span class="paramname"><em>userID</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">streamType:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#a9fa1ba5b58874cf4948cc33d18bff7a7">NERtcRemoteVideoStreamType</a>)</td>          <td class="paramname"><span class="paramname"><em>streamType</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>订阅或取消订阅指定远端用户的视频主流。 <br  />
加入房间后，默认不订阅所有远端用户的视频主流；若您希望看到指定远端用户的视频，可以在监听到对方加入房间或发布视频流之后，通过此方法订阅该用户的视频主流。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.5.0 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在初始化后调用该方法，且该方法仅可在加入房间后调用。 </dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>userID </td><td>uint64_t </td><td>指定用户的 ID。  </td></tr>
<tr>
<td>streamType </td><td><code><a class="el" href="_n_e_rtc_engine_enum_8h.html#a9fa1ba5b58874cf4948cc33d18bff7a7">NERtcRemoteVideoStreamType</a></code> </td><td>订阅的视频流类型：<ul>
<li>
kNERtcRemoteVideoStreamTypeHigh：高清画质的大流。</li>
<li>
kNERtcRemoteVideoStreamTypeLow：低清画质的小流。  </li>
</ul>
</td></tr>
<tr>
<td>subscribe </td><td>BOOL </td><td>是否订阅远端用户的视频流：<ul>
<li>
YES：订阅指定视频流。</li>
<li>
NO：不订阅指定视频流。  </li>
</ul>
</td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><span class="comment">//订阅对方 uid 为 12345 的大流</span></div>
<div class="line">[channel subscribeRemoteVideo:YES forUserID:12345 streamType:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#a9fa1ba5b58874cf4948cc33d18bff7a7a2d25fa208af8d0ad1416b9f4da904a90">kNERtcRemoteVideoStreamTypeHigh</a>];</div>
<div class="ttc" id="a_n_e_rtc_engine_enum_8h_html_a9fa1ba5b58874cf4948cc33d18bff7a7a2d25fa208af8d0ad1416b9f4da904a90"><div class="ttname"><a href="_n_e_rtc_engine_enum_8h.html#a9fa1ba5b58874cf4948cc33d18bff7a7a2d25fa208af8d0ad1416b9f4da904a90">kNERtcRemoteVideoStreamTypeHigh</a></div><div class="ttdeci">@ kNERtcRemoteVideoStreamTypeHigh</div><div class="ttdoc">大流，高清画质。</div><div class="ttdef"><b>定义</b> NERtcEngineEnum.h:718</div></div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关接口</dt><dd>若您希望订阅指定远端用户的视频辅流，请调用 <code><a class="el" href="#ad70471938352eccdc2cb3974f8292dfa">INERtcChannel#subscribeRemoteSubStreamVideo:forUserID:</a></code> 方法。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal）：引擎尚未初始化。</li>
<li>30004（kNERtcErrNotSupported ）：纯音频 SDK 不支持该功能。</li>
<li>30005（kNERtcErrInvalidState)：尚未加入房间。</li>
<li>30009（kNERtcErrInvalidDeviceSourceID）：设备 ID 非法。</li>
<li>30105（kNERtcErrUserNotFound）：未找到指定用户。</li>
<li>30106（kNERtcErrInvalidUserID）：非法指定用户，比如订阅了本端。</li>
<li>30107（kNERtcErrMediaNotStarted）：媒体会话未建立，比如对端未开启视频主流。</li>
<li>30108（kNERtcErrSourceNotFound）：媒体源未找到，比如对端未开启视频主流。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a5ba47bb8d125bc729ea9991e29bb562f" name="a5ba47bb8d125bc729ea9991e29bb562f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ba47bb8d125bc729ea9991e29bb562f">&#9670;&#160;</a></span>subscribeRemoteVideo:forUserID:streamType:subscribeType:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) subscribeRemoteVideo: </td>
          <td></td>
          <td class="paramtype">(BOOL)</td>          <td class="paramname"><span class="paramname"><em>subscribe</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">forUserID:</td>
          <td></td>
          <td class="paramtype">(uint64_t)</td>          <td class="paramname"><span class="paramname"><em>userID</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">streamType:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a>)</td>          <td class="paramname"><span class="paramname"><em>streamType</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">subscribeType:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#a9fa1ba5b58874cf4948cc33d18bff7a7">NERtcRemoteVideoStreamType</a>)</td>          <td class="paramname"><span class="paramname"><em>subscribeType</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>订阅或取消订阅指定远端用户的视频主流。 <br  />
加入房间后，默认不订阅所有远端用户的视频主流；若您希望看到指定远端用户的视频，可以在监听到对方加入房间或发布视频流之后，通过此方法订阅该用户的视频主流。 </p>
<dl class="section since"><dt>自从</dt><dd>V5.6.40 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在初始化后调用该方法，且该方法仅可在加入房间后调用。 </dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>userID </td><td>uint64_t </td><td>指定用户的 ID。  </td></tr>
<tr>
<td>streamType </td><td><code><a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a></code> </td><td>视频通道类型：<ul>
<li>
kNERtcStreamChannelTypeMainStream：主流。</li>
<li>
kNERtcStreamChannelTypeSubStream：辅流。  </li>
</ul>
</td></tr>
<tr>
<td>subscribeType </td><td><code><a class="el" href="_n_e_rtc_engine_enum_8h.html#a9fa1ba5b58874cf4948cc33d18bff7a7">NERtcRemoteVideoStreamType</a></code> </td><td>订阅的视频流类型：<ul>
<li>
kNERtcRemoteVideoStreamTypeHigh：高清画质的大流。</li>
<li>
kNERtcRemoteVideoStreamTypeLow：低清画质的小流。  </li>
</ul>
</td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><span class="comment">//订阅对方 uid 为 12345 的大流</span></div>
<div class="line">[channel subscribeRemoteVideo:YES forUserID:12345 streamType:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0a693d2e4a3d4c1e8ac3debb9781c15376">kNERtcStreamChannelTypeMainStream</a> subscribeType:<a class="code hl_enumvalue" href="_n_e_rtc_engine_enum_8h.html#a9fa1ba5b58874cf4948cc33d18bff7a7a2d25fa208af8d0ad1416b9f4da904a90">kNERtcRemoteVideoStreamTypeHigh</a>];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关回调</dt><dd>订阅远端视频流后，远端会收到 <code><a class="el" href="protocol_n_e_rtc_channel_delegate-p.html#a5583bd49beed01dfc14f9659d9f74f88">NERtcChannelDelegate#onNERtcChannelUser:videoMuted:streamType:</a></code> 回调。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal）：引擎尚未初始化。</li>
<li>30004（kNERtcErrNotSupported）：不支持的操作，比如当前使用的是纯音频 SDK。</li>
<li>30005（kNERtcErrInvalidState）：尚未加入房间。</li>
<li>30105（kNERtcErrUserNotFound）：未找到指定用户。</li>
<li>30106（kNERtcErrInvalidUserID）：非法指定用户，比如订阅了本端。</li>
<li>30107（kNERtcErrMediaNotStarted）：媒体会话未建立，比如对端未开启视频主流。 </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="a2ba8609b61c754ba33dd3603f9291f0b" name="a2ba8609b61c754ba33dd3603f9291f0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ba8609b61c754ba33dd3603f9291f0b">&#9670;&#160;</a></span>switchCamera</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) switchCamera </td>
          <td></td>
          <td class="paramname"><span class="paramname"><em></em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>切换前置/后置摄像头。 <br  />
该方法需要在相机启动后调用，例如调用 startPreview 或 joinChannel 后。 </p>
<dl class="section note"><dt>注解</dt><dd>纯音频 SDK 禁用该接口，如需使用请前往云信官网下载并替换成视频 SDK。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd>操作返回值，成功则返回 0  </dd></dl>

</div>
</div>
<a id="aaac6cde2d26eec5268d42059e1b27d28" name="aaac6cde2d26eec5268d42059e1b27d28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaac6cde2d26eec5268d42059e1b27d28">&#9670;&#160;</a></span>switchCameraWithPosition:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) switchCameraWithPosition: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#a9b4b9ab2e701721157757c75333f2958">NERtcCameraPosition</a>)</td>          <td class="paramname"><span class="paramname"><em>position</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>指定前置/后置摄像头。 <br  />
该方法需要在相机启动后调用，例如调用 startPreview 或 joinChannel 后。 </p>
<dl class="section note"><dt>注解</dt><dd>纯音频 SDK 禁用该接口，如需使用请前往云信官网下载并替换成视频 SDK。 </dd></dl>
<dl class="section since"><dt>自从</dt><dd>V4.6.10 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">position</td><td>摄像头类型。详细信息请参考 <code><a class="el" href="_n_e_rtc_engine_enum_8h.html#a9b4b9ab2e701721157757c75333f2958">NERtcCameraPosition</a></code>。该参数为必填参数，若未赋值，SDK 会报错。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0：方法调用成功。</li>
<li>其他：方法调用失败。  </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a7b4c6f620915b220f079b874024fd3c2" name="a7b4c6f620915b220f079b874024fd3c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b4c6f620915b220f079b874024fd3c2">&#9670;&#160;</a></span>takeLocalSnapshot:callback:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) takeLocalSnapshot: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a>)</td>          <td class="paramname"><span class="paramname"><em>streamType</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">callback:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_i_n_e_rtc_engine_8h.html#a4d01dc68f1e86926b02ab167122e4fb1">NERtcTakeSnapshotCallback</a>)</td>          <td class="paramname"><span class="paramname"><em>callback</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>本地视频画面截图。 <br  />
调用 takeLocalSnapshot 截取本地主流或本地辅流的视频画面，并通过 NERtcTakeSnapshotCallback 的回调返回截图画面的数据。 </p>
<dl class="section note"><dt>注解</dt><dd><br  />
<ul>
<li>本地主流截图，需要在 enableLocalVideo 并 joinChannel 成功之后调用。</li>
<li>本地辅流截图，需要在 joinChannel 并 startScreenCapture 之后调用。</li>
<li>同时设置文字、时间戳或图片水印时，如果不同类型的水印位置有重叠，会按照图片、文本、时间戳的顺序进行图层覆盖。 </li>
</ul>
</dd></dl>
<dl class="section since"><dt>自从</dt><dd>V4.5.0 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">streamType</td><td>截图的视频流类型。支持设置为主流或辅流。 </td></tr>
    <tr><td class="paramname">callback</td><td>截图回调。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd>纯音频 SDK 禁用该接口，如需使用请前往云信官网下载并替换成视频 SDK。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd>操作返回值，成功则返回 0  </dd></dl>

</div>
</div>
<a id="ac62e3c837066f2c08146aadfb7938e15" name="ac62e3c837066f2c08146aadfb7938e15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac62e3c837066f2c08146aadfb7938e15">&#9670;&#160;</a></span>takeRemoteSnapshot:forUserID:callback:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) takeRemoteSnapshot: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_n_e_rtc_engine_enum_8h.html#acfea712a4ac06896174a67d88a9743e0">NERtcStreamChannelType</a>)</td>          <td class="paramname"><span class="paramname"><em>streamType</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">forUserID:</td>
          <td></td>
          <td class="paramtype">(uint64_t)</td>          <td class="paramname"><span class="paramname"><em>userID</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">callback:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_i_n_e_rtc_engine_8h.html#a4d01dc68f1e86926b02ab167122e4fb1">NERtcTakeSnapshotCallback</a>)</td>          <td class="paramname"><span class="paramname"><em>callback</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>远端视频画面截图。 <br  />
调用 takeRemoteSnapshot 截取指定 uid 远端主流和远端辅流的视频画面，并通过 NERtcTakeSnapshotCallback 的回调返回截图画面的数据。 </p>
<dl class="section note"><dt>注解</dt><dd><br  />
<ul>
<li>takeRemoteSnapshot 需要在收到 onUserVideoStart 与 onNERtcEngineUserSubStreamDidStartWithUserID 回调之后调用。</li>
<li>同时设置文字、时间戳或图片水印时，如果不同类型的水印位置有重叠，会按照图片、文本、时间戳的顺序进行图层覆盖。 </li>
</ul>
</dd></dl>
<dl class="section since"><dt>自从</dt><dd>V4.5.0 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">userID</td><td>远端用户 ID。 </td></tr>
    <tr><td class="paramname">streamType</td><td>截图的视频流类型。支持设置为主流或辅流。 </td></tr>
    <tr><td class="paramname">callback</td><td>截图回调。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd>纯音频 SDK 禁用该接口，如需使用请前往云信官网下载并替换成视频 SDK。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd>操作返回值，成功则返回 0  </dd></dl>

</div>
</div>
<a id="a843881c7f07facd6b485286d0089aaf6" name="a843881c7f07facd6b485286d0089aaf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a843881c7f07facd6b485286d0089aaf6">&#9670;&#160;</a></span>updateChannelMediaRelay:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) updateChannelMediaRelay: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_e_rtc_channel_media_relay_configuration.html">NERtcChannelMediaRelayConfiguration</a> *_Nonnull)</td>          <td class="paramname"><span class="paramname"><em>config</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>更新媒体流转发的目标房间。 <br  />
成功开始跨房间转发媒体流后，如果您希望将流转发到多个目标房间，或退出当前的转发房间，可以调用该方法。 </p>
<ul>
<li>成功开始跨房间转发媒体流后，如果您需要修改目标房间，例如添加或删减目标房间等，可以调用此方法。</li>
<li>成功调用此方法后，SDK 会触发 onNERtcEngineChannelMediaRelayStateDidChange 回调。如果报告 NERtcChannelMediaRelayStateRunning，则表示已成功转发媒体流。 </li>
</ul>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>请在加入房间并成功调用 startChannelMediaRelay 开始跨房间媒体流转发后，调用此方法。调用此方法前需要通过 config 中的 setDestinationInfo 设置目标房间。</li>
<li>跨房间媒体流转发最多支持 4 个目标房间，您可以在调用该方法之前，通过 <a class="el" href="interface_n_e_rtc_channel_media_relay_configuration.html">NERtcChannelMediaRelayConfiguration</a> 中的 removeDestinationInfoForChannelName 方法移除不需要的房间，再添加新的目标房间。 </li>
</ul>
</dd></dl>
<dl class="section since"><dt>自从</dt><dd>V4.5.0 </dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>跨房间媒体流转发参数配置信息。详细信息请参考 <code><a class="el" href="interface_n_e_rtc_channel_media_relay_configuration.html">NERtcChannelMediaRelayConfiguration</a></code>。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功返回 0，其他则失败  </dd></dl>

</div>
</div>
<a id="aa1ed5a03012dcd13429037bd66b47daa" name="aa1ed5a03012dcd13429037bd66b47daa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1ed5a03012dcd13429037bd66b47daa">&#9670;&#160;</a></span>updateLiveStreamTask:compeltion:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) updateLiveStreamTask: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_e_rtc_live_stream_task_info.html">NERtcLiveStreamTaskInfo</a> *)</td>          <td class="paramname"><span class="paramname"><em>taskInfo</em></span></td>
        </tr>
        <tr>
          <td class="paramkey">compeltion:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_i_n_e_rtc_engine_8h.html#acd79d936d207e0d7da5575e4b447038a">NERtcLiveStreamCompletion</a>)</td>          <td class="paramname"><span class="paramname"><em>completion</em></span>&#160;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>更新房间内指定推流任务。 通过此接口可以实现调整指定推流任务的编码参数、画布布局、推流模式等。 </p>
<dl class="section since"><dt>自从</dt><dd>V3.5.0 </dd></dl>
<dl class="section user"><dt>使用前提</dt><dd>请先调用 <code><a class="el" href="#a56f05e7d58d94f3fba13f7c62ee4d1f3">INERtcChannel#addLiveStreamTask:compeltion:</a></code> 方法添加推流任务。 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化之后调用此接口，且该方法仅可在加入房间后调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd>仅角色为主播的房间成员能调用此接口，观众成员无相关推流权限。 </dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>taskInfo </td><td><a class="el" href="interface_n_e_rtc_live_stream_task_info.html" title="直播推流任务的配置。">NERtcLiveStreamTaskInfo</a> * </td><td>推流任务信息。详细信息请参考 {@ <a class="el" href="interface_n_e_rtc_live_stream_task_info.html" title="直播推流任务的配置。">NERtcLiveStreamTaskInfo</a>}。  </td></tr>
<tr>
<td>compeltion </td><td><code><a class="el" href="_i_n_e_rtc_engine_8h.html#acd79d936d207e0d7da5575e4b447038a">NERtcLiveStreamCompletion</a></code>  </td><td>操作结果回调，方法调用成功后会触发对应的 <code><a class="el" href="protocol_n_e_rtc_engine_live_stream_observer-p.html#a514894a72b79a7f2b3ba5590310a770b">NERtcEngineLiveStreamObserver#onNERTCEngineLiveStreamState:taskID:url:</a></code> 回调。  </td></tr>
</table>
</dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line">[channel updateLiveStreamTask:info compeltion:^(NSString * _Nonnull taskId, <a class="code hl_enumeration" href="_n_e_rtc_engine_error_code_8h.html#a6248a12ea68e068ca62ea149eea2eacd">kNERtcLiveStreamError</a> errorCode){</div>
<div class="line">    }];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关回调</dt><dd>调用此接口成功后会触发 <code><a class="el" href="protocol_n_e_rtc_engine_live_stream_observer-p.html#a514894a72b79a7f2b3ba5590310a770b">NERtcEngineLiveStreamObserver#onNERTCEngineLiveStreamState:taskID:url:</a></code> 回调，通知推流任务状态已更新。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0（kNERtcNoError）：方法调用成功；</li>
<li>其他：方法调用失败。<ul>
<li>403（kNERtcErrChannelReservePermissionDenied）：权限不足，观众模式下不支持此操作。</li>
<li>30003（kNERtcErrInvalidParam）： 参数错误，比如推流任务 ID 参数为空。</li>
<li>30005（kNERtcErrInvalidState）：状态错误，比如引擎尚未初始化。  </li>
</ul>
</li>
</ul>
</dd></dl>

</div>
</div>
<a id="ae4fd10850a06f9b6083b9f6990d7441f" name="ae4fd10850a06f9b6083b9f6990d7441f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4fd10850a06f9b6083b9f6990d7441f">&#9670;&#160;</a></span>updatePermissionKey:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) updatePermissionKey: </td>
          <td></td>
          <td class="paramtype">(NSString *)</td>          <td class="paramname"><span class="paramname"><em>key</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>更新权限密钥。 </p>
<ul>
<li>通过本接口可以实现当用户权限被变更，或者收到权限密钥即将过期的回调 <code><a class="el" href="protocol_n_e_rtc_channel_delegate-p.html#a7c2265b4bc9c968bb413c34da2c9a643">NERtcChannelDelegate#onNERtcChannelPermissionKeyWillExpire</a></code> 时，更新权限密钥。 <dl class="section since"><dt>自从</dt><dd>V4.6.29 </dd></dl>
<dl class="section user"><dt>使用前提</dt><dd>请确保已开通高级 Token 鉴权功能，具体请联系网易云信商务经理。 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化之后调用此接口，且该方法仅可在加入房间后调用。 </dd></dl>
<dl class="section user"><dt>业务场景</dt><dd>适用于变更指定用户加入、创建房间或上下麦时发布流相关权限的场景。 </dd></dl>
<dl class="section user"><dt>参数说明</dt><dd><table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>类型</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>key </td><td>NSString * </td><td>新的权限密钥。  </td></tr>
</table>
<br  />
 </dd></dl>
<dl class="section user"><dt>示例代码</dt><dd><div class="fragment"><div class="line"><span class="comment">//getPermToken 为获取高级密钥方法，由您自行实现，具体请参考官方文档的高级 Token 鉴权章节。&lt;/a&gt;</span></div>
<div class="line">NSString* token = [self getToken];</div>
<div class="line">[channel updatePermissionKey:token];</div>
</div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>相关回调</dt><dd>调用此接口成功更新权限密钥后会触发 <code><a class="el" href="protocol_n_e_rtc_channel_delegate-p.html#a97e97607f5e02a17e74693a389f3554d">NERtcChannelDelegate#onNERtcChannelUpdatePermissionKey:error:timeout:</a></code> 回调。 </dd></dl>
<dl class="section return"><dt>返回</dt><dd></dd></dl>
</li>
<li>0（kNERtcNoError）：方法调用成功。</li>
<li>其他：方法调用失败。<ul>
<li>30001（kNERtcErrFatal)：通用错误，比如引擎尚未初始化。  </li>
</ul>
</li>
</ul>

</div>
</div>
<a id="a2b333216ce41f6af09b9af142f023204" name="a2b333216ce41f6af09b9af142f023204"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b333216ce41f6af09b9af142f023204">&#9670;&#160;</a></span>updateSelfPosition:</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (int) updateSelfPosition: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_e_rtc_position_info.html">NERtcPositionInfo</a> *)</td>          <td class="paramname"><span class="paramname"><em>info</em></span></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置空间音效中说话者和接收者的空间位置信息。SDK 会根据该方法中的参数计算接收者和说话者之间的相对位置，进而渲染出空间音效。 </p>
<dl class="section since"><dt>自从</dt><dd>V5.4.0 </dd></dl>
<dl class="section user"><dt>调用时机</dt><dd>请在引擎初始化后调用此接口，且该方法在加入房间前后均可调用。 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>请先调用 <code><a class="el" href="#a233534f04be0101163fcd91c6461ebed">enableSpatializer:applyToTeam:</a></code> 接口后，再调用本接口。</li>
<li>调用 <code><a class="el" href="#a233534f04be0101163fcd91c6461ebed">enableSpatializer:applyToTeam:</a></code> 接口关闭空间音效后，空间位置信息会重置为默认值，您需要重新设置位置信息。 </li>
</ul>
</dd></dl>
<dl class="section user"><dt>参数说明</dt><dd>通过 info 参数设置空间音效中说话者和接收者的空间位置信息。#NERtcPositionInfo 的具体参数说明如下表所示。 <table class="doxtable">
<tr>
<th><b>参数名称</b> </th><th><b>描述</b>  </th></tr>
<tr>
<td>speaker_position </td><td>说话者的位置信息，三个值依次表示 X、Y、Z 的坐标值。默认值{0,0,0}   </td></tr>
<tr>
<td>speaker_quaternion </td><td>说话者的旋转信息，通过四元组来表示，数据格式为{w, x, y, z}。默认值{0,0,0,0}   </td></tr>
<tr>
<td>head_position </td><td>接收者的位置信息，三个值依次表示 X、Y、Z 的坐标值。默认值{0,0,0}   </td></tr>
<tr>
<td>head_quaternion </td><td>接收者的旋转信息，通过四元组来表示，数据格式为{w, x, y, z}。默认值{0,0,0,0}  </td></tr>
</table>
</dd></dl>
<dl class="section return"><dt>返回</dt><dd><ul>
<li>0: 方法调用成功</li>
<li>其他: 调用失败 </li>
</ul>
</dd></dl>

</div>
</div>
<hr/>该协议的文档由以下文件生成:<ul>
<li>include/<a class="el" href="_i_n_e_rtc_channel_8h_source.html">INERtcChannel.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
