<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>react-native-nertc</title><meta name="description" content="Documentation for react-native-nertc"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">react-native-nertc</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1> react-native-nertc </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography"><p>NeRTC SDK for React Native</p>

<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
  <h2>Installation</h2>
</a>
<pre><code class="language-sh"><span class="hl-0">npm install react-native-nertc</span>
</code></pre>

<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
  <h2>Usage</h2>
</a>
<pre><code class="language-js"><span class="hl-1">import</span><span class="hl-0"> </span><span class="hl-2">NERTC</span><span class="hl-0"> </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&quot;react-native-nertc&quot;</span><span class="hl-0">;</span><br/><br/><span class="hl-4">// 初始化引擎</span><br/><span class="hl-5">NERTC</span><span class="hl-0">.</span><span class="hl-6">setupEngineWithContext</span><span class="hl-0">({</span><br/><span class="hl-0">  </span><span class="hl-2">appKey:</span><span class="hl-0"> </span><span class="hl-3">&#39;your appKey&#39;</span><span class="hl-0">, </span><span class="hl-4">// appKey</span><br/><span class="hl-0">  </span><span class="hl-2">logDir:</span><span class="hl-0"> </span><span class="hl-3">&#39;&#39;</span><span class="hl-0">, </span><span class="hl-4">// 日志路径</span><br/><span class="hl-0">  </span><span class="hl-2">logLevel:</span><span class="hl-0"> </span><span class="hl-7">3</span><span class="hl-0">, </span><span class="hl-4">// 日志级别</span><br/><span class="hl-0">})</span><br/><br/><span class="hl-4">// 加入聊天室</span><br/><span class="hl-5">NERTC</span><span class="hl-0">.</span><span class="hl-6">joinChannel</span><span class="hl-0">({</span><br/><span class="hl-0">  </span><span class="hl-2">token:</span><span class="hl-0"> </span><span class="hl-3">&#39;&#39;</span><span class="hl-0">, </span><span class="hl-4">// 用户 token</span><br/><span class="hl-0">  </span><span class="hl-2">channelName:</span><span class="hl-0"> </span><span class="hl-3">&#39;&#39;</span><span class="hl-0"> </span><span class="hl-4">// 聊天室房间号 string,</span><br/><span class="hl-0">  </span><span class="hl-2">myUid</span><span class="hl-0">: </span><span class="hl-2">uid</span><span class="hl-0">, </span><span class="hl-4">// 用户 uid</span><br/><span class="hl-0">})</span><br/><br/><span class="hl-4">// 添加回调 </span><br/><span class="hl-4">//event 为事件名</span><br/><span class="hl-5">NERTC</span><span class="hl-0">.</span><span class="hl-6">addListener</span><span class="hl-0">(</span><span class="hl-3">&#39;event&#39;</span><span class="hl-0">, (</span><span class="hl-2">res</span><span class="hl-0">) </span><span class="hl-8">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-3">&#39;response: &#39;</span><span class="hl-0">, </span><span class="hl-2">res</span><span class="hl-0">)</span><br/><span class="hl-0">})</span><br/><br/><span class="hl-4">//...</span>
</code></pre>

<a href="#token" id="token" style="color: inherit; text-decoration: none;">
  <h2>token</h2>
</a>
<p>已获取的 NERTC Token</p>
<p>安全模式下必须设置为获取到的 Token 。若未传入正确的 Token 将无法进入房间。推荐使用安全模式。
调试模式下可设置为 null。安全性不高，建议在产品正式上线前在云信控制台中将鉴权方式恢复为默认的安全模式。</p>
<p>token 获取参考： <a href="https://doc.yunxin.163.com/docs/jcyOTA0ODM/TQ0MTI2ODQ?platformId=50002"> token 获取 </a></p>

<a href="#可用接口列表" id="可用接口列表" style="color: inherit; text-decoration: none;">
  <h2>可用接口列表</h2>
</a>
<table>
<thead>
<tr>
<th>Api 列表</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><a href="classes/index.NERTC.html#setupEngineWithContext">setupEngineWithContext</a></td>
<td>初始化 SDK 引擎</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#destroyEngine">destroyEngine</a></td>
<td>销毁 SDK 引擎</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#joinChannel">joinChannel</a></td>
<td>加入音视频房间</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#leaveChannel">leaveChannel</a></td>
<td>离开音视频房间</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#setupLocalVideoCanvas">setupLocalVideoCanvas</a></td>
<td>设置本地视图</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#setupRemoteVideoCanvas">setupRemoteVideoCanvas</a></td>
<td>设置远端用户视图</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#startPreview">startPreview</a></td>
<td>开启视频预览</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#stopPreview">stopPreview</a></td>
<td>停止视频预览</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#setLocalVideoConfig">setLocalVideoConfig</a></td>
<td>设置视频编码属性</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#setLoudspeakerMode">setLoudspeakerMode</a></td>
<td>开启/关闭扬声器</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#enableLocalVideo">enableLocalVideo</a></td>
<td>是否开启本地视频采集</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#enableLocalAudio">enableLocalAudio</a></td>
<td>是否开启本地音频采集</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#muteLocalVideo">muteLocalVideo</a></td>
<td>开关本地视频发送</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#muteLocalAudio">muteLocalAudio</a></td>
<td>开关本地音频发送</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#switchCamera">switchCamera</a></td>
<td>切换摄像头</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#startScreenCapture">startScreenCapture</a></td>
<td>开启屏幕捕捉</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#stopScreenCapture">stopScreenCapture</a></td>
<td>关闭屏幕捕捉</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#setExternalVideoSource">setExternalVideoSource</a></td>
<td>开启/关闭外部视频辅流</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#subscribeRemoteVideo">subscribeRemoteVideo</a></td>
<td>取消或恢复订阅指定远端用户视频流</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#subscribeRemoteSubStreamVideo">subscribeRemoteSubStreamVideo</a></td>
<td>取消或恢复订阅指定远端用户音频辅流</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#setupLocalSubStreamVideoCanvas">setupLocalSubStreamVideoCanvas</a></td>
<td>设置本地辅图</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#setupRemoteSubStreamVideoCanvas">setupRemoteSubStreamVideoCanvas</a></td>
<td>设置远端辅图</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#enableAudioVolumeIndication">enableAudioVolumeIndication</a></td>
<td>启用说话者音量提示</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#addListener">addListener</a></td>
<td>添加回调</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#removeListener">removeListener</a></td>
<td>移除回调</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#removeAllListeners">removeAllListeners</a></td>
<td>清除全部回调</td>
</tr>
<tr>
<td><a href="classes/index.NERTC.html#setStatsObserver">setStatsObserver</a></td>
<td>开启统计信息回调</td>
</tr>
</tbody></table>
<p>接口参数可参考 typings 中的接口定义</p>

<a href="#可用回调" id="可用回调" style="color: inherit; text-decoration: none;">
  <h2>可用回调</h2>
</a>
<table>
<thead>
<tr>
<th>可用回调</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><a href="interfaces/typings.NERtcEvents.html#onError">onError</a></td>
<td>引擎异常</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onWarning">onWarning</a></td>
<td>警告</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onJoinChannel">onJoinChannel</a></td>
<td>加入房间</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onRejoinChannel">onRejoinChannel</a></td>
<td>断线后重新加入房间</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onLeaveChannel">onLeaveChannel</a></td>
<td>离开房间</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onUserJoin">onUserJoin</a></td>
<td>有用户加入房间</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onUserLeave">onUserLeave</a></td>
<td>有用户离开房间</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onConnectionStateChanged">onConnectionStateChanged</a></td>
<td>网络连接状态变更</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onDisconnect">onDisconnect</a></td>
<td>断开连接</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onConnectionTypeChanged">onConnectionTypeChanged</a></td>
<td>网络连接类型变更</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onUserVideoStart">onUserVideoStart</a></td>
<td>远端用户开启视频</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onUserVideoStop">onUserVideoStop</a></td>
<td>远端用户关闭视频回</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onUserAudioStart">onUserAudioStart</a></td>
<td>远端用户开启音频</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onUserAudioStop">onUserAudioStop</a></td>
<td>远端用户关闭音频</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onUserSubStreamVideoStart">onUserSubStreamVideoStart</a></td>
<td>远端用户开启辅流</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onUserSubStreamVideoStop">onUserSubStreamVideoStop</a></td>
<td>远端用户关闭辅流</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onLocalAudioStats">onLocalAudioStats</a></td>
<td>本地音频状态统计信息</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onLocalVideoStats">onLocalVideoStats</a></td>
<td>本地视频状态统计信息</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onLocalAudioVolumeIndication">onLocalAudioVolumeIndication</a></td>
<td>本地音频音量变化</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onRemoteAudioVolumeIndication">onRemoteAudioVolumeIndication</a></td>
<td>远端用户音频音量变化</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onRemoteAudioStats">onRemoteAudioStats</a></td>
<td>远端用户音频状态统计信息</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onRemoteVideoStats">onRemoteVideoStats</a></td>
<td>远端用户视频状态统计信息</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onNetworkQuality">onNetworkQuality</a></td>
<td>网络质量统计信息</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onAudioDeviceChanged">onAudioDeviceChanged</a></td>
<td>音频设备改变</td>
</tr>
<tr>
<td><a href="interfaces/typings.NERtcEvents.html#onAudioDeviceStateChange">onAudioDeviceStateChange</a></td>
<td>音频设备状态改变</td>
</tr>
</tbody></table>
<p>回调参数可参考 typings 中的 NERtcEvents </p>

<a href="#license" id="license" style="color: inherit; text-decoration: none;">
  <h2>License</h2>
</a>
<p>ISC</p>
<hr>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="modules/index.html">index</a></li><li class=" tsd-kind-module"><a href="modules/typings.html">typings</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>